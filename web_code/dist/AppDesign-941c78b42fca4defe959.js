(window["webpackJsonp_/@project/web_code"]=window["webpackJsonp_/@project/web_code"]||[]).push([[58],{"++OK":function(e,t,a){"use strict";a.r(t);var n=a("/g35"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"+2xR":function(e,t,a){var n=a("/a0g");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9cabee4a",n,!0,{})},"+3+e":function(e,t,a){"use strict";a("68Eg")},"+9Pu":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("ODXe")),s=n(a("KQm4")),c=n(a("Ze3F")),u=n(a("c7JL")),d=a("xBdn"),p=n(a("YLtl")),f=n(a("slWK")),v=a("a+hW"),m=a("fZI4"),h=n(a("oRZJ")),b=a("7Qib"),g=a("7C5+");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k="使用“#{参数名}”格式进行参数取值（系统自动进行非空判断），示例SQL：<br>\nselect id,name,age,sex,create_time from user <br>\nwhere id=#{id} and name=#{name} and age=#age",C="使用freemarker模板语法进行参数非空判断和取值，示例SQL：<br>\nselect id,name,age,sex,create_time from user <br>\nwhere 1=1 <br>\n<#if id??> and id=${id}</#if> <br>\n<#if id??> and name='${name}'</#if> <br>\n<#if id??> and age=${age}</#if>",O={name:"SqlConfig",inject:(0,s.default)(g.pageInject),components:{SqlCode:u.default,SqlDataSelect:c.default},mixins:[h.default],props:{sqlRequest:{type:Object,required:!0,default:function(){return{sql:"",type:2,sqlType:1,sqlData:void 0,dataSourceId:void 0,select:!1,sqlParamsData:[{key:"",value:void 0,test:void 0}]}}},callbackId:{type:String},onlySelect:{type:Boolean,default:!1},emitEvent:{type:Object,required:!1}},data:function(){return{sqlTemplate1:k,sqlTemplate2:C,loading:!1,activeCollapse:["config"],rules:{sql:(0,d.getValidators)([{message:"请输入SQL",include:d.required,trigger:"change"}])},variableRowDetail:null,editorFocus:!1}},computed:{dynamicProps:function(){return this.getStore().dynamicProps},sqlTemplate:function(){return this.sqlRequest.sql||this.editorFocus?"":1===this.sqlRequest.sqlType?k:C},sqlParamsData:function(){return this.sqlRequest.sqlParamsData},dynamicHints:function(){return this.sqlParamsData.map((function(e){return"#{".concat(e.key,"}")}))},paramsSource:{get:function(){return{sqlParamsData:Object.fromEntries(this.sqlRequest.sqlParamsData.map((function(e){return[[e.key],e.value]})))}},set:function(e){this.sqlRequest.sqlParamsData=Object.entries(e).map((function(e){var t=(0,r.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:(0,b.isValidateVariable)(n)?void 0:JSON.parse(JSON.stringify(void 0===n?null:n,(function(e,t){return(0,b.isValidateVariable)(t)?null:t})))}}))}}},watch:{sqlRequest:{handler:function(e,t){p.default.isEqual(e,t)||this.$emit("update:sqlRequest",_(_({},e),{},{select:this.onlySelect,sqlParamsData:e.sqlParamsData.map((function(e){return _(_({},e),{},{value:e.value,test:e.test})}))}))},deep:!0,immediate:!0}},methods:{focusChange:function(e){this.editorFocus=e},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId,emitEvent:this.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleAddParams:function(){this.sqlRequest.sqlParamsData.push({key:"",value:void 0,test:void 0})},handleDeleteParams:function(e){var t=this.sqlRequest.sqlParamsData;if(1===t.length)return t[0].key="",t[0].value=void 0,void(t[0].test=void 0);t.splice(e,1)},getParams:function(){var e=this.sqlRequest,t=e.sql,a=e.dataSourceId,n=e.sqlParamsData,i=e.sqlType,l=e.select,o=[{key:"params",value:Object.fromEntries(n.filter((function(e){return e.key})).map((function(e){return[e.key,e.value]}))),test:Object.fromEntries(n.filter((function(e){return e.key})).map((function(e){return[e.key,e.test]})))}];return{url:1===i?f.default.pageDataExecuteDynamicSQL:f.default.pageDataExecuteTemplateSQL,data:_(_({},Object.fromEntries(o.map((function(e){return[e.key,e.test]})))),{},{sql:(0,m.encryptByDES)(t),dataSourceId:a,select:l})}},handleFetch:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(e.sqlRequest.dataSourceId){t.next=4;break}return t.abrupt("return",e.$message.error("请选择数据集"));case 4:if(e.sqlRequest.sql){t.next=6;break}return t.abrupt("return",e.$message.error("请输入sql"));case 6:e.$emit("response",{response:null,responseOptions:[]}),a=e.getParams(),e.loading=!0,e.$http({url:a.url,data:a.data}).then((function(t){e.$emit("response",{response:t,responseOptions:(0,v.getObjectTree)(t)})})).finally((function(){e.loading=!1}));case 10:case"end":return t.stop()}}),t)})))()},handleShowSqlDataSelect:function(){this.$refs.sqlDataSelect.open()},handleSqlDataConfirm:function(e){this.sqlRequest.sqlData=e,this.sqlRequest.dataSourceId=e.id}}};t.default=O},"+MoL":function(e,t,a){"use strict";a("5IJH")},"+Y3R":function(e,t,a){"use strict";a("a1/k")},"+fn/":function(e,t,a){},"+kLs":function(e,t,a){"use strict";a.r(t);var n=a("zXB3"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"+kz7":function(e,t,a){"use strict";a.r(t);var n=a("tt+d"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"+l95":function(e,t,a){},"+lJx":function(e,t,a){var n=a("dAg2");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("226e19a5",n,!0,{})},"+phg":function(e,t,a){"use strict";a.r(t);var n=a("kHT/"),i=a("tvTw");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("UxLn");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"75e9824b",null);t.default=r.exports},"+yMm":function(e,t,a){},"/C89":function(e,t,a){},"/CyZ":function(e,t,a){},"/JV7":function(e,t,a){"use strict";a.r(t);var n=a("KM4L"),i=a("w1RG");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ygUX");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"32eaa60b",null);t.default=r.exports},"/Twp":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("Ff2n")),o=n(a("o0o1")),r=n(a("rePB")),s=n(a("ODXe")),c=n(a("HaE+")),u=n(a("2VVP")),d=["key","value"];function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={components:{},props:{type:{type:String,require:!0},data:{type:Object,require:!0},currentProps:{type:Object,require:!0},xField:{type:Array,require:!0},yField:{type:Array,require:!0}},data:function(){return{chartInstance:null}},created:function(){this.init()},mounted:function(){},methods:{init:function(){var e=this;return(0,c.default)(o.default.mark((function t(){var a,n,i,l,r,c;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(null===(a=e.chartInstance)||void 0===a||a.dispose(),u.default.instance){t.next=6;break}return t.next=6,u.default.init();case 6:if(e.chartInstance=u.default.instance.init(e.$refs.chart),n=e.getOption(),"horizontal"===e.currentProps.type&&(n.xAxis.type="value",n.yAxis.type="category"),n.dataset)try{i=n.dataset,l=(0,s.default)(i.dimensions,1),r=l[0],c=(0,s.default)(i.source,1),"number"==typeof c[0][r]&&(n.xAxis.type="value")}catch(e){console.log(e)}e.chartInstance.setOption(n);case 11:case"end":return t.stop()}}),t)})))()},getOption:function(){var e=this.data,t=this.type,a=(0,s.default)(this.xField,1)[0],n=(a=void 0===a?{}:a).key,o=this.yField,c=this.currentProps,u=c.dataType,p=c.dynamicVariables;if("dynamic"===u){var v,m;p.forEach((function(e){switch(e.key){case"legendName":v=e.path[e.path.length-1];break;case"legendData":m=e.path[e.path.length-1]}})),n="lowCode_xAxisFiledKey";var h=[];e.forEach((function(t){var a=t[v];if(a){var i=o.find((function(e){return e.key===a}))||{};h.push(f(f({},i),{},{key:a,value:i.value||a}));var l=0;for(var r in t[m]){var s=t[m][r];e[l]=e[l]||{},s instanceof Array?(e[l][n]=s[0],e[l][a]=s[1]):(e[l][n]=r,e[l][a]=s),l++}}})),o=h}var b=["line","bar","scatter"].includes(t),g={xAxis:b?{name:"X轴",type:"category",axisLine:{show:!0},axisTick:{show:!0},splitLine:{show:!0}}:void 0,yAxis:b?{name:"Y轴",type:"value",axisLine:{show:!0},axisTick:{show:!0},splitLine:{show:!0}}:void 0,series:o.map((function(e){return f(f({},e),{},{type:e.type||t})})),legend:{show:!0}};if(["gauge"].includes(t))e.length&&(g.series[0].data=o.map((function(t){return{name:t.value,value:e[0][t.key]}})));else if(["scatter"].includes(t))e[0]&&"number"==typeof e[0][n]&&(g.xAxis.type="value"),g.series=g.series.map((function(t,a){var i=o[a],l=i.key,r=i.value;return f(f({},t),{},{name:r||l,data:null==e?void 0:e.slice(0,20).map((function(e){return[e[n],e[l]]}))})}));else if(["radar"].includes(t))g.series=[{data:o.map((function(t){var a=t.key,n=t.value,i=(0,l.default)(t,d);return f({value:e.map((function(e){return e[a]})),name:n||a},i)})),type:t}],g.radar={indicator:this.xField.map((function(e){var t=e.name,a=e.max,n={name:t};return e.useMax&&(n.max=a),n}))};else{var y;g.dataset={dimensions:[n].concat((0,i.default)(o.map((function(e){return e.value||e.key})))),source:null==e||null===(y=e.slice(0,20))||void 0===y?void 0:y.map((function(e){var t=f(f({},e),{},(0,r.default)({},n,e[n]));return o.forEach((function(a){t[a.value||a.key]=e[a.key]})),t}))}}return g}},computed:{watchField:function(){return{data:this.data,xField:this.xField,yField:this.yField}}},watch:{watchField:{deep:!0,handler:function(){this.init()}}}};t.default=v},"/XXx":function(e,t,a){"use strict";a("9Cvh")},"/a0g":function(e,t,a){},"/g35":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=a("ZDQs");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},chartType:function(){return l.chartType[this.elementProps.elementType]},linBarType:function(){return["line","bar","scatter"].includes(this.chartType)},isChecked:function(){return!!Object.keys(this.value).length}},methods:{switchChange:function(e){this.value=e?{saveAsImage:!0,dataView:!0,magicType:!!this.linBarType,dataZoom:!!this.linBarType,restore:!0,orient:"horizontal"}:{}}},mounted:function(){}};t.default=s},"/j+3":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.name))]),e._v(" "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),e.value?a("div",{staticClass:"formatter-item"},[a("el-button",{attrs:{type:"text"},on:{click:e.handleShowFormat}},[e._v("重新编辑")]),e._v(" "),a("i",{staticClass:"iconfont el-icon-delete",staticStyle:{"margin-left":"10px"},on:{click:function(t){e.value=void 0}}})],1):a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleShowFormat}},[e._v("配置")]),e._v(" "),a("FormatCode",{ref:"formatCode",on:{confirm:e.handleFormatterConfirm}})],2)},i=[]},"/jrh":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={autoComplete:{on:"on",off:"off"}}},"/kgZ":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=a("8SHQ");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String,default:"showTrigger"}},data:function(){return{formatTips:l.formatTips,useFormat:!1}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},isChecked:function(){return!!this.value}},watch:{"value.formatter":function(e){this.useFormat=!!e}},methods:{switchChange:function(e){this.value=!!e&&{trigger:"item",formatter:""}},formatChange:function(){this.value.formatter=""}},mounted:function(){}};t.default=s},"/oe6":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("rePB")),o=n(a("Ff2n")),r=n(a("HaE+")),s=n(a("KQm4")),c=n(a("pKu3")),u=n(a("E0s0"));a("uD/U");var d=n(a("YLtl")),p=a("xBdn"),f=a("0O+R"),v=a("cCei"),m=a("mtVH"),h=n(a("slWK")),b=a("a+hW"),g=n(a("Mqf6")),y=a("7Qib"),_=a("ZDQs"),k=a("7C5+"),C=["children"];function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x={name:"TableData",components:{VueJsonPretty:u.default,DataSetConfig:c.default},inject:["dndOptions"].concat((0,s.default)(k.pageInject)),mixins:[g.default],data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","column"],dialogVisible:!1,dataColumn:void 0,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,selectedPath:void 0,responseOptions:[],response:void 0,dataListKeys:[],jsonLoading:!1,tableLoading:!1,activeDataType:""}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,f.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)},currentProps:function(){return this.getElementPropsById(this.dndOptions.selectedId)}},methods:{open:function(e){var t=this,a=e.dataColumn,n=e.dataVariables,i=e.apiRequest,l=e.sqlRequest,o=e.staticData;this.dataColumn=a?d.default.cloneDeep(a):[],this.dataVariables=n?d.default.cloneDeep(n):[],this.staticData=d.default.cloneDeep(o)||void 0,this.apiRequest=d.default.cloneDeep(i)||void 0,this.sqlRequest=d.default.cloneDeep(l)||void 0,this.response=null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleGenerateTableData:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a,n,l,r,c,u,p,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dataColumn:e.dataColumn,dataVariables:e.dataVariables,apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},n=e.currentElement.children.filter((function(t){return["slot"].includes(t.elementType)&&["data"].includes(e.getElementPropsById(t.elementId).slotType)})),l=n.map((function(t){return e.getElementPropsById(t.elementId).slotName})),r=e.dataColumn.map((function(e){return e.key})),c=l.filter((function(e){return!r.includes(e)})),u=n.filter((function(t){return c.includes(e.getElementPropsById(t.elementId).slotName)})).map((function(e){return e.elementId})),t.next=8,e._storeDispatch(v.DELETE_LAYOUT_DATA,{elementIdList:u});case 8:return p=[],h=[],e.dataColumn.forEach((function(t){var a=t.key;if(!l.includes(a)&&t.isUseSlot){var n={elementId:"",elementType:"slot",elementVersion:(0,m.getLastVersion)("slot"),elementName:t.label,defaultProps:{slotName:a,slotType:"data",canDropInsideTypes:["text","tag","href","button"]},children:[{elementId:"",elementType:"text",elementVersion:(0,m.getLastVersion)("text"),elementName:"文本",children:[],defaultProps:{useSlotProps:!0,prop:a}}]},i=f.getResetIdWidget.call(e,n);f.treeUtil.forEach([i],(function(t){t.children;var a=(0,o.default)(t,C),n=w(w({},a),a.defaultProps||{});_.defaultKeys.forEach((function(t){e.$delete(n,t)})),p.push({elementId:a.elementId,props:d.default.cloneDeep(n)}),_.defaultKeys.forEach((function(a){e.$delete(t,a)}))})),h.push(i)}else l.includes(a)&&(t.isUseSlot=!0)})),e._storeCommit(v.INIT_DYNAMIC_PROPS,{dynamicPropsList:p}),e._storeCommit(v.UPDATE_LAYOUT_DATA,{elementId:e.currentElement.elementId,layout:{children:[].concat((0,s.default)(e.currentElement.children),h)}}),t.abrupt("return",Promise.resolve(a));case 14:case"end":return t.stop()}}),t)})))()},confirm:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a,n,l,o,r,s,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.$refs.dataSetConfig.getResult(),l=n.apiRequest,o=n.sqlRequest,r=n.staticData,e.apiRequest=l,e.sqlRequest=o,e.staticData=r,e.loading=!0,t.next=7,(0,y.sleep)(10);case 7:if((s=null===(a=e.dataVariables.find((function(e){return"dataList"===e.key})))||void 0===a?void 0:a.path).length||"static"===e.activeDataType){t.next=12;break}return e.$message.error("请配置变量映射 > 表格数据的数据路径！"),e.loading=!1,t.abrupt("return");case 12:return e.handleSaveConfigTemp(s),t.next=15,e.handleGenerateTableData();case 15:c=t.sent,e.loading=!1,e.$emit("confirm",c),e.dialogVisible=!1;case 19:case"end":return t.stop()}}),t)})))()},handleDataListPathChange:function(e,t){if("dataList"===t){var a=(0,b.getPathString)(e);this.handleGenerateConfig(a)}},handleAutoGenerate:function(){if(this.response)if(this.selectedPath){this.jsonLoading=!0;var e=this.selectedPath.replace("response.",""),t=this.dataVariables.find((function(e){return"dataList"===e.key})),a=(0,b.getPathList)(e),n=a.slice(0,a.length-1),i=d.default.get(this.response,n)||{};this.dataVariables=this.dataVariables.map((function(e){if(void 0!==i[e.key])return w(w({},e),{},{path:n.concat(e.key)});if(!0==("totalCount"===e.key)){if(void 0!==i.rowCount)return w(w({},e),{},{path:n.concat("rowCount")});if(void 0!==i.total)return w(w({},e),{},{path:n.concat("total")})}return e})),t&&(t.path=a),this.handleGenerateConfig(e)}else this.$message.error("请用鼠标点击下方数据区域选择一个数据字段");else this.$message.error("请点击测试按钮请求响应体数据或手动输入响应体数据")},handleGenerateConfig:function(e){var t=this;return(0,r.default)(i.default.mark((function a(){var n,l,o;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=d.default.get(t.response,e),a.t0=!0,a.next=a.t0===("string"==typeof n)?4:a.t0===(Array.isArray(n)&&d.default.isObject(n[0]))?6:8;break;case 4:if((0,p.isValidJsonString)(n))try{l=JSON.parse(n.trim())[0]}catch(e){console.log(e)}return a.abrupt("break",8);case 6:return l=n[0],a.abrupt("break",8);case 8:if(t.jsonLoading=!1,l){a.next=12;break}return t.$confirm("数据解析失败，请手动映射","提示",{showCancelButton:!1}),a.abrupt("return");case 12:if(o=(0,b.getPathList)(e),t.dataListKeys=Object.keys(l),!t.dataColumn.length){a.next=17;break}return a.next=17,t.$confirm("此操作将覆盖数据列映射的配置，是否继续？","提示");case 17:t.dataColumn=t.dataListKeys.map((function(e){return{label:"".concat(e),key:e,align:"left",width:void 0,minWidth:160,sortable:!1,isHidden:!1,isUseSlot:!1,path:[].concat((0,s.default)(o),["0",e]),formatter:void 0,fixed:void 0}}));case 18:case"end":return a.stop()}}),a)})))()},handleSaveConfigTemp:function(e){var t,a=e.length?d.default.get(this.response,e):this.response;switch(!0){case"string"==typeof a:if((0,p.isValidJsonString)(a))try{t=JSON.parse(a.trim())[0]}catch(e){console.log(e)}break;case Array.isArray(a)&&d.default.isObject(a[0]):t=a[0]}t&&this.$http({url:h.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.currentElement.elementId,".$currentRow"),value:JSON.stringify(t)||""}]}})},handleResponse:function(e){var t=e.response,a=e.responseOptions;e.isStatic?this.handleStaticResponse({response:t,responseOptions:a}):(this.response=t,this.responseOptions=a)},handleStaticResponse:function(e){var t=this;return(0,r.default)(i.default.mark((function a(){var n,l,o,r;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response,e.responseOptions,n){a.next=3;break}return a.abrupt("return");case 3:if(Array.isArray(n)){a.next=6;break}return t.$message.error('数据格式不正确, 需传入数组，且数组内每一项都为对象，如[{"name": "张三", "age": 28}]'),a.abrupt("return");case 6:if(l=n[0],d.default.isObject(l)){a.next=10;break}return t.$message.error('数据格式不正确, 需传入数组，且数组内每一项都为对象，如[{"name": "张三", "age": 28}]'),a.abrupt("return");case 10:if(!t.dataColumn.length){a.next=13;break}return a.next=13,t.$confirm("此操作将覆盖数据列映射的配置，是否继续？","提示");case 13:(o=t.dataVariables.find((function(e){return"dataList"===e.key})))&&(o.path=[],r=[],t.dataListKeys=Object.keys(l),t.dataColumn=t.dataListKeys.map((function(e){return{label:"".concat(e),key:e,align:"left",width:void 0,minWidth:160,sortable:!1,isHidden:!1,isUseSlot:!1,path:[].concat(r,["0",e]),formatter:void 0}}))),t.staticData=d.default.cloneDeep(n);case 16:case"end":return a.stop()}}),a)})))()},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,b.getObjectTree)(e)},handleClearResponse:function(){this.response=null,this.responseOptions=[]},handleDrop:function(e){var t=e.target.dataset,a=t.id,n=t.key;if(a){var i=this.dataColumn.find((function(e){return e.key===a})),l=(0,b.getPathList)(this.selectedPath);i.path=l.slice(1)}else if(n){var o=this.dataVariables.find((function(e){return e.key===n})),r=(0,b.getPathList)(this.selectedPath);o.path=r.slice(1)}},getTip:function(e){switch(e){case"dataList":return"表格数据字段，需传入的类型为对象数组，也可传入字符串，会尝试解析为对象数组\n建议使用右侧的一键映射数据列进行设置";case"totalCount":return"表格总行数字段，需传入数字类型"}},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=x},"/x3O":function(e,t,a){"use strict";a.r(t);var n=a("Eq3L"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"/ykW":function(e,t,a){"use strict";a("+lJx")},"031Z":function(e,t,a){"use strict";a("oUlI")},"05K7":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("slWK"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={name:"DataConfigSelect",components:{Pagination:n(a("Mz3J")).default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{pagination:{pagenum:1,pagesize:10},condition:{name:"",type:4,id:void 0}},typeList:[{label:"静态数据",value:1},{label:"动态SQL",value:2},{label:"模板SQL",value:3},{label:"网关API",value:4},{label:"自定义API",value:5},{label:"外部API",value:6},{label:"自动化运维操作",value:7},{label:"自动化运维编排",value:8},{label:"自动化运维调度",value:9}],dataList:[],selectedRow:null}},methods:{open:function(e){var t=e.data,a=e.type;this.selectedRow=t,this.queryForm.condition.type=this.getTypeNumber(a),this.queryForm.pagination.pagenum=1,a?this.handleSearch(!1):this.handleSearch(!0),this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?(this.$emit("confirm",this.selectedRow),this.dialogVisible=!1):this.$message.error("请选择数据源")},handleSearch:function(e){var t=this;this.loading=!0,e&&(this.queryForm={pagination:{pagenum:1,pagesize:10},condition:{name:"",type:4,id:void 0}}),this.$http({url:l.default.dataSetList,data:this.queryForm}).then((function(e){var a=e.data;t.totalCount=a.rowCount,t.dataList=a.records.map((function(e){return r(r({},e),{},{typeLabel:t.typeList.find((function(t){return t.value===e.type})).label})}))})).finally((function(){t.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch(!1)},getTypeNumber:function(e){switch(e){case"script":return 7;case"orchestration":return 8;case"sncflower":return 9;default:return e}}}};t.default=s},"05Qn":function(e,t,a){},"05aF":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.name))])]),e._v(" "),a("el-select",{attrs:{value:e.value,filterable:"",placeholder:"请选择"},on:{change:e.typeChange}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label+" ("+e.value+")",value:e.value}})})),1)],2),e._v(" "),e.value?[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("图表配置")]),e._v(" "),a("el-tooltip",{attrs:{content:"ANTV G2Plot 图表的配置, 详细配置请查阅文档 : \n"+e.documentUrl,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:e.chartConfigOpen}},[e._v("配置")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.jumpUrl}},[e._v("查看文档")]),e._v(" "),a("jsFormat",{ref:"jsFormat",attrs:{title:"图表配置",useType:"chartConfig"},on:{confirm:e.chartConfigConfirm}})],1)],2),e._v(" "),e.elementProps.chartConfigId?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("数据集")])]),e._v(" "),a("div",[e.dataInfo?a("div",{staticClass:"data-info-item"},[a("el-button",{attrs:{type:"text"},on:{click:e.dataOpen}},[e._v(e._s(e.dataInfo))])],1):a("el-button",{attrs:{type:"primary"},on:{click:e.dataOpen}},[e._v("配置")]),e._v(" "),a("antvChartData",{ref:"antvChartData",attrs:{elementProps:e.elementProps},on:{confirm:e.chartDataConfirm}})],1)],2):e._e()]:e._e()],2)},i=[]},"0BhY":function(e,t,a){"use strict";a.r(t);var n=a("p77y"),i=a("CSax");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7lHW");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"1a01d165",null);t.default=r.exports},"0IXW":function(e,t,a){var n=a("qqt/");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("499dd271",n,!0,{})},"0IgR":function(e,t,a){},"0LjL":function(e,t,a){"use strict";a.r(t);var n=a("XYBb"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"0N7p":function(e,t,a){"use strict";a.r(t);var n=a("pUbN"),i=a("dEwR");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);t.default=r.exports},"0SP2":function(e,t,a){},"0VpS":function(e,t,a){},"0WF3":function(e,t,a){"use strict";a("DR91")},"0b32":function(e,t,a){},"0h+z":function(e,t,a){"use strict";a.r(t);var n=a("TjKm"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"0hkj":function(e,t,a){"use strict";a("FZJc")},"0nkP":function(e,t,a){"use strict";a("tqzb")},"11tZ":function(e,t,a){var n=a("Jvg4");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("582f0ee2",n,!0,{})},"129q":function(e,t,a){"use strict";a.r(t);var n=a("PDzI"),i=a("2ve/");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Cw8p");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"329d6fb8",null);t.default=r.exports},"1M31":function(e,t,a){"use strict";a("xsQF")},"1Qhe":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("YLtl")),r=a("cCei"),s=a("0O+R"),c=a("ZDQs"),u=a("7C5+");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var f={inject:(0,l.default)(u.pageInject),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String},optionkey:{type:String}},data:function(){return{requiredArr:[],inputValue:void 0}},computed:{layoutData:function(){return this.getStore().layoutData},value:{get:function(){return this.elementProps[this.propKey]}},isUpdateChildren:function(){return["labelWidth"].includes(this.optionkey)}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){o.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{handleOpenFormat:function(){this.$refs.stringFormat.open({content:this.value})},handleChange:function(e){var t=this,a=p(p({},this.elementProps),{},(0,i.default)({},this.propKey,e));if(this.isUpdateChildren&&"form-container"===this.elementProps.elementType){var n=(0,s.getNodeByElementId)(this.layoutData,this.elementProps.elementId),l=s.treeUtil.findNodeAll(n.children,(function(e){return c.formTypes.includes(e.elementType)})).map((function(a){return(0,i.default)({},a.elementId,(0,i.default)({},t.optionkey,e))}));this._storeCommit(r.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:l})}this.$emit("update",a)}}};t.default=f},"1TnD":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[a("div",{staticClass:"inner-content"},[a("div",{staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("子组件")]),e._v(" "),a("span",{staticClass:"key"},[e._v("渲染规则")])],1),e._v(" "),e._l(e.value,(function(t,n){return a("div",{key:t.child,staticClass:"content",style:{opacity:t.isHidden?"0.5":"1"}},[e.deleteMode?a("el-checkbox",{attrs:{label:t.child},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(e.getNameById(t.child)))]),e._v(" "),a("span",{staticClass:"key"},[e._v("隐藏")]),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDeleteColumn(t.child)}}},[e._v("删除\n        ")])],1)],1)}))],2),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddColumn}},[e._v("\n        +\n      ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],1)],e._v(" "),a("el-dialog",{attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:e.variableForm.isAdd?"新增":"编辑",visible:e.popoverVisible,width:"1000px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.popoverVisible=t}}},[a("div",{staticClass:"dialog-content"},[e.popoverVisible?a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,"label-width":"95px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{prop:"child"}},[a("template",{slot:"label"},[a("span",[e._v("子组件")]),e._v(" "),a("el-tooltip",{attrs:{content:"选择一个子组件做条件渲染","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-select",{model:{value:e.variableForm.child,callback:function(t){e.$set(e.variableForm,"child",t)},expression:"variableForm.child"}},e._l(e.children,(function(t){return a("el-option",{key:t.elementId,attrs:{disabled:e.value.some((function(e){return e.child===t.elementId})),label:t.elementName,value:t.elementId}},[a("div",{staticStyle:{float:"left"}},[e._v(e._s(t.elementName))]),e._v(" "),a("div",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.elementId))])])})),1)],2),e._v(" "),a("n-form-item",{attrs:{prop:"rule"}},[a("template",{slot:"label"},[a("span",[e._v("渲染规则")]),e._v(" "),a("el-tooltip",{attrs:{content:"当条件通过时，当前选择的子组件会按照渲染规则进行渲染","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-radio",{attrs:{label:"hidden"},model:{value:e.variableForm.rule,callback:function(t){e.$set(e.variableForm,"rule",t)},expression:"variableForm.rule"}},[e._v("隐藏")])],2),e._v(" "),a("n-form-item",{attrs:{prop:"code"}},[a("template",{slot:"label"},[a("span",[e._v("条件配置")]),e._v(" "),a("el-tooltip",{attrs:{content:"可根据当前插槽注入的数据来判断","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)],2),e._v(" "),a("n-tabs",{attrs:{type:"card"},model:{value:e.variableForm.conditionType,callback:function(t){e.$set(e.variableForm,"conditionType",t)},expression:"variableForm.conditionType"}},[a("n-tab-pane",{attrs:{disabled:"",label:"标准模式",name:"normal"}}),e._v(" "),a("n-tab-pane",{attrs:{lazy:"",label:"高级模式",name:"function"}},[a("js-config",{ref:"jsConfig",attrs:{"arguments-addable":!1,"pure-function":!0,"default-arguments":e.defaultArguments},model:{value:e.functionId,callback:function(t){e.functionId=t},expression:"functionId"}})],1)],1)],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.popoverVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 认")])],1)])],2)},i=[]},"1Ymz":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择数据源",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"dialog-content"},[a("n-form",{staticClass:"data-select-form",attrs:{model:e.queryForm,size:"mini",inline:"","label-with":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"API编码"}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.queryForm.serviceCode,callback:function(t){e.$set(e.queryForm,"serviceCode",t)},expression:"queryForm.serviceCode"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"API名称"}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.queryForm.serviceName,callback:function(t){e.$set(e.queryForm,"serviceName",t)},expression:"queryForm.serviceName"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"所属应用"}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.queryForm.applicationCode,callback:function(t){e.$set(e.queryForm,"applicationCode",t)},expression:"queryForm.applicationCode"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSearch(!0)}}},[e._v("\n        重置\n      ")])],1),e._v(" "),a("div",{staticClass:"data-table"},[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.serviceCode===t.row.serviceCode?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"serviceCode",label:"API编码"}}),e._v(" "),a("n-table-column",{attrs:{prop:"serviceName",label:"API名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"applicationCode",label:"所属应用"}}),e._v(" "),a("n-table-column",{attrs:{prop:"creator",label:"创建者"}}),e._v(" "),a("n-table-column",{attrs:{prop:"createTime",label:"创建时间"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.currentPage,limit:e.queryForm.pageSize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},"1dbD":function(e,t,a){},"1h5I":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I"));n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{widthOptions:{unit:[{label:"px",value:""}]}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=s},"1iRC":function(e,t,a){},"1q4c":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={table:[{key:"rowData",value:void 0,test:{},desc:"行数据"}]};t.default=n},"1xlb":function(e,t,a){"use strict";a.r(t);var n=a("4vXl"),i=a("KZ19");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("dOQX");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"70af99b3",null);t.default=r.exports},"1z9n":function(e,t,a){},"1zju":function(e,t,a){"use strict";a("6oPg")},"24np":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("rePB")),o=a("xBdn"),r=n(a("YLtl"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={components:{draggable:n(a("t2rG")).default},inject:["dndOptions"],props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:{groupName:"",templates:[],editable:!0,backgroundColor:"#3f92fe",textColor:"#ffffff"},rules:{groupName:(0,o.getValidators)([{message:"请输入分类名称",include:o.required,trigger:"change"}])},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[],predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgb(255, 120, 0)","#ff0000"]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=c(c({},this.elementProps),{},(0,l.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{errorToast:function(){this.$message.error("至少要保留一个")},doDelete:function(){var e=this;if(this.selectedList.length===this.value.length)return this.errorToast();this.value=this.value.filter((function(t){return!e.selectedList.includes(t.key)})),this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.groupName})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleEditColumn:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(c(c({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){if(1===this.value.length)return this.errorToast();this.value.splice(e,1),this.value=(0,i.default)(this.value)},handleAddTemplate:function(){this.variableForm.templates.push("")},handleAddColumn:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm={isAdd:!0,groupName:"",templates:[],editable:!0,backgroundColor:"#3f92fe",textColor:"#ffffff"},this.edtingIndex=void 0},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=r.default.cloneDeep(e.value),n=r.default.cloneDeep(e.variableForm);if(delete n.isAdd,void 0===e.edtingIndex){var o=c(c({},e.elementProps),{},(0,l.default)({},e.propKey,[].concat((0,i.default)(a),[c(c({},n),{},{templates:r.default.uniq(n.templates.filter((function(e){return e})))})])));e.$emit("update",o)}else{a[e.edtingIndex]=c(c({},n),{},{templates:r.default.uniq(n.templates.filter((function(e){return e})))});var s=c(c({},e.elementProps),{},(0,l.default)({},e.propKey,a));e.$emit("update",s)}e.popoverVisible=!1}}))}}};t.default=u},"2AOB":function(e,t,a){"use strict";a("VU57")},"2CNY":function(e,t,a){"use strict";a.r(t);var n=a("UOw8"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"2CnR":function(e,t,a){"use strict";a("T+Y3")},"2E/L":function(e,t,a){"use strict";a.r(t);var n=a("TwdA"),i=a("TslF");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("qJur");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"cc92984c",null);t.default=r.exports},"2Eky":function(e,t,a){},"2MEm":function(e,t,a){"use strict";a.r(t);var n=a("mj5d"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"2MZH":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("U8pU")),o=n(a("KQm4")),r=n(a("ODXe")),s=n(a("HaE+")),c=n(a("YLtl")),u=a("8SHQ"),d=a("7Qib"),p=a("a+hW"),f=a("LY9L"),v={name:"JsCode",components:{ChangeHeight:n(a("ZoP3")).default},props:{value:{type:String},paramsData:{type:Array,default:function(){return[]}},resizable:{type:Boolean,default:!1},customClass:{type:Boolean,default:!1},useType:{type:String}},data:function(){return{loading:!1,hints:[],monacoInstance:null,provider:null,logList:[],code:"",isMaximum:!1,originSize:{width:"",height:""}}},computed:{dynamicHints:function(){return this.paramsData.map((function(e){return e.key})).filter((function(e){return e}))}},watch:{paramsData:{handler:function(e,t){e.length&&this.initHints()},deep:!0,immediate:!0},value:{handler:function(e,t){var a;c.default.isEqual(e,t)||(this.code=e,null===(a=this.monacoInstance)||void 0===a||a.setValue(e))},immediate:!0}},methods:{initHints:function(){this.hints=Array.from(new Set(this.dynamicHints)).sort()},dispose:function(){this.monacoInstance&&(this.monacoInstance.getModel()&&this.monacoInstance.getModel().dispose(),this.monacoInstance.dispose(),this.monacoInstance=null,this.provider&&(this.provider.dispose(),this.provider=null))},init:function(){var e=this;return(0,s.default)(i.default.mark((function t(){var n,l,s,c,u,d,p;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.codeEditor){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,e.code=e.value,l=[Promise.all([a.e(0),a.e(1)]).then(a.t.bind(null,"M/lh",7)),Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"cldp"))],t.next=8,Promise.all(l);case 8:s=t.sent,c=(0,r.default)(s,1),u=c[0],d=e,e.dispose(),p=function(e){var t=e.replace(/[\*\[\]@\$\(\)]/g,"").replace(/(\s+|\.)/g," ").split(" "),a=t[t.length-1],n=a.length,i=new RegExp("([^\\w]|^)"+a+"\\w*","gim"),l=d.value.match(i),r=l?l.map((function(e){var t=new RegExp(a,"gim"),n=e.search(t);return e.substr(n)})):[],s=Array.from(new Set([].concat((0,o.default)(d.hints),(0,o.default)(r)))).sort().filter((function(e){var t=new RegExp(e.substr(0,n),"gim");return!(l&&1===l.length&&e===a||1===e.length)&&a.match(t)}));return s.map((function(e){return{label:e,kind:d.hints.indexOf(e)>-1?u.languages.CompletionItemKind.Keyword:u.languages.CompletionItemKind.Text,documentation:e,insertText:e}}))},e.provider=u.languages.registerCompletionItemProvider("javascript",{provideCompletionItems:function(e,t){var a=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column});return{suggestions:p(a)}}}),e.monacoInstance=u.editor.create(n,{value:e.code,language:"javascript",theme:"vs",folding:!1,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:5,enableSplitViewResizing:!1,roundedSelection:!1,overviewRulerBorder:!1,minimap:{enabled:!0},autoIndent:"full",readOnly:!1,tabSize:2}),e.monacoInstance.onDidFocusEditorText((function(){e.$emit("focus-change",!0)})),e.monacoInstance.onDidBlurEditorText((function(){e.monacoInstance&&(e.code=e.monacoInstance.getValue(),e.$emit("input",e.code),e.$emit("focus-change",!1))})),e.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},getParams:function(){var e=this.paramsData.filter((function(e){return e.key}));return Object.fromEntries(e.map((function(e){var t,a;if(0===(null===(t=e.value)||void 0===t?void 0:t.indexOf(u.JS_FLAG)))return[e.key,function(){}];if(0===(null===(a=e.value)||void 0===a?void 0:a.indexOf(u.UTILS_FUNCTION))){var n=f.utils.find((function(t){return t.id===e.value}));return[e.key,(null==n?void 0:n.code)||e.value]}return[e.key,e.test]})))},handleTest:function(){var e=arguments,t=this;return(0,s.default)(i.default.mark((function a(){var n,o,r,s,c,u,f;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=e.length>0&&void 0!==e[0]&&e[0],r=e.length>1&&void 0!==e[1]?e[1]:function(){},t.code=null===(n=t.monacoInstance)||void 0===n?void 0:n.getValue(),t.code){a.next=6;break}return t.$message.error("请输入代码"),a.abrupt("return",!1);case 6:return s=t.getParams(),c=Object.values(s),t.loading=!0,a.prev=9,a.next=12,(0,d.runCodeInWorker)(Object.keys(s),t.code,c);case 12:if(u=a.sent,"chartConfig"!==t.useType){a.next=16;break}if("object"===(0,l.default)(u)){a.next=16;break}throw new Error("返回值必须是个对象! 当前值: "+u);case 16:return o||(f=u&&"object"===(0,l.default)(u)?JSON.stringify(u,null,2):u,t.logList.push("[".concat((0,p.formatTime)(void 0,"HH:mm:ss"),"]测试通过，返回值：").concat(f)),t.$message.success("代码测试通过。")),o&&(t.logList=[],t.$emit("input",t.code)),r({valid:!0,res:u}),t.loading=!1,a.abrupt("return",!0);case 23:return a.prev=23,a.t0=a.catch(9),t.$message.error("代码测试未通过，请重新修改。"),t.logList.push("[".concat((0,p.formatTime)(void 0,"HH:mm:ss"),"]测试未通过，错误：").concat(a.t0)),r({valid:!1}),t.loading=!1,a.abrupt("return",!1);case 30:case"end":return a.stop()}}),a,null,[[9,23]])})))()},maxEditor:function(){var e=this.$el;this.originSize={width:e.clientWidth,height:e.clientHeight},e.classList.add("editor-fullscreen"),this.monacoInstance.layout({height:document.body.clientHeight,width:document.body.clientWidth}),this.isMaximum=!0,this.$emit("screenChange",this.isMaximum)},minEditor:function(){this.$el.classList.remove("editor-fullscreen"),this.monacoInstance.layout({height:this.originSize.height,width:this.originSize.width}),this.isMaximum=!1,this.$emit("screenChange",this.isMaximum)},handleHeightChange:c.default.throttle((function(e){var t=e.height,a=this.$el.clientHeight+t,n=this.$el.clientWidth,i=a<244?224:a;this.monacoInstance.layout({width:n,height:i}),this.$emit("heightChange",i)}),60)},created:function(){this.initHints()},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeDestroy:function(){this.dispose()}};t.default=v},"2PxM":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl")),o=n(a("r5ug")),r=n(a("Wk/A")),s=n(a("bT2I")),c=a("8SHQ");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={components:{dataSelector:o.default,Select:r.default,rangeSelect:s.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!0}},data:function(){return{lengthOptions:{min:0,unit:[{value:"",label:"px",max:1e3}]},offsetOptions:{unit:[{value:"",label:"px",min:-300,max:300},{value:"%",label:"%",min:-200,max:200}]},formatTips:c.formatTips,yFieldsIndex:-1,yFields:[]}},computed:{dataVariables:{get:function(){return this.elementProps.dataVariables},set:function(e){this.$emit("update",d(d({},this.elementProps),{},{dataVariables:e}))}}},watch:{dataVariables:{deep:!0,immediate:!0,handler:function(e){var t;this.yFieldsIndex=e.findIndex((function(e){return"yAxis"===e.key})),this.yFields=(null===(t=e[this.yFieldsIndex])||void 0===t?void 0:t.fields)||[]}}},methods:{addYFields:function(){var e="key"+(this.yFields.length+1),t=a("5t5B")("./".concat(this.elementProps.elementVersion,"/watch-props.js")).yField_tpl;this.yFields.push(d(d({},l.default.cloneDeep(t)),{},{key:e,value:e})),this.dataVariables[this.yFieldsIndex].fields=l.default.cloneDeep(this.yFields)},dataSelectUpdate:function(e){this.$emit("update",e)},deleteItem:function(e){this.yFields.splice(e,1),this.dataVariables[this.yFieldsIndex].fields=l.default.cloneDeep(this.yFields)}}};t.default=p},"2Wxd":function(e,t,a){"use strict";a("Tuwp")},"2XoS":function(e,t,a){var n=a("L2Tx");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("38c231cd",n,!0,{})},"2YrO":function(e,t,a){"use strict";a.r(t);var n=a("tFGp"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"2fFK":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"90px"}},[a("el-form-item",{attrs:{label:"网格斑马纹"}},[a("el-switch",{model:{value:e.splitArea,callback:function(t){e.splitArea=t},expression:"splitArea"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格隔线"}},[a("el-switch",{model:{value:e.splitLine,callback:function(t){e.splitLine=t},expression:"splitLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格轴线"}},[a("el-switch",{model:{value:e.axisLine,callback:function(t){e.axisLine=t},expression:"axisLine"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},"2lXE":function(e,t,a){},"2o9+":function(e,t,a){"use strict";a.r(t);var n=a("L/L6"),i=a("F7Ti");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("c5KY");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"9c7a635a",null);t.default=r.exports},"2pbs":function(e,t,a){var n=a("XiVM");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("72ac1f55",n,!0,{})},"2vS9":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=a("xBdn"),r=n(a("YLtl")),s=n(a("t2rG")),c=a("0O+R"),u=a("cCei"),d=a("mtVH"),p=n(a("eq38")),f=a("inkn"),v=a("7C5+"),m=n(a("GqpL"));function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={label:"",key:"",align:"left",width:void 0,minWidth:160,sortable:!1,isHidden:!1,isUseSlot:!1,path:[],formatter:void 0,fixed:void 0},y={components:{draggable:s.default,DataFormat:p.default,HeaderGroupConfig:m.default},inject:["dndOptions"].concat((0,l.default)(v.pageInject)),props:{elementId:{type:String},propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:{},rules:{label:(0,o.getValidators)([{message:"请输入列标题",include:o.required,trigger:"change",required:!0}]),key:(0,o.getValidators)([{message:"请输入列字段",include:o.required,trigger:"change",required:!0}])},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[]}},computed:{layoutData:function(){return this.getStore().layoutData},dynamicProps:function(){return this.getStore().dynamicProps},currentElement:function(){return(0,c.getNodeByElementId)(this.layoutData,this.elementProps.elementId)},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=b(b({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},formatterLabel:function(){var e;switch(null===(e=this.variableForm.formatter)||void 0===e?void 0:e.type){case"number":return"数值";case"string":return"文本";case"date":return"日期";case"js":return"高级";default:return""}}},methods:{errorToast:function(){this.$message.error("至少要保留一列")},doDelete:function(){var e=this;if(this.selectedList.length===this.value.length)return this.errorToast();this.value=this.value.filter((function(t){return!e.selectedList.includes(t.key)}));var t=this.selectedList.filter((function(t){return e.value.some((function(e){return e.key===t&&e.isUseSlot}))})).map((function(t){return e.currentElement.children.find((function(a){return e.getElementPropsById(a.elementId).slotName===t})).elementId}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementIdList:t}),this.dndOptions.selectedId=this.currentElement.elementId,this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.key})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleEditColumn:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(b(b({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){var t=this;if(1===this.value.length)return this.errorToast();if(this.value.find((function(t){return t.key===e})).isUseSlot){var a=e,n=this.currentElement.children.find((function(e){return t.getElementPropsById(e.elementId).slotName===a}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementId:n.elementId}),this.dndOptions.selectedId=this.currentElement.elementId}this.value=this.value.filter((function(t){return t.key!==e}))},handleAddColumn:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(g),this.variableForm.isAdd=!0,this.edtingIndex=void 0},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=f.getGlobalConfig.call(e),n=r.default.cloneDeep(e.value),l=r.default.cloneDeep(e.variableForm);if(delete l.isAdd,void 0===e.edtingIndex){if(n.some((function(e){return e.key===l.key})))return void e.$message.error("列编码不能重复！");if(l.isUseSlot){var o=l.key,s={elementId:"",elementType:"slot",elementVersion:(0,d.getLastVersion)("slot"),elementName:l.label,defaultProps:{canDropInsideTypes:["text","tag","href","button"],slotName:o,slotType:"data"},children:[{elementId:"",elementType:"text",elementVersion:(0,d.getLastVersion)("slot"),elementName:"文本",children:[],defaultProps:{useSlotProps:!0,prop:o}}]};c.buildNewWidget.call(e,s,e.currentElement.elementId,"center")}n.push(l);var p=b(b({},e.elementProps),{},(0,i.default)({},e.propKey,n));e.$emit("update",p,{oldVal:a,val:f.getGlobalConfig.call(e)})}else{var v=n[e.edtingIndex].key,m=l.key;if(v!==m&&n.some((function(e){return e.key===m})))return void e.$message.error("列编码不能重复！");if(l.isUseSlot){var h=l.label,g=e.currentElement.children.find((function(t){return e.getElementPropsById(t.elementId).slotName===v}));if(!g){var y=l.key,_={elementId:"",elementType:"slot",elementVersion:(0,d.getLastVersion)("slot"),elementName:l.label,defaultProps:{slotName:y,slotType:"data",canDropInsideTypes:["text","tag","href","button"]},children:[{elementId:"",elementType:"text",elementVersion:(0,d.getLastVersion)("slot"),elementName:"文本",children:[],defaultProps:{useSlotProps:!0,prop:y}}]};g=c.buildNewWidget.call(e,_,e.currentElement.elementId,"center")}var k=[];v!==m&&c.treeUtil.forEach(g.children,(function(e){k.push((0,i.default)({},e.elementId,{prop:m}))})),k.push((0,i.default)({},g.elementId,{slotName:m,elementName:h})),e._storeCommit(u.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:k})}else{var C=l.key,O=e.currentElement.children.find((function(t){return e.getElementPropsById(t.elementId).slotName===C}));O&&(e._storeDispatch(u.DELETE_LAYOUT_DATA,{elementId:O.elementId}),e.dndOptions.selectedId=e.currentElement.elementId)}n[e.edtingIndex]=b(b({},l),{},{path:n[e.edtingIndex].path});var w=b(b({},e.elementProps),{},(0,i.default)({},e.propKey,n));e.$emit("update",w,{oldVal:a,val:f.getGlobalConfig.call(e)})}e.popoverVisible=!1}}))},handleShowFormat:function(){this.$refs.dataFormat.open({formatter:this.variableForm.formatter,defaultArguments:[{key:"cellValue",value:void 0,test:void 0,desc:"单元格数据"},{key:"rowData",value:void 0,test:void 0,desc:"行数据"}]})},handleFormatterConfirm:function(e){this.$set(this.variableForm,"formatter",r.default.cloneDeep(e))},handleShowModal:function(){var e=this.$refs.popover.popperElm;e.style.top="80px",e.style.right="40px",e.style.left="unset",e.style.display="block";var t=document.createElement("div");t.classList.add("fullscreen-modal"),t.appendChild(e),document.body.appendChild(t)},handleHideModal:function(){var e=document.querySelector(".fullscreen-modal");null==e||e.remove()},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},handleUpdateHeaderGroup:function(e){var t=b(b({},this.elementProps),{},{tableHeaderGroup:e});this.$emit("update",t)}}};t.default=y},"2ve/":function(e,t,a){"use strict";a.r(t);var n=a("vpyU"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"2xn5":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("oRZJ"));n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={mixins:[l.default],props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String},tip:{type:String}},data:function(){return{validatePass:function(e,t,a){t&&t.trim()?a():a(new Error)}}},components:{},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},watch:{},methods:{addFunctions:function(){this.$refs.eventSelect.open()},editFunctions:function(e){this.$refs.eventSelect.open(r(r({},this.elementProps),{},{selectedId:e}))},deleteFunctions:function(e){this.value.splice(e,1)},handleEventSelectConfirm:function(e,t){var a=e.id,n=e.name;if(t){var i=this.value.find((function(e){return e.id===t}));i.id=a,i.name=n}else{var l=this.value.find((function(e){return e.id===a}));l?l.customName=n:this.value.push({id:a,name:n,customName:n})}}}};t.default=s},"2ye7":function(e,t,a){},"36hs":function(e,t,a){},"37lQ":function(e,t,a){},"3Jar":function(e,t,a){"use strict";a("Jlxd")},"3JtN":function(e,t,a){"use strict";a.r(t);var n=a("8U29"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"3KFY":function(e,t,a){"use strict";a.r(t);var n=a("4GCG"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"3SnP":function(e,t,a){var n=a("P+oX");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("70d18221",n,!0,{})},"3eZo":function(e,t,a){"use strict";a.r(t);var n=a("05aF"),i=a("DNHK");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("zV8b");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"1fbf2032",null);t.default=r.exports},"3k2e":function(e,t,a){"use strict";a.r(t);var n=a("Aj+w"),i=a("nwNa");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("slbR");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6c9fda26",null);t.default=r.exports},"3rfu":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},vue:{type:String}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=r},"3s84":function(e,t,a){var n=a("okzT");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("127fbc9c",n,!0,{})},"3xSy":function(e,t,a){"use strict";a.r(t);var n=a("LwgG"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"3yHM":function(e,t,a){"use strict";a("ePCx")},"4+FW":function(e,t,a){"use strict";a("RKlf")},"46sa":function(e,t,a){},"4DAo":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("YLtl")),l=n(a("129q")),o={trigger:"",animationName:"",delay:0,duration:1,repeat:1},r={name:"AnimateEditDialog",components:{AnimateSelect:l.default},props:{animation:{type:Array,default:[]},isRoot:{type:Boolean,default:!0},isShowTrigger:{type:Boolean,default:!0}},data:function(){return{dialogVisible:!1,title:"",animate:{trigger:"",animationName:"",delay:0,duration:1,repeat:1},triggerOption:[{label:"点击",value:"click"},{label:"悬停",value:"hover"},{label:"显示",value:"show"},{label:"隐藏",value:"hide"}]}},computed:{triggers:function(){return this.isRoot?[{label:"点击",value:"click"},{label:"悬停",value:"hover"},{label:"显示",value:"show"},{label:"隐藏",value:"hide"}]:[{label:"点击",value:"click"},{label:"悬停",value:"hover"}]}},methods:{open:function(e){this.animate=i.default.cloneDeep(e||o),this.title=e?"编辑动画":"新增动画",this.dialogVisible=!0},beforeClose:function(e){this.dialogVisible=!1,e()},handleEditConfirm:function(){this.animate.trigger||!this.isShowTrigger?this.animate.animationName?("新增动画"===this.title?this.$emit("confirmAdd",this.animate):this.$emit("confirmEdit",this.animate),this.dialogVisible=!1):this.$message.error("请选择动画效果！"):this.$message.error("请选择触发方式！")},handleShowAnimateList:function(){this.$refs.animateSelect.open(this.animate.animationName)},handleAnimateSelectConfirm:function(e){this.animate.animationName=e},isTriggerDisabled:function(e){return this.animation.some((function(t){return t.trigger===e}))||!this.isRoot&&["show","hide"].includes(e)}}};t.default=r},"4GCG":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));n(a("BvH3"));a("RQ3N");var l=n(a("asm4")),o=a("pZTy"),r=n(a("KEv7"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={components:{nPopover:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{icons:o.icons,loading:!1,iconClass:"",iconfonts:[],iconType:"default"}},created:function(){},mounted:function(){this.handleGetIconfont()},destroyed:function(){},methods:{valChange:function(e){this.iconClass=e;var t=c(c({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)},handleShownPopover:function(){var e=this;this.$nextTick((function(){e.$refs.referenceBtn.$el.click()}))},handleGetIconfont:function(){var e=this;this.loading=!0,(0,r.default)({url:"".concat(this.$store.state.CODE.lowCodeStore.appSourcePrefix,"apps/").concat(this.$route.query.id,"/iconfont/iconfont.json"),method:"GET",header:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;e.iconfonts=a.glyphs.map((function(e){return"".concat(a.font_family," ").concat(a.css_prefix_text).concat(e.font_class)}))})).finally((function(){e.loading=!1}))}},computed:{},watch:{elementProps:{deep:!0,immediate:!0,handler:function(){this.iconClass=this.elementProps[this.propKey]||""}}}};t.default=u},"4Gf4":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"progress-config"},["line"===e.elementProps.type?[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("线条宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条线的宽度，单位 px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.value[e.elementProps.type].strokeWidth,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeWidth",t)},expression:"value[elementProps.type].strokeWidth"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("进度条颜色")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条的色彩，设置2种颜色时为渐变","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-radio-group",{on:{change:e.handleIsUseGradientChange},model:{value:e.isUseGradient,callback:function(t){e.isUseGradient=t},expression:"isUseGradient"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("纯色")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("渐变色")])],1)],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("选择颜色")])]),e._v(" "),e.isUseGradient||"string"!=typeof e.value[e.elementProps.type].strokeColor?e._e():a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeColor",t)},expression:"value[elementProps.type].strokeColor"}})],1),e._v(" "),e.isUseGradient&&"object"==typeof e.value[e.elementProps.type].strokeColor?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-color-picker",{staticStyle:{"margin-right":"20px"},attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor.from,callback:function(t){e.$set(e.value[e.elementProps.type].strokeColor,"from",t)},expression:"value[elementProps.type].strokeColor.from"}}),e._v(" "),a("el-color-picker",{staticStyle:{"margin-right":"20px"},attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor.to,callback:function(t){e.$set(e.value[e.elementProps.type].strokeColor,"to",t)},expression:"value[elementProps.type].strokeColor.to"}})],1):e._e()],2)]:e._e(),e._v(" "),"circle"===e.elementProps.type?[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("线条宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条线的宽度，单位 px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.value[e.elementProps.type].strokeWidth,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeWidth",t)},expression:"value[elementProps.type].strokeWidth"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("画布宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"圆形进度条画布宽度，单位 px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.value[e.elementProps.type].width,callback:function(t){e.$set(e.value[e.elementProps.type],"width",t)},expression:"value[elementProps.type].width"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("进度条颜色")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条的色彩，设置2种颜色时为渐变","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-radio-group",{on:{change:e.handleIsUseGradientChange},model:{value:e.isUseGradient,callback:function(t){e.isUseGradient=t},expression:"isUseGradient"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("纯色")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("渐变色")])],1)],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("选择颜色")])]),e._v(" "),e.isUseGradient||"string"!=typeof e.value[e.elementProps.type].strokeColor?e._e():a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeColor",t)},expression:"value[elementProps.type].strokeColor"}})],1),e._v(" "),e.isUseGradient&&"object"==typeof e.value[e.elementProps.type].strokeColor?a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-color-picker",{staticStyle:{"margin-right":"20px"},attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor["0%"],callback:function(t){e.$set(e.value[e.elementProps.type].strokeColor,"0%",t)},expression:"value[elementProps.type].strokeColor['0%']"}}),e._v(" "),a("el-color-picker",{staticStyle:{"margin-right":"20px"},attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor["100%"],callback:function(t){e.$set(e.value[e.elementProps.type].strokeColor,"100%",t)},expression:"value[elementProps.type].strokeColor['100%']"}})],1):e._e()],2)]:e._e(),e._v(" "),"dashboard"===e.elementProps.type?[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("线条宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条线的宽度，单位 px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.value[e.elementProps.type].strokeWidth,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeWidth",t)},expression:"value[elementProps.type].strokeWidth"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("画布宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"仪表盘进度条画布宽度，单位 px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:1},model:{value:e.value[e.elementProps.type].width,callback:function(t){e.$set(e.value[e.elementProps.type],"width",t)},expression:"value[elementProps.type].width"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("缺口角度")]),e._v(" "),a("el-tooltip",{attrs:{content:"仪表盘进度条缺口角度，可取值 0 ~ 360","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{"step-strictly":"",min:0,max:360},model:{value:e.value[e.elementProps.type].gapDegree,callback:function(t){e.$set(e.value[e.elementProps.type],"gapDegree",t)},expression:"value[elementProps.type].gapDegree"}})],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("缺口位置")]),e._v(" "),a("el-tooltip",{attrs:{content:"仪表盘进度条缺口位置","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-radio-group",{model:{value:e.value[e.elementProps.type].gapPosition,callback:function(t){e.$set(e.value[e.elementProps.type],"gapPosition",t)},expression:"value[elementProps.type].gapPosition"}},[a("el-radio-button",{attrs:{label:"top"}},[e._v("上")]),e._v(" "),a("el-radio-button",{attrs:{label:"bottom"}},[e._v("下")]),e._v(" "),a("el-radio-button",{attrs:{label:"left"}},[e._v("左")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("右")])],1)],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("进度条颜色")]),e._v(" "),a("el-tooltip",{attrs:{content:"进度条的色彩","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-radio-group",{on:{change:e.handleIsUseGradientChange},model:{value:e.isUseGradient,callback:function(t){e.isUseGradient=t},expression:"isUseGradient"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("纯色")]),e._v(" "),a("el-radio-button",{attrs:{label:!0,disabled:""}},[e._v("渐变色")])],1)],2),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("选择颜色")])]),e._v(" "),e.isUseGradient?e._e():a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.value[e.elementProps.type].strokeColor,callback:function(t){e.$set(e.value[e.elementProps.type],"strokeColor",t)},expression:"value[elementProps.type].strokeColor"}})],1)],2)]:e._e()],2)},i=[]},"4NdG":function(e,t,a){"use strict";a.r(t);var n=a("lAjS"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"4ODj":function(e,t,a){"use strict";a.r(t);var n=a("my2f"),i=a("zO6m");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("0WF3");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"16e9e23c",null);t.default=r.exports},"4ODm":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("KQm4")),r=n(a("pKu3")),s=n(a("Mqf6")),c=n(a("E0s0"));a("uD/U");var u=n(a("YLtl")),d=a("xBdn"),p=a("0O+R"),f=n(a("slWK")),v=a("a+hW"),m=n(a("oRZJ")),h=a("tgb1"),b=a("7Qib"),g=a("7C5+"),y={name:"PanelData",components:{VueJsonPretty:c.default,DataSetConfig:r.default},inject:["dndOptions"].concat((0,o.default)(g.pageInject)),mixins:[s.default,m.default],data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","widget"],dialogVisible:!1,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,selectedPath:void 0,responseOptions:[],response:void 0,jsonLoading:!1,tableLoading:!1,activeDataType:"",widgetVariables:[],variableRowDetail:null}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,p.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)},dynamicProps:function(){return this.getStore().dynamicProps},currentProps:function(){return this.dynamicProps[this.dndOptions.selectedId]||{}}},methods:{open:function(e){var t=this,a=e.dataVariables,n=e.apiRequest,i=e.sqlRequest,l=e.staticData,o=e.widgetVariables;this.widgetVariables=o&&o.length?u.default.cloneDeep(o):[{key:void 0,path:[]}],this.dataVariables=a?u.default.cloneDeep(a):[],this.staticData=u.default.cloneDeep(l)||void 0,this.apiRequest=u.default.cloneDeep(n)||void 0,this.sqlRequest=u.default.cloneDeep(i)||void 0,this.response=this.staticData||null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleGeneratePanelData:function(){return{widgetVariables:this.widgetVariables.filter((function(e){return e.key})),dataVariables:this.dataVariables,apiRequest:this.apiRequest,sqlRequest:this.sqlRequest,staticData:this.staticData}},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,e.apiRequest=n,e.sqlRequest=l,e.staticData=o,e.loading=!0,setTimeout((function(){var t,a=null===(t=e.dataVariables.find((function(e){return"dataList"===e.key})))||void 0===t?void 0:t.path;if(!a.length)return e.$message.error("请配置变量映射 > 面板数据的数据路径！"),void(e.loading=!1);e.handleSaveConfigTemp(a);var n=e.handleGeneratePanelData();e.loading=!1,e.$emit("confirm",n),e.dialogVisible=!1}),100);case 6:case"end":return t.stop()}}),t)})))()},handleSaveConfigTemp:function(e){var t,a=e.length?u.default.get(this.response,e):this.response;switch(!0){case"string"==typeof a:if((0,d.isValidJsonString)(a))try{t=JSON.parse(a.trim())[0]}catch(e){console.log(e)}break;case Array.isArray(a)&&u.default.isObject(a[0]):t=a[0];break;case u.default.isObject(a):t=a}t&&this.$http({url:f.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.currentElement.elementId,".$currentRow"),value:JSON.stringify(t)||""}]}})},handleResponse:function(e){var t=e.response,a=e.responseOptions,n=e.isStatic;this.response=t,this.responseOptions=a,n&&(this.staticData=u.default.cloneDeep(t))},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,v.getObjectTree)(e)},handleClearResponse:function(){this.response=null,this.responseOptions=[]},getVariablesByElementId:function(e){var t="app"===e?this.layoutData.elementId:e,a=(0,p.getNodeByElementId)(this.layoutData,t),n=a.elementType,i=a.elementVersion,l=h.getVariableByVersion.call(this,{elementType:n,elementVersion:i,elementId:t});return l?Object.keys(l.config||{}).filter((function(e){return![1,2].includes(null==l?void 0:l.config[e].auth)})).map((function(e){return{label:e,value:e,desc:l.config[e].desc}})):[]},handleDrop:function(e){var t=e.target.dataset,a=t.id,n=t.key;if(a)this.widgetVariables.find((function(e){return e.key===a})).path=(0,v.getPathList)(this.selectedPath);else if(n){this.dataVariables.find((function(e){return e.key===n})).path=(0,v.getPathList)(this.selectedPath)}},handleAddWidget:function(){this.widgetVariables.push({key:void 0,path:[]})},handleDeleteWidget:function(e,t){1!==this.widgetVariables.length&&this.widgetVariables.splice(t,1)},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],rootNode:this.currentElement})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;this.widgetVariables.some((function(t){return t.key&&t.key===e}))?this.$message.error("变量重复"):(n&&this.$set(a,n,e),null==i||i(e))},getElementId:function(e){return(0,b.isValidateVariable)(e)?e.split(".$")[0]:void 0},getTip:function(e){if("dataList"===e)return"面板数据字段，需传入对象或数组类型的数据，传入为数组类型时，内部组件会循环生成多个"}}};t.default=y},"4S6/":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("7Jvp")),o=Object.keys(l.default).map((function(e){return{label:l.default[e],value:e}})),r={dateTimePickerFormat:[{label:"时",value:"HH"},{label:"时:分",value:"HH:mm"},{label:"时:分:秒",value:"HH:mm:ss"},{label:"年",value:"yyyy"},{label:"年-月",value:"yyyy-MM"},{label:"年-月-日",value:"yyyy-MM-dd"},{label:"年-月-日 时:分",value:"yyyy-MM-dd HH:mm"},{label:"年-月-日 时:分:秒",value:"yyyy-MM-dd HH:mm:ss"}],align:[{label:"左",value:"left"},{label:"中",value:"center"},{label:"右",value:"right"}],paginationAlign:[{label:"左",value:"flex-start"},{label:"中",value:"center"},{label:"右",value:"flex-end"}],checkboxType:[{label:"多选",value:"checkbox"},{label:"单选",value:"radio"},{label:"不显示",value:"none"}],border:[{label:"完整边框",value:"full"},{label:"外边框",value:"outer"},{label:"内边框",value:"inner"},{label:"无边框",value:"none"},{label:"默认",value:"default"}],overflow:[{label:"显示省略号",value:"ellipsis"},{label:"浮动显示",value:"tooltip"},{label:"不处理",value:!1}],shadow:[{label:"始终显示",value:"always"},{label:"鼠标经过时",value:"hover"},{label:"不显示",value:"never"}],language:[{label:"JavaScript",value:"javascript"},{label:"TypeScript",value:"typescript"},{label:"JSON",value:"json"},{label:"SQL",value:"sql"},{label:"MySql",value:"mysql"},{label:"Python",value:"python"},{label:"Java",value:"java"},{label:"Bat",value:"bat"},{label:"PowerShell",value:"powershell"},{label:"Shell",value:"shell"},{label:"Yaml",value:"yaml"}],theme:[{label:"Visual Studio",value:"vs"},{label:"Visual Studio Dark",value:"vs-dark"}].concat((0,i.default)(o)),fit:[{label:"填充",value:"fill"},{label:"包含",value:"contain"},{label:"覆盖",value:"cover"},{label:"无",value:"none"},{label:"收缩",value:"scale-down"}],referrer:[{label:"no-referrer",value:"no-referrer"},{label:"no-referrer-when-downgrade",value:"no-referrer-when-downgrade"},{label:"same-origin",value:"same-origin"},{label:"origin",value:"origin"},{label:"strict-origin",value:"strict-origin"},{label:"origin-when-cross-origin",value:"origin-when-cross-origin"},{label:"strict-origin-when-cross-origin",value:"strict-origin-when-cross-origin"},{label:"unsafe-url",value:"unsafe-url"}],wordWrap:[{label:"不换行",value:"off"},{label:"自动换行",value:"on"}],notifyType:[{label:"默认",value:"default"},{label:"消息",value:"info"},{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"错误",value:"error"}],notifyPosition:[{label:"右上角",value:"top-right"},{label:"右下角",value:"bottom-right"},{label:"左上角",value:"top-left"},{label:"左下角",value:"bottom-left"}]};t.default=r},"4SL/":function(e,t,a){"use strict";a("r4vl")},"4Ug3":function(e,t,a){"use strict";a.r(t);var n=a("FkbL"),i=a("yDUr");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ejqO");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2c314e1c",null);t.default=r.exports},"4VMp":function(e,t,a){},"4a+T":function(e,t,a){var n=a("+yMm");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("ef3314dc",n,!0,{})},"4d3L":function(e,t,a){"use strict";a("cCEh")},"4hSN":function(e,t,a){"use strict";a("52VM")},"4niE":function(e,t,a){},"4vXl":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n    "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[e.types&&e.types.length?e._l(e.types,(function(t){return a("el-tooltip",{key:t,attrs:{content:e.getContent(e.target.value),"popper-class":"tooltip-question",placement:"top"}},[a("el-button",{on:{click:function(a){e.showInputDialog(e.getType(t),e.target,"value")}}},[e._v(e._s(e.target.value?"重新输入":e.getTypeName(t))+"\n        ")])],1)})):a("el-tooltip",{attrs:{content:e.getContent(e.target.value),"popper-class":"tooltip-question",placement:"top"}},[a("el-button",{on:{click:function(t){return e.showInputDialog("object",e.target,"value")}}},[e._v(e._s(e.target.value?"重新输入":"输入对象")+"\n      ")])],1)],2),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}})],1)},i=[]},"50CN":function(e,t,a){"use strict";a.r(t);var n=a("wBfa"),i=a("XS9B");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("mUNY");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"d0c0c2d4",null);t.default=r.exports},"50fI":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("rePB")),o=n(a("Ff2n")),r=n(a("HaE+")),s=n(a("KQm4")),c=n(a("E0s0"));a("uD/U");var u=n(a("GhP2")),d=n(a("/JV7")),p=a("0O+R"),f=a("cCei"),v=n(a("slWK")),m=n(a("YLtl")),h=a("xBdn"),b=n(a("Ze3F")),g=a("mtVH"),y=a("7Qib"),_=a("tgb1"),k=a("ZDQs"),C=a("7C5+"),O=["children"];function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S={name:"PanelData",components:{VueJsonPretty:c.default,GatewayDataSelect:u.default,SqlDataSelect:b.default,ModelDataSelect:d.default},inject:["dndOptions"].concat((0,s.default)(C.pageInject)),data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data"],dialogVisible:!1,selectedPath:void 0,responseOptions:[],response:void 0,request:void 0,jsonLoading:!1,tableLoading:!1,dataVariables:[],dataType:"model",apiType:"request",formItems:[{name:"输入框",value:"input"},{name:"文本框",value:"textarea"},{name:"下拉选择框",value:"select"},{name:"穿梭框",value:"transfer"},{name:"数字框",value:"input-number"},{name:"单选框",value:"radio-group"},{name:"多选框",value:"checkbox-group"},{name:"日期",value:"date-time-picker"},{name:"日期范围",value:"date-time-range-picker"},{name:"开关",value:"switch"},{name:"级联选择器",value:"cascader"},{name:"树状选择器",value:"tree"},{name:"颜色选取器",value:"color-picker"},{name:"评分",value:"rate"}],sqlSource:{name:"",id:void 0},selectedModel:null,apiInfo:null}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,p.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)},dynamicProps:function(){return this.getStore().dynamicProps},currentProps:function(){return this.dynamicProps[this.dndOptions.selectedId]||{}}},methods:{open:function(){this.response=null,this.request=null,this.selectedPath=void 0,this.dataVariables=[],this.sqlSource={name:"",id:void 0},this.selectedModel=null,this.apiInfo=null,this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a,n,r,s,c,u,d,v;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,(0,y.sleep)(10);case 3:return a=e.$refs.dataVariablesTable.getCheckboxRecords(),n=a.map((function(e){return e.key})),r=e.dataVariables.filter((function(e){return n.includes(e.key)})),s=m.default.cloneDeep(e.currentElement.children),t.next=9,e._storeDispatch(f.DELETE_LAYOUT_DATA,{elementIdList:s.map((function(e){return e.elementId}))});case 9:c={elementId:"",elementType:"layout",elementName:"布局单元",elementVersion:(0,g.getLastVersion)("layout"),children:[]},u=p.getResetIdWidget.call(e,c),e.currentElement.children.push(u),d=[],v=[],r.forEach((function(t){var a=e.dndOptions.widgets.find((function(e){return e.elementType===t.vue})),n=p.getResetIdWidget.call(e,a);p.treeUtil.forEach([n],(function(t){t.children;var a=(0,o.default)(t,O),n=x(x({},a),a.defaultProps||{});k.defaultKeys.forEach((function(t){e.$delete(n,t)})),v.push({elementId:a.elementId,props:m.default.cloneDeep(n)}),k.defaultKeys.forEach((function(a){e.$delete(t,a)}))})),d.push((0,l.default)({},n.elementId,{useSlotProps:!0,prop:t.key,label:t.label,value:_.getPropsValues.call(e,n).value})),u.children.push(n)})),e._storeCommit(f.INIT_DYNAMIC_PROPS,{propsList:v}),e._storeCommit(f.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:d}),e._storeCommit(f.UPDATE_LAYOUT_DATA,{elementId:e.currentElement.elementId,layout:{children:e.currentElement.children}}),e.loading=!1,e.dialogVisible=!1;case 20:case"end":return t.stop()}}),t)})))()},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleShowGatewayDataSelect:function(){this.$refs.gatewayDataSelect.open()},handleGatewayDataConfirm:function(e){e.apiRequest,e.response;var t=e.apiInfo,a=e.detail;this.apiInfo=t||{},this.response=JSON.parse(a.responseText),this.request=JSON.parse(a.requestText)},handleShowSqlDataSelect:function(){this.$refs.sqlDataSelect.open()},handleSqlDataConfirm:function(e){this.sqlSource.name=e.name,this.sqlSource.id=e.id},handleShowModelSelect:function(){this.$refs.modelDataSelect.open({dataSourceName:this.sqlSource.name,selectedRow:this.selectedModel})},handleModelDataConfirm:function(e){this.selectedModel=e,this.handleGetDataModelDetailById(e.id)},handleGetDataModelDetailById:function(e){var t=this;this.tableLoading=!0,this.$http({url:v.default.dataModelDetail,data:{datasetId:e}}).then((function(e){var a=e.data;t.dataVariables=a.map((function(e){return{key:e.physicalName,label:e.name,vue:"input"}})),t.$nextTick((function(){t.$refs.dataVariablesTable.setAllCheckboxRow(!0)}))})).finally((function(){t.tableLoading=!1}))},handleGenerateKey:function(){var e=this;if(this.response||this.request)if(this.selectedPath){var t=this.selectedPath.replace("response.",""),a="request"===this.apiType?this.request:this.response,n=m.default.get(a,t),i=n;if(!0==("string"==typeof n))if((0,h.isValidJsonString)(n))try{i=JSON.parse(n.trim())}catch(e){console.log(e)}m.default.isObject(i)?(this.dataVariables=Object.keys(i).map((function(e){return{key:e,label:"",vue:"input"}})),this.$nextTick((function(){e.$refs.dataVariablesTable.setAllCheckboxRow(!0)}))):this.$message.error("请选择一个有数据的表单数据节点！")}else this.$message.error("请选择一个有数据的表单数据节点！");else this.$message.error("请选择一个提供表单数据的服务网关或手动输入请响应体数据！")}}};t.default=S},"50hC":function(e,t,a){"use strict";a("auxZ")},"50yw":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{on:{change:e.switchChange},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),e.value.length?a("el-popover",{attrs:{placement:"right",width:"400",trigger:"click"}},[a("el-form",{staticStyle:{"max-height":"500px","overflow-y":"auto"},attrs:{"label-position":"left","label-width":"50px"}},e._l(e.value,(function(t,n){return a("el-form-item",{key:n,attrs:{label:n+1+"分"}},[a("el-input",{key:n,attrs:{value:t,clearable:"",placeholder:"请输入辅助文字"},on:{input:function(t){return e.handleInputing(t,n)},clear:function(e){t=""}}})],1)})),1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1):e._e()],1)},i=[]},"52VM":function(e,t,a){var n=a("MwcG");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("0c158651",n,!0,{})},"594K":function(e,t,a){"use strict";a.r(t);var n=a("BXkw"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"59zf":function(e,t,a){},"5BCi":function(e,t,a){"use strict";a.r(t);var n=a("rwvZ"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"5DBF":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{placement:"bottom",title:"选择组件",trigger:"click"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("el-input",{staticClass:"tree-select-search",attrs:{placeholder:"输入组件名称筛选",clearable:""},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),e._v(" "),a("n-tree",{ref:"tree",staticClass:"tree-select-popper-content",style:{minWidth:"string"==typeof e.width?e.width:e.width-24+"px"},attrs:{data:e.treeData,"show-checkbox":"","default-expand-all":!1,"default-expanded-keys":e.defaultExpandedKeys,"check-on-click-node":!0,"expand-on-click-node":!1,"node-key":e.nodeKey,"check-strictly":!0,"filter-node-method":e.filterNode,"icon-class":"icon-right",props:e.treeProps,"default-checked-keys":e.defaultSelectedKeys},on:{check:e.handleCheckClick,"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){t.node;var n=t.data;return a("div",{staticClass:"widget-tree-node-name"},[a("div",{staticClass:"widget-tree-node-icon",style:"background-image: url("+e.$getImgPrefix(e.iconMap[n.elementType])+")"}),e._v(" "),a("span",[e._v(e._s(n.elementName+" "+n.elementId))])])}}])}),e._v(" "),a("el-select",{ref:"trigger",staticClass:"tree-select",style:{width:"string"==typeof e.width?e.width:e.width+"px"},attrs:{slot:"reference","popper-class":"tree-select-popper-trigger",placeholder:"请选择组件",clearable:!e.multiple,multiple:e.multiple},on:{clear:e.clearSelection,"remove-tag":e.handleRemoveSelection},slot:"reference",model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.selectedNodes,(function(e){return a("el-option",{key:e.elementId,attrs:{label:e.elementName,value:e}})})),1)],1)},i=[]},"5Dxr":function(e,t,a){},"5Eao":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.use,callback:function(t){e.$set(e.value,"use",t)},expression:"value.use"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"250",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"80px"}},[a("el-form-item",{attrs:{label:"刻度段数"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.value.splitNumber,callback:function(t){e.$set(e.value,"splitNumber",t)},expression:"value.splitNumber"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},"5IJH":function(e,t,a){var n=a("TV9y");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("5febc8b4",n,!0,{})},"5Kgc":function(e,t,a){},"5LGG":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n    "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-switch",{attrs:{"active-color":"#3F92FE"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},i=[]},"5Pcb":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[a("div",{staticClass:"inner-content"},[a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("提醒分类名称")]),e._v(" "),a("span",{staticClass:"key"},[e._v("操作")])],1),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300",handle:".el-icon-rank"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.groupName,staticClass:"content",style:{opacity:t.isHidden?"0.5":"1"}},[e.deleteMode?a("el-checkbox",{attrs:{label:t.groupName},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.groupName))]),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n              ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDeleteColumn(n)}}},[e._v("删除\n              ")])],1)],1)})),0)],1)],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticClass:"add-reg-exp-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleAddColumn}},[e._v("\n        +\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"300",trigger:"manual",title:e.variableForm.isAdd?"新增":"编辑"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"85px",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"分类名称",prop:"groupName"}},[a("el-input",{model:{value:e.variableForm.groupName,callback:function(t){e.$set(e.variableForm,"groupName","string"==typeof t?t.trim():t)},expression:"variableForm.groupName"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"主题色",prop:"backgroundColor"}},[a("el-color-picker",{attrs:{"show-alpha":"",size:"mini",predefine:e.predefineColors},model:{value:e.variableForm.backgroundColor,callback:function(t){e.$set(e.variableForm,"backgroundColor",t)},expression:"variableForm.backgroundColor"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"文字颜色",prop:"textColor"}},[a("el-color-picker",{attrs:{"show-alpha":"",size:"mini",predefine:e.predefineColors},model:{value:e.variableForm.textColor,callback:function(t){e.$set(e.variableForm,"textColor",t)},expression:"variableForm.textColor"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"模板内容",prop:"templates"}},[e._l(e.variableForm.templates,(function(t,n){return a("el-input",{key:n,attrs:{clearable:""},on:{clear:function(t){return e.variableForm.templates.splice(n,1)}},model:{value:e.variableForm.templates[n],callback:function(t){e.$set(e.variableForm.templates,n,t)},expression:"variableForm.templates[index]"}})})),e._v(" "),a("div",{staticClass:"add-btn-primary",staticStyle:{cursor:"pointer"},on:{click:e.handleAddTemplate}},[e._v("\n              +\n            ")])],2),e._v(" "),a("n-form-item",{attrs:{label:"允许自定义",prop:"editable"}},[a("el-switch",{model:{value:e.variableForm.editable,callback:function(t){e.$set(e.variableForm,"editable",t)},expression:"variableForm.editable"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n          ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n          ")])],1)],1)])],2)},i=[]},"5Pl3":function(e,t,a){"use strict";a.r(t);var n=a("MrFI"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"5dVs":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("cpcO")),r=n(a("Xcjf")),s=a("8SHQ"),c=n(a("YLtl")),u={name:"DataFormat",components:{JsConfig:r.default,HtmlTemplate:o.default},data:function(){return{dialogVisible:!1,activeName:"normal",fixed:2,valueFormat:"YYYY-MM-DD HH:mm",functionId:void 0,defaultArguments:[],enumeration:[{value:"",label:""}],dateFormatOptions:["YYYY-MM-DD","YYYY-MM-DD HH:mm","YYYY-MM-DD HH:mm:ss","HH:mm:ss","HH:mm"],renderType:"default",formatterType:"number",normalFormatterTypeList:[{value:"number",label:"数值"},{value:"string",label:"文本"},{value:"date",label:"日期"}],functionName:"fixNumber",regexp:"",isI:!1,isM:!1}},computed:{functionList:function(){switch(this.formatterType){case"number":return[{label:"小数位数",value:"fixNumber"}];case"string":return[{label:"枚举值",value:"enumeration"},{label:"正则提取",value:"exec"}];case"date":return[{label:"日期格式转换",value:"dateFormat"}]}}},methods:{open:function(e){var t=e.formatter,a=e.defaultArguments;if(t){var n=c.default.cloneDeep(t);this.activeName="js"===n.type?"js":"normal",this.formatterType=n.type,this.functionName=n.functionName,this.fixed=n.fixed||2,this.regexp=n.regexp||"",this.isI=n.isI||!1,this.isM=n.isM||!1,this.valueFormat=n.valueFormat||"YYYY-MM-DD HH:mm",this.enumeration=n.enumeration||[{value:"",label:""}],"js"===this.activeName&&(this.renderType=n.renderType,this.functionId=n.value.split(s.FUNCTION_FLAG)[1])}this.defaultArguments=a||[],this.dialogVisible=!0},handleClose:function(e){this.clear(),e()},clear:function(){this.renderType="default",this.regexp="",this.isI=!1,this.isM=!1,this.functionId=void 0,this.activeName="normal",this.enumeration=[{value:"",label:""}],this.formatterType="number",this.functionName="fixNumber",this.dialogVisible=!1},getNumberFormatter:function(){if("fixNumber"===this.functionName)return{fixed:this.fixed}},getStringFormatter:function(){switch(this.functionName){case"enumeration":return{enumeration:this.enumeration};case"exec":return{regexp:this.regexp,isI:this.isI,isM:this.isM}}},getDateFormatter:function(){if("dateFormat"===this.functionName)return{valueFormat:this.valueFormat}},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("js"===e.activeName||e.functionName){t.next=3;break}return e.$message.error("请选择格式化函数！"),t.abrupt("return");case 3:t.t0=e.formatterType,t.next="number"===t.t0?6:"string"===t.t0?8:"date"===t.t0?10:"js"===t.t0?12:16;break;case 6:return a=e.getNumberFormatter(),t.abrupt("break",16);case 8:return a=e.getStringFormatter(),t.abrupt("break",16);case 10:return a=e.getDateFormatter(),t.abrupt("break",16);case 12:return t.next=14,e.$refs.jsConfig.confirm();case 14:return a={type:"js",functionName:"cellValueFormat",renderType:e.renderType,value:"".concat(s.FUNCTION_FLAG).concat(e.functionId)},t.abrupt("break",16);case 16:if(a.functionName=a.functionName||e.functionName,a.type=a.type||e.formatterType,""!==a.regexp){t.next=21;break}return e.$message.error("请输入正则表达式！"),t.abrupt("return");case 21:if(!a.regexp){t.next=30;break}t.prev=22,new RegExp(a.regexp),t.next=30;break;case 26:return t.prev=26,t.t1=t.catch(22),e.$message.error("正则表达式不合法！"),t.abrupt("return");case 30:e.$emit("confirm",a),e.clear();case 32:case"end":return t.stop()}}),t,null,[[22,26]])})))()},handleAddEnu:function(){this.enumeration.push({value:"",label:""})},handleDeleteEnu:function(e){1!==this.enumeration.length&&(this.enumeration=this.enumeration.filter((function(t){return t.value!==e.value})))},handleShowHtmlTemplate:function(){this.$refs.htmlTemplate.open()},handleSelectHtmlTemplate:function(e){this.$refs.jsConfig.updateCode(e.code)},handleTabClick:function(e){this.formatterType="js"===e.name?"js":"",this.formatterType||(this.functionName="")}}};t.default=u},"5o1f":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e,t=this,a=t.$createElement,n=t._self._c||a;return n("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"input-dialog",attrs:{"custom-class":"low-code-dialog",title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("div",{staticClass:"dialog-body"},["text"===t.type?n("el-input",{staticClass:"input-item",attrs:{type:"textarea",rows:3,placeholder:"请输入文本"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e(),t._v(" "),"number"===t.type?n("el-input-number",{staticClass:"input-item",attrs:{placeholder:"请输入数值"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e(),t._v(" "),"object"===t.type?n("div",{staticClass:"json-input"},[n("el-tabs",{attrs:{type:"card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"树形结构",name:"tree"}},["tree"===t.activeName?n("JsonEditor",{staticClass:"json-editor",attrs:{"callback-id":t.callbackId,emitEvent:t.emitEvent},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),t._v(" "),n("el-tab-pane",{attrs:{name:"json"}},[n("span",{attrs:{slot:"label"},slot:"label"},[t._v("\n                  JSON\n                  "),n("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v("\nJSON文件都是被包裹在一个大括号{}或者方括号[]中，通过key-value的方式来表达数据。JSON的Key必须包裹在一个双引号中，在实践中，编写 JSON 的时候，忘了给 Key 值加双引号或者是把双引号写成单引号是常见错误。\n\nJSON的值只能是以下几种数据格式，其他任何格式都会触发报错，例如 JavaScript 中的 undefined。\n\n1.数字，包含浮点数和整数\n2.字符串，需要包裹在双引号中\n3.Bool值，true 或者 false\n4.数组，需要包裹在方括号中 []\n5.对象，需要包裹在大括号中 {}\n6.Null\n\n还需要注意的是 JSON 文件中无法使用注释，试图添加注释将会引发报错\n                    ")]),t._v(" "),n("i",{staticClass:"el-icon-question"})])],1),t._v(" "),n("json-code",{staticClass:"json-code-editor",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1):t._e(),t._v(" "),"js"===t.type?n("div",{staticClass:"js-input"},[n("js-config",{staticClass:"input-item",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e(),t._v(" "),"function"===t.type?n("div",{staticClass:"js-input"},[n("js-code",{staticClass:"input-item",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e(),t._v(" "),"css"===t.type?n("div",{staticClass:"js-input"},[n("CssCode",{staticClass:"input-item",model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1):t._e(),t._v(" "),"attrVue"===t.type?n("n-form",{staticClass:"props-panel",attrs:{size:"mini",inline:"","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[n("attr-input",t._b({attrs:{"element-props":(e={},e[t.attrConfig.propKey]=this.value,e)},on:{confirm:t.handleAttrInput}},"attr-input",t.attrConfig,!1))],1):t._e()],1):t._e(),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.confirm}},[t._v("确 定")])],1)])},i=[]},"5oC1":function(e,t,a){var n=a("CekP");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e9d7b6aa",n,!0,{})},"5scX":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("YLtl"));function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={props:{elementId:{type:String},propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{deleteMode:!1,tableData:[]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=c(c({},this.elementProps),{},(0,o.default)({},this.propKey,e));this.$emit("update",t)}}},watch:{elementId:{immediate:!0,handler:function(e,t){this.updateTableData()}}},methods:{updateValue:function(){this.value=r.default.cloneDeep(this.tableData)},updateTableData:function(){this.tableData=r.default.cloneDeep(this.value)},insertRow:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l,o,r;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.$refs.xTable,l={row:0,col:0,rowspan:0,colspan:0},a.next=4,n.insertAt(l,e);case 4:return o=a.sent,r=o.row,a.next=8,n.setActiveCell(r,"row");case 8:case"end":return a.stop()}}),a)})))()},deleteRow:function(e){this.$refs.xTable.remove(e),this.handleSave()},doDelete:function(){this.$refs.xTable.removeCheckboxRow(),this.handleSave()},handleSave:function(){var e=this.$refs.xTable.getTableData().fullData.map((function(e){return delete e._XID,Object.keys(e).forEach((function(t){return e[t]=Number(e[t])})),e}));this.tableData=e,this.updateValue()}}};t.default=u},"5t5B":function(e,t,a){var n={"./v1/watch-props.js":"wzrf"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="5t5B"},"5yxy":function(e,t,a){"use strict";a.r(t);var n=a("PdWV"),i=a("QIvs");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("4hSN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"465755ac",null);t.default=r.exports},"60rB":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[e.showDataType?a("el-form-item",{attrs:{"label-width":"100px",label:"数据配置"}},[a("el-radio-group",{model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[a("el-radio-button",{attrs:{label:"static"}},[e._v("数据集")]),e._v(" "),a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("动态图例")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"mode-select"},[a("data-selector",e._b({attrs:{btnText:"配置",optionkey:"chart"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("类目字段")]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form",{staticClass:"no-mb",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"数据标签"}},[a("el-switch",{model:{value:e.xSetting.dataLabel,callback:function(t){e.$set(e.xSetting,"dataLabel",t)},expression:"xSetting.dataLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签格式化"}},[a("el-switch",{model:{value:e.xSetting.dataLabelUseformatter,callback:function(t){e.$set(e.xSetting,"dataLabelUseformatter",t)},expression:"xSetting.dataLabelUseformatter"}})],1),e._v(" "),e.xSetting.dataLabelUseformatter?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:e.xSetting.dataLabelFormatter,callback:function(t){e.$set(e.xSetting,"dataLabelFormatter",t)},expression:"xSetting.dataLabelFormatter"}})],1):e._e()],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1)],1)]),e._v(" "),e._l(e.xFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"类目名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.name,callback:function(t){e.$set(e.rowInfo,"name",t)},expression:"rowInfo.name"}})],1),e._v(" "),a("el-form-item",{staticClass:"flex-item",attrs:{label:"设置最大值","label-width":"100px"}},[a("el-switch",{model:{value:e.rowInfo.useMax,callback:function(t){e.$set(e.rowInfo,"useMax",t)},expression:"rowInfo.useMax"}})],1),e._v(" "),e.rowInfo.useMax?a("el-form-item",{staticClass:"flex-item",attrs:{label:"顶点最大值","label-width":"100px"}},[a("el-input-number",{model:{value:e.rowInfo.max,callback:function(t){e.$set(e.rowInfo,"max",t)},expression:"rowInfo.max"}})],1):e._e(),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["x-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["x-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"x-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteXItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addXFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n        添加数据字段\n      ")])],1)],2),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("数值字段")]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{"popper-class":"y-popover",placement:"left",width:"350"}},[a("el-form",{staticClass:"no-mb",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"数据标签"}},[a("el-switch",{model:{value:e.ySetting.dataLabelShow,callback:function(t){e.$set(e.ySetting,"dataLabelShow",t)},expression:"ySetting.dataLabelShow"}})],1),e._v(" "),e.ySetting.dataLabelShow?[a("el-form-item",{attrs:{label:"数据标签位置"}},[a("Select",{attrs:{options:e.positionOptions},model:{value:e.ySetting.dataLabelPosition,callback:function(t){e.$set(e.ySetting,"dataLabelPosition",t)},expression:"ySetting.dataLabelPosition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签格式化"}},[a("el-switch",{model:{value:e.ySetting.dataLabelUseformatter,callback:function(t){e.$set(e.ySetting,"dataLabelUseformatter",t)},expression:"ySetting.dataLabelUseformatter"}})],1),e._v(" "),e.ySetting.dataLabelUseformatter?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:e.ySetting.dataLabelFormatter,callback:function(t){e.$set(e.ySetting,"dataLabelFormatter",t)},expression:"ySetting.dataLabelFormatter"}})],1):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"拐点"}},[a("el-switch",{model:{value:e.ySetting.useSymbol,callback:function(t){e.$set(e.ySetting,"useSymbol",t)},expression:"ySetting.useSymbol"}})],1),e._v(" "),e.ySetting.useSymbol?[a("el-form-item",{attrs:{label:"拐点大小"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.ySetting.symbolSize,callback:function(t){e.$set(e.ySetting,"symbolSize",t)},expression:"ySetting.symbolSize"}},e._l(e.sizeOptions,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-form-item",{staticClass:"top-form-item",attrs:{label:"拐点样式"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.yFields}},[a("el-table-column",{attrs:{prop:"value",label:"类目名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Select",{attrs:{options:e.symbolOptions,clearable:!1},model:{value:t.row.symbol,callback:function(a){e.$set(t.row,"symbol",a)},expression:"scope.row.symbol"}})]}}],null,!1,3521968673)})],1)],1)]:e._e()],2),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1)],1)]),e._v(" "),[e._l(e.yFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.value))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"字段名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.key,callback:function(t){e.$set(e.rowInfo,"key",t)},expression:"rowInfo.key"}})],1),e._v(" "),a("el-form-item",{staticClass:"flex-item",attrs:{label:"显示名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.value,callback:function(t){e.$set(e.rowInfo,"value",t)},expression:"rowInfo.value"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["y-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["y-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"y-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteYItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addYFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n          添加数据字段\n        ")])],1)]],2)],1)},i=[]},"61G5":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.use,callback:function(t){e.$set(e.value,"use",t)},expression:"value.use"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"进度条颜色"}},[a("el-color-picker",{model:{value:e.value.color,callback:function(t){e.$set(e.value,"color",t)},expression:"value.color"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"进度条宽度"}},[a("range-selector",{attrs:{options:e.widthOptions},model:{value:e.value.width,callback:function(t){e.$set(e.value,"width",t)},expression:"value.width"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},"668E":function(e,t,a){"use strict";a("xSsr")},"670i":function(e,t,a){var n=a("WROV");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("d3d53224",n,!0,{})},"68Eg":function(e,t,a){var n=a("SMyj");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("20c4907e",n,!0,{})},"6D8J":function(e,t,a){"use strict";a.r(t);var n=a("pBsX"),i=a("2YrO");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("bT5V");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"395c9550",null);t.default=r.exports},"6KcV":function(e,t,a){"use strict";a.r(t);var n=a("XN6s"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"6ONe":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[e._l(e.value,(function(t,n){return a("div",{key:n,staticClass:"content"},[a("el-tooltip",{attrs:{effect:"dark",content:n,placement:"top"}},[a("div",{staticClass:"name"},[e._v(e._s(t.desc))])]),e._v(" "),a("div",{staticClass:"config"},[a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleEditVariable(n,t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"text",size:"mini"},on:{click:function(a){return e.handleDeleteVariable(n,t)}}},[e._v("删除")])],1)],1)})),e._v(" "),a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"add-btn-primary",staticStyle:{"margin-top":"10px"},on:{click:e.handleAddVariable}},[e._v("\n    +\n  ")]),e._v(" "),a("el-popover",{ref:"popover",attrs:{title:e.oldKey?"编辑变量":"新增变量",width:"360",trigger:"manual","popper-class":"has-modal-popper",placement:"bottom","visible-arrow":!1},on:{"after-enter":e.handleShowModal,hide:e.handleHideModal},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"90px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("作为入参")]),e._v(" "),a("el-tooltip",{attrs:{content:"开启则表示跳转到当前页面时需要将此参数携带到浏览器url上,开启后变量的值只支持字符串类型","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{on:{change:e.handleIsEntryChange},model:{value:e.variableForm.isEntry,callback:function(t){e.$set(e.variableForm,"isEntry",t)},expression:"variableForm.isEntry"}})],2),e._v(" "),a("n-form-item",{attrs:{prop:"name"}},[a("template",{slot:"label"},[a("span",[e._v("变量编码")]),e._v(" "),a("el-tooltip",{attrs:{content:"禁止使用以下系统保留字段作为变量编码："+e.innerKeys,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input",{model:{value:e.variableForm.name,callback:function(t){e.$set(e.variableForm,"name",t)},expression:"variableForm.name"}})],2),e._v(" "),a("n-form-item",{attrs:{label:"变量名",prop:"desc"}},[a("el-input",{model:{value:e.variableForm.desc,callback:function(t){e.$set(e.variableForm,"desc",t)},expression:"variableForm.desc"}})],1),e._v(" "),a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("默认值")])]),e._v(" "),e.variableForm.isEntry?a("el-input",{model:{value:e.variableForm.value,callback:function(t){e.$set(e.variableForm,"value",t)},expression:"variableForm.value"}}):[void 0!==e.variableForm.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.variableForm.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.variableForm.value)},on:{click:function(t){return e.handleTagClick(e.variableForm,"value")},close:function(t){e.variableForm.value=void 0}}},[e._v("\n                "+e._s(e.formatTag(e.getElementName(e.variableForm.value),12))+"\n              ")])],1):[a("el-button-group",{staticClass:"default-value"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("text",e.variableForm,"value")}}},[e._v("文本")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("number",e.variableForm,"value")}}},[e._v("数值")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("object",e.variableForm,"value")}}},[e._v("对象")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(t){return e.variableForm.value=t}}})]]],2)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n        ")])],1)],1)]),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}})],2)},i=[]},"6Pz/":function(e,t,a){"use strict";a.r(t);var n=a("QL+e"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"6Qjt":function(e,t,a){"use strict";a.r(t);var n=a("61G5"),i=a("diaI");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("QmTp");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0ae06cf2",null);t.default=r.exports},"6QsX":function(e,t,a){"use strict";a.r(t);var n=a("oR+E"),i=a("SUPm");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("HFaO");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"647f1922",null);t.default=r.exports},"6i9v":function(e,t,a){"use strict";a("3s84")},"6jG3":function(e,t,a){},"6jNF":function(e,t,a){"use strict";a.r(t);var n=a("8OdB"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"6nD+":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-color-picker",{attrs:{"show-alpha":!0},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},i=[]},"6nq0":function(e,t,a){"use strict";a.r(t);var n=a("Bw+B"),i=a("KIuu");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("wctx");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"11c8189e",null);t.default=r.exports},"6o/s":function(e,t,a){},"6oP8":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[e._v("\n  表头分组\n  "),a("div",{staticClass:"config-btns-wrapper"},[0===e.elementProps.tableHeaderGroup.length?a("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRules}},[e._v("表头分组配置")]):a("div",{staticClass:"config-item"},[a("el-button",{attrs:{type:"text"},on:{click:e.handleEditRules}},[e._v("编辑表头分组")]),e._v(" "),a("i",{staticClass:"el-icon-delete delete-icon",attrs:{title:"删除配置"},on:{click:e.handleDeleteRules}})],1)],1),e._v(" "),a("el-dialog",{attrs:{"custom-class":"header-group-config",title:"表头分组配置",visible:e.dialogVisible,"close-on-click-modal":!0,"modal-append-to-body":!0,"append-to-body":!0,"before-close":e.beforeClose,width:"330px",top:"0"}},[a("div",{staticClass:"dialog-content"},[a("div",{staticClass:"static-set-cont"},[a("div",[a("n-tree",{ref:"tree",staticClass:"option-tree",attrs:{data:e.treeData,"node-key":"id","icon-class":"icon-right",draggable:"","expand-on-click-node":!1,allowDrop:e.allowDrop},on:{"node-drop":e.handleDropChange},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"label"},[e._v(e._s(n.label))]),e._v(" "),a("span",[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(n,i)}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),i.isLeaf?e._e():a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.append(n,i)}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.remove(n,i)}}},[a("i",{staticClass:"el-icon-delete",staticStyle:{color:"red"}})])],1)])}}])}),e._v(" "),a("el-button",{staticClass:"option-btn",attrs:{type:"text"},on:{click:e.handleAddOption}},[a("i",{staticClass:"iconfont el-icon-circle-plus-outline"}),e._v("\n            添加分组\n          ")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"分组配置",visible:e.popoverVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,"before-close":e.beforeSaveClose,width:"350px",top:"15vh"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",staticClass:"popover-config-form",attrs:{model:e.variableForm,rules:e.rules,inline:"","label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"分组标题",prop:"label"}},[a("el-input",{model:{value:e.variableForm.label,callback:function(t){e.$set(e.variableForm,"label",t)},expression:"variableForm.label"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"叶子节点",prop:"isLeaf"}},[a("el-switch",{attrs:{disabled:!e.variableForm.isLeaf&&e.variableForm.children&&e.variableForm.children.length},on:{change:function(t){e.variableForm.field=""}},model:{value:e.variableForm.isLeaf,callback:function(t){e.$set(e.variableForm,"isLeaf",t)},expression:"variableForm.isLeaf"}})],1),e._v(" "),e.variableForm.isLeaf?a("n-form-item",{attrs:{label:"数据列",prop:"field"}},[a("el-select",{on:{change:e.handleFieldChange},model:{value:e.variableForm.field,callback:function(t){e.$set(e.variableForm,"field",t)},expression:"variableForm.field"}},e._l(e.column,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key,disabled:e.isDisabledField(t.key)}})})),1)],1):e._e(),e._v(" "),e.variableForm.isLeaf?e._e():a("n-form-item",{attrs:{label:"对齐方式",prop:"align"}},[a("el-button-group",[a("el-button",{attrs:{type:"left"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="left"}}},[e._v("左\n                ")]),e._v(" "),a("el-button",{attrs:{type:"center"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="center"}}},[e._v("\n                  中\n                ")]),e._v(" "),a("el-button",{attrs:{type:"right"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="right"}}},[e._v("\n                  右\n                ")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.popoverVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)])],1)])],1)},i=[]},"6oPg":function(e,t,a){var n=a("e+dz");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("6aa733b7",n,!0,{})},"6okO":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name}},[e.dataInfo?a("div",{staticClass:"data-info-item"},[a("el-button",{attrs:{type:"text",loading:e.loading},on:{click:e.handleShowConfig}},[e._v(e._s(e.dataInfo))]),e._v(" "),a("div",{staticClass:"data-tools",on:{click:e.handleDelete}},[a("i",{staticClass:"iconfont icon-delete"})])],1):a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.handleShowConfig}},[e._v(e._s(e.btnText))]),e._v(" "),a("data-select",{ref:"dataSelect",attrs:{"use-type":e.useType},on:{confirm:e.handleConfirm}}),e._v(" "),a("chart-data",e._b({ref:"chartData",on:{confirm:e.handleConfirm}},"chart-data",e.$props,!1)),e._v(" "),a("table-data",{ref:"tableData",on:{confirm:e.handleConfirm}}),e._v(" "),a("panel-data",{ref:"panelData",on:{confirm:e.handleConfirm}})],1)},i=[]},"6wqz":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("rePB")),o=n(a("HaE+")),r=n(a("KQm4")),s=n(a("pKu3")),c=n(a("E0s0"));a("uD/U");var u=n(a("YLtl")),d=a("xBdn"),p=a("0O+R"),f=a("cCei"),v=a("mtVH"),m=n(a("slWK")),h=a("a+hW"),b=n(a("Mqf6")),g=a("7C5+");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k={name:"DataSelect",components:{VueJsonPretty:c.default,DataSetConfig:s.default},mixins:[b.default],inject:["dndOptions"].concat((0,r.default)(g.pageInject)),props:{useType:{type:String,default:""}},data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","column"],dialogVisible:!1,dataColumn:void 0,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,selectedPath:void 0,responseOptions:[],response:void 0,dataListKeys:[],jsonLoading:!1,tableLoading:!1,activeDataType:""}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,p.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)},currentProps:function(){return this.getElementPropsById(this.dndOptions.selectedId)},optionsMode:function(){return"options"===this.useType}},methods:{open:function(e){var t=this,a=e.dataColumn,n=e.dataVariables,i=e.apiRequest,l=e.sqlRequest,o=e.staticData;this.dataColumn=a?u.default.cloneDeep(a):[],this.dataVariables=n?u.default.cloneDeep(n):[],this.staticData=u.default.cloneDeep(o)||void 0,this.apiRequest=u.default.cloneDeep(i)||void 0,this.sqlRequest=u.default.cloneDeep(l)||void 0,this.response=null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleDelete:function(e){this._storeCommit(f.DELETE_LAYOUT_DATA,{elementId:e})},handleGenerateTableData:function(){var e=this,t={dataColumn:this.dataColumn,dataVariables:this.dataVariables,apiRequest:this.apiRequest,sqlRequest:this.sqlRequest,staticData:this.staticData},a=this.currentElement.children.filter((function(t){return["slot"].includes(t.elementType)&&["data"].includes(e.getElementPropsById(t.elementId).slotType)})),n=a.map((function(t){return e.getElementPropsById(t.elementId).slotName})),i=this.dataColumn.map((function(e){return e.key})),l=n.filter((function(e){return!i.includes(e)}));a.filter((function(t){return l.includes(e.getElementPropsById(t.elementId).slotName)})).map((function(e){return e.elementId})).forEach((function(t){return e.handleDelete(t)}));var o=!!this.currentProps.isUseSlot;return this.dataColumn.forEach((function(t){var a=t.key;if(!n.includes(a)){var i={elementId:"",elementType:"slot",elementVersion:(0,v.getLastVersion)("slot"),elementName:t.label,defaultProps:{isVisible:o,slotName:a,slotType:"data",canDropInsideTypes:["text","tag","href","button"]},children:[{elementId:"",elementType:"text",elementVersion:(0,v.getLastVersion)("text"),elementName:"文本",children:[],defaultProps:{useSlotProps:!0,prop:a}}]};p.buildNewWidget.call(e,i,e.currentElement.elementId,"center")}})),t},confirm:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var a,n,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,e.apiRequest=n,e.sqlRequest=l,e.staticData=o,e.loading=!0,setTimeout((function(){var t=e.handleGenerateTableData();e.loading=!1,e.$emit("confirm",t),e.dialogVisible=!1}),100);case 6:case"end":return t.stop()}}),t)})))()},handleDataListPathChange:function(e,t){if("dataList"===t){var a=(0,h.getPathString)(e);this.handleGenerateConfig(a)}},handleAutoGenerate:function(){this.jsonLoading=!0;var e=this.selectedPath.replace("response.",""),t=this.dataVariables.find((function(e){return"dataList"===e.key})),a=(0,h.getPathList)(e),n=a.slice(0,a.length-1),i=u.default.get(this.response,n)||{};this.dataVariables=this.dataVariables.map((function(e){if(void 0!==i[e.key])return _(_({},e),{},{path:n.concat(e.key)});if(!0==("totalCount"===e.key)){if(void 0!==i.rowCount)return _(_({},e),{},{path:n.concat("rowCount")});if(void 0!==i.total)return _(_({},e),{},{path:n.concat("total")})}return e})),t&&(t.path=a),this.handleGenerateConfig(e)},handleGenerateConfig:function(e){var t=this;return(0,o.default)(i.default.mark((function a(){var n,l,o;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n=u.default.get(t.response,e),a.t0=!0,a.next=a.t0===("string"==typeof n)?4:a.t0===(Array.isArray(n)&&u.default.isObject(n[0]))?6:8;break;case 4:if((0,d.isValidJsonString)(n))try{l=JSON.parse(n.trim())[0]}catch(e){console.log(e)}return a.abrupt("break",8);case 6:return l=n[0],a.abrupt("break",8);case 8:if(t.jsonLoading=!1,l){a.next=12;break}return t.$confirm("数据解析失败，请手动映射","提示",{showCancelButton:!1}),a.abrupt("return");case 12:if(o=(0,h.getPathList)(e),t.dataListKeys=Object.keys(l),!t.dataColumn.length){a.next=17;break}return a.next=17,t.$confirm("此操作将覆盖数据列映射的配置，是否继续？","提示");case 17:t.tableLoading=!0,t.$http({url:m.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(t.$route.query.vid),preferences:[{key:"".concat(t.currentElement.elementId,".$currentRow"),value:JSON.stringify(l)||""}]}}).then((function(){t.dataColumn=t.dataListKeys.map((function(e){return{label:"".concat(e),key:e,align:"left",width:void 0,minWidth:"160",sortable:!1,isHidden:!1,path:[].concat((0,r.default)(o),["0",e])}}))})).finally((function(){t.tableLoading=!1}));case 19:case"end":return a.stop()}}),a)})))()},handleResponse:function(e){var t=e.response,a=e.responseOptions;e.isStatic?this.handleStaticResponse({response:t,responseOptions:a}):(this.response=t,this.responseOptions=a)},handleStaticResponse:function(e){var t=this;return(0,o.default)(i.default.mark((function a(){var n,l,o,r;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response,e.responseOptions,n){a.next=3;break}return a.abrupt("return");case 3:if(Array.isArray(n)){a.next=6;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 6:if(l=n[0],u.default.isObject(l)){a.next=10;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 10:if(!t.dataColumn.length){a.next=13;break}return a.next=13,t.$confirm("此操作将覆盖数据列映射的配置，是否继续？","提示");case 13:(o=t.dataVariables.find((function(e){return"dataList"===e.key})))&&(o.path=[],r=[],t.dataListKeys=Object.keys(l),t.dataColumn=t.dataListKeys.map((function(e){return{label:"".concat(e),key:e,align:"left",width:void 0,minWidth:"160",sortable:!1,isHidden:!1,path:[].concat(r,["0",e])}}))),t.staticData=u.default.cloneDeep(n);case 16:case"end":return a.stop()}}),a)})))()},handleDrop:function(e){var t=e.target.dataset.key,a=this.dataVariables.find((function(e){return e.key===t})),n=(0,h.getPathList)(this.selectedPath);a.path=n.slice(1)},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,h.getObjectTree)(e)},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleClearResponse:function(){this.response=null,this.responseOptions=[]},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=k},"6xqI":function(e,t,a){"use strict";a.r(t);var n=a("7bPX"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"71hE":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=n(a("rePB")),s=a("aJrR"),c=a("tgb1"),u=n(a("ExK1")),d=n(a("oRZJ")),p=n(a("ZQwl")),f=a("vu0G"),v=n(a("YLtl")),m=a("7Qib"),h=n(a("0hJt")),b=a("8SHQ");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={mixins:[d.default],props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String},tip:{type:String}},data:function(){return{appList:s.appList,componentsOptions:[],componentsLoading:!1,appUrlError:!1,columns1:[{name:"参数名",key:"name"},{name:"参数描述",key:"desc"},{name:"是否必传",key:"required",format:function(e,t){var a=e[t];return void 0!==a&&a}}],columns2:[{name:"参数名",key:"name"},{name:"参数描述",key:"desc"},{name:"参数类型",key:"type"},{name:"是否必传",key:"required",format:function(e,t){var a=e[t];return void 0!==a&&a}},{name:"默认值",key:"default"},{name:"初始值",key:"defaultValue",width:"260px"}],paramsDialogVisible:!1,currentIndex:-1,dialogPropsData:[],tips1:"按es module规范暴露组件的js脚本",tips2:"组件模块支持按需加载, 建议使用\n\nexport const xx = () => import('xxx')"}},components:{valueInput:u.default},computed:{type:{get:function(){return this.elementProps.type},set:function(e){var t=y(y({},this.elementProps),{},{type:e,moduleName:"",propsData:[]});this.$emit("update",t)}},appUrl:{get:function(){return this.elementProps.appUrl},set:function(e){var t=v.default.cloneDeep(this.elementProps.urlHistory)||[];e&&!t.includes(e)&&(t.unshift(e),t.length>10&&t.pop());var a=y(y({},this.elementProps),{},{appUrl:e,urlHistory:t});this.$emit("update",a)}},urlHistory:function(){return this.elementProps.urlHistory},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t,a=y(y({},this.elementProps),{},(t={},(0,r.default)(t,this.propKey,e),(0,r.default)(t,"moduleName",""),(0,r.default)(t,"propsData",[]),t));this.$emit("update",a)}},moduleName:{get:function(){return this.elementProps.moduleName},set:function(e){if(e!==this.moduleName){var t,a=y(y({},this.elementProps),{},(t={},(0,r.default)(t,"moduleName",e),(0,r.default)(t,"propsData",[]),(0,r.default)(t,"eventsData",[]),t));this.$emit("update",a)}}},propsData:{get:function(){return this.elementProps.propsData}},componentInstance:function(){var e=this.source,t=this.moduleName,a=this.componentsOptions;return e&&t&&a.length?a.find((function(e){return e.value===t})).instance:{}},source:function(){return{inner:this.value,outer:this.appUrl}[this.type]}},watch:{source:{immediate:!0,deep:!0,handler:(0,m.debounce)((function(e){var t=this;e&&(this.componentsLoading=!0,this.componentsOptions=[],window.System.import(e).then((function(e){t.componentsLoading=!1,t.componentsOptions=Object.keys(e).map((function(t){return{label:t,value:t,instance:e[t]}})),t.appUrlError=!1})).catch((function(e){t.componentsLoading=!1,t.appUrlError=!0,h.default.recordBug({message:"加载自定义组件失败, 请确定“组件url”是否可访问并配置了跨域信息",error:e,target:t.elementProps,clickType:"props"})})))}),500)}},methods:{download:function(){window.open("".concat(b.STATIC_PREFIX,"/business_example.zip"))},refreshSetting:function(){var e=this;this.$confirm("重新解析组件所有的参数和事件名,但会覆盖目前修改后的名字, 是否继续?","提示",{closeOnClickModal:!1,confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((function(){e.initSetting(!0),e.$message.success("已更新")}))},setPropsInitVal:function(){this.dialogPropsData=v.default.cloneDeep(this.propsData),this.paramsDialogVisible=!0},confirm:function(){var e=y(y({},this.elementProps),{},{propsData:this.dialogPropsData,props:this.getProps(this.dialogPropsData)});this.$emit("update",e),this.paramsDialogVisible=!1},initSetting:function(){var e=arguments,t=this;return(0,o.default)(i.default.mark((function a(){var n,o,r,s,u,d;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],a.next=3,t.$nextTick();case 3:return a.next=5,Promise.all([(0,c.resolveProps)(t.componentInstance),(0,c.resolveEvents)(t.componentInstance)]);case 5:o=a.sent,r=(0,l.default)(o,2),s=r[0],u=r[1],d=y(y({},t.elementProps),{},{propsData:s,eventsData:u,props:t.getProps(s)}),t.$emit("update",d,{pushHistory:n}),t.$nextTick((function(){p.default.$emit(f.BIND_EVENTS)}));case 12:case"end":return a.stop()}}),a)})))()},getProps:function(e){return e.reduce((function(e,t){var a=t.defaultValue,n=a.type,i=a.value;return e[t.name]="function"===n?function(){var e;try{e=new Function(i)()}catch(t){e=i,console.warn(t)}return e}():i,e}),{})},handleInputResponse:function(e,t){this.dialogPropsData[this.currentIndex].defaultValue={value:e,type:t}}}};t.default=_},"7Byl":function(e,t,a){"use strict";a.r(t);var n=a("gLIa"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"7FvP":function(e,t,a){"use strict";a.r(t);var n=a("cuKp"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"7GXz":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("oRZJ")),l=n(a("YLtl")),o=a("uzoN"),r={name:"StyleConfigParams",mixins:[i.default],props:{elementId:{type:String},config:{type:Object},callbackId:{type:String}},data:function(){return{dynamicStyleConfigList:[]}},computed:{styleConfigList:function(){var e=this.getElementPropsById(this.elementId).styleConfigList;return e},isShowAdd:function(){return this.dynamicStyleConfigList.length<this.styleConfigList.length},isShowDelete:function(){return this.dynamicStyleConfigList.length>1}},watch:{dynamicStyleConfigList:{deep:!0,handler:function(e,t){this.config.params.dynamicStyleConfigList=l.default.cloneDeep(e)}}},methods:{handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleReset:function(){var e=this.styleConfigList[0],t=l.default.cloneDeep(o.styleConfig);t.name=e.name,t.query=e.query,t.styles=void 0,this.$set(this.config,"params",{dynamicStyleConfigList:[t]})},handleAddConfig:function(){var e=l.default.cloneDeep(o.styleConfig);e.name="",e.styles=void 0,this.dynamicStyleConfigList.push(e)},handleDeleteConfig:function(e){this.dynamicStyleConfigList.splice(e,1)},handleNameChange:function(e,t){var a=this.styleConfigList.find((function(t){return t.name===e}))||{};t.query=a.query}},created:function(){this.config.params||this.handleReset(),this.dynamicStyleConfigList=l.default.cloneDeep(this.config.params.dynamicStyleConfigList)}};t.default=r},"7IPi":function(e,t,a){"use strict";a("K3Ga")},"7JBJ":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.params?a("div",{staticClass:"tabs-params"},[a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label"},[e._v("切换方式")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},on:{change:e.handleChange},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"根据面板",value:"key"}}),e._v(" "),a("el-option",{attrs:{label:"根据变量",value:"dynamicActiveKey"}})],1)],1)]),e._v(" "),"key"===e.type?a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("选择面板")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini",multiple:""},model:{value:e.config.params.activeKey,callback:function(t){e.$set(e.config.params,"activeKey",t)},expression:"config.params.activeKey"}},e._l(e.collapseData,(function(t){return a("el-option",{key:t.key,attrs:{label:t.header,value:t.key}},[a("div",{staticStyle:{float:"left"}},[e._v(e._s(t.header))]),e._v(" "),a("div",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.key))])])})),1)],1)]):e._e(),e._v(" "),"dynamicActiveKey"===e.type?a("div",{staticClass:"tab-label"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("选择变量\n      "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v('需传入编码数组，如["pane1", "pane2"]')]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("div",{staticClass:"value"},[void 0!==e.config.params.dynamicActiveKey?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.config.params.dynamicActiveKey),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.config.params.dynamicActiveKey)},on:{click:function(t){return e.handleTagClick(e.config.params,"dynamicActiveKey")},close:function(t){e.config.params.dynamicActiveKey=void 0}}},[e._v("\n          "+e._s(e.formatTag(e.getElementName(e.config.params.dynamicActiveKey),12))+"\n        ")])],1):a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleShowVariableSelect(e.config.params,"dynamicActiveKey")}}},[e._v("变量")])],1)],1)]):e._e(),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}})],1):e._e()},i=[]},"7LpU":function(e,t,a){"use strict";a("DVmc")},"7Wyl":function(e,t,a){"use strict";a("Tn+e")},"7b+j":function(e,t,a){"use strict";a.r(t);var n=a("kP6+"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"7bPX":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{},props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t,a=o(o({},this.elementProps),{},(t={},(0,i.default)(t,this.propKey,e),(0,i.default)(t,"innerRadius","ring"===e?{value:45,unit:"%"}:{value:0,unit:"%"}),t));this.$emit("update",a)}}},data:function(){return{roseType:"",options:[{label:"标准",value:"default"},{label:"南丁格尔",value:"radius"},{label:"圆环图",value:"ring"}],roseOptions:[{label:"半径模式",value:"radius"},{label:"面积模式",value:"area"}]}},methods:{getType:function(e){return this.value.includes(e)?"primary":"default"},isRoseType:function(){return["radius","area"].includes(this.value)?"primary":void 0}}};t.default=r},"7cQz":function(e,t,a){"use strict";a.r(t);var n=a("3rfu"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"7fyo":function(e,t,a){"use strict";a.r(t);var n=a("wb0z"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"7gdO":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon_selector"},[a("div",{staticClass:"col"},[a("span",{staticClass:"label"},[e._v(e._s(e.name))]),e._v(" "),e.iconClass?a("i",{staticClass:"show-icon",class:e.iconClass}):e._e(),e._v(" "),a("n-popover",{attrs:{width:"400",placement:"bottom",trigger:"click","popper-class":"top-popper"}},[a("n-tabs",{attrs:{type:"card"},model:{value:e.iconType,callback:function(t){e.iconType=t},expression:"iconType"}},[a("n-tab-pane",{attrs:{label:"默认图标",name:"default"}},[a("div",{staticClass:"iconfont-list"},e._l(e.icons,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.valChange(t),e.handleShownPopover()}}})})),0)]),e._v(" "),a("n-tab-pane",{attrs:{label:"图标库选择",name:"iconfont"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"iconfont-list"},e._l(e.iconfonts,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.valChange(t),e.handleShownPopover()}}})})),0)])],1),e._v(" "),a("el-button",{ref:"referenceBtn",staticStyle:{"margin-right":"10px"},attrs:{slot:"reference",circle:"",type:"primary",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1),e._v(" "),e.iconClass?a("el-button",{attrs:{circle:"",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.valChange("")}}}):e._e()],1)])},i=[]},"7gor":function(e,t,a){"use strict";a("0IXW")},"7lHW":function(e,t,a){"use strict";a("wRsh")},"7vla":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"merge-cells-config"},[a("vxe-table",{ref:"xTable",staticClass:"edit-table",attrs:{border:"default","show-overflow":"",data:e.tableData,size:"mini",align:"center","auto-resize":!0,"edit-config":{trigger:"click",mode:"row",showIcon:!1}},on:{"edit-closed":e.handleSave}},[e.deleteMode?a("vxe-column",{attrs:{type:"checkbox",width:"40"}}):e._e(),e._v(" "),a("vxe-column",{attrs:{field:"row",title:"行坐标",width:"60","edit-render":{defaultValue:0}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("vxe-input",{attrs:{type:"number",min:0},model:{value:n.row,callback:function(t){e.$set(n,"row",t)},expression:"row.row"}})]}}])}),e._v(" "),a("vxe-column",{attrs:{field:"col",title:"列坐标",width:"60","edit-render":{defaultValue:0}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("vxe-input",{attrs:{type:"number",min:0},model:{value:n.col,callback:function(t){e.$set(n,"col",t)},expression:"row.col"}})]}}])}),e._v(" "),a("vxe-column",{attrs:{field:"rowspan",title:"合并行数",width:"70","edit-render":{defaultValue:0}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("vxe-input",{attrs:{type:"number",min:0},model:{value:n.rowspan,callback:function(t){e.$set(n,"rowspan",t)},expression:"row.rowspan"}})]}}])}),e._v(" "),a("vxe-column",{attrs:{field:"colspan",title:"合并列数",width:"70","edit-render":{defaultValue:0}},scopedSlots:e._u([{key:"edit",fn:function(t){var n=t.row;return[a("vxe-input",{attrs:{type:"number",min:0},model:{value:n.colspan,callback:function(t){e.$set(n,"colspan",t)},expression:"row.colspan"}})]}}])}),e._v(" "),a("vxe-column",{attrs:{title:"操作",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.deleteRow(n)}}},[e._v("删除")])]}}])})],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"add-btn-primary",on:{click:function(t){return e.insertRow(-1)}}},[e._v("+")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],1)]],2)},i=[]},"7yLz":function(e,t,a){},"7zFL":function(e,t,a){"use strict";a("fkDv")},"81XA":function(e,t,a){"use strict";a("PzUa")},"82G0":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));n(a("YLtl"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){console.log(e);var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=r},"8Auf":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{on:{change:e.switchChange},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),e.value?a("el-popover",{attrs:{placement:"right",width:"320",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{"label-position":"left","label-width":"120px"}},[a("el-form-item",{attrs:{label:"同序列柱间距离"}},[a("el-input-number",{model:{value:e.value.barGap.value,callback:function(t){e.$set(e.value.barGap,"value",t)},expression:"value.barGap.value"}}),e._v("\n        "+e._s(e.value.barGap.unit)+"\n      ")],1),e._v(" "),a("el-form-item",{attrs:{label:"不同序列柱间距离"}},[a("el-input-number",{model:{value:e.value.barCategoryGap.value,callback:function(t){e.$set(e.value.barCategoryGap,"value",t)},expression:"value.barCategoryGap.value"}}),e._v(" "),a("Select",{staticStyle:{width:"60px"},attrs:{options:e.options,clearable:!1},model:{value:e.value.barCategoryGap.unit,callback:function(t){e.$set(e.value.barCategoryGap,"unit",t)},expression:"value.barCategoryGap.unit"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1):e._e()],1)},i=[]},"8Fqj":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("SQL配置")])]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sql-config"},[a("n-form",{ref:"sqlRequest",staticClass:"data-select-form",attrs:{"label-position":"top",model:e.sqlRequest,rules:e.rules,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{staticClass:"sql-form-item",attrs:{label:""}},[a("div",{staticClass:"inline-form-item"},[a("div",{staticClass:"form-item-label"},[e._v("选择数据源")]),e._v(" "),a("div",{staticClass:"sql-data-select-wrapper"},[a("div",{staticClass:"left-buttons"},[e.sqlRequest.sqlData?a("el-input",{staticClass:"sql-name",attrs:{value:e.sqlRequest.sqlData.name}}):a("el-input",{staticClass:"sql-name",attrs:{readonly:""}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleShowSqlDataSelect}},[e._v("选择")])],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleFetch}},[e._v("测试")])],1)]),e._v(" "),e.sqlRequest.sqlData?a("div",{staticClass:"sql-desc"},[a("div",{staticClass:"desc-item"},[e._v("\n              类型：\n              "),a("el-tag",[e._v(e._s(e.sqlRequest.sqlData.type))])],1),e._v(" "),a("div",{staticClass:"desc-item"},[e._v("数据库："+e._s(e.sqlRequest.sqlData.databaseName))]),e._v(" "),a("div",{staticClass:"desc-item"},[e._v("描述："+e._s(e.sqlRequest.sqlData.description))])]):e._e()]),e._v(" "),a("n-form-item",{staticClass:"sql-form-item",attrs:{label:"SQL",prop:"sql"}},[a("el-button-group",{staticClass:"sql-type-buttons"},[a("el-button",{attrs:{type:1===e.sqlRequest.sqlType?"primary":""},on:{click:function(t){e.sqlRequest.sqlType=1}}},[e._v("动态SQL")]),e._v(" "),a("el-button",{attrs:{type:2===e.sqlRequest.sqlType?"primary":""},on:{click:function(t){e.sqlRequest.sqlType=2}}},[e._v("模板SQL")])],1),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"left"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(1===e.sqlRequest.sqlType?e.sqlTemplate1:e.sqlTemplate2)},slot:"content"}),e._v(" "),a("i",{staticClass:"el-icon-question sql-type-buttons tooltip"})]),e._v(" "),a("div",{staticClass:"empty-code",domProps:{innerHTML:e._s(e.sqlTemplate)}}),e._v(" "),a("sql-code",{staticClass:"sql-code",attrs:{resizable:!0,"dynamic-hints":e.dynamicHints},on:{"focus-change":e.focusChange},model:{value:e.sqlRequest.sql,callback:function(t){e.$set(e.sqlRequest,"sql",t)},expression:"sqlRequest.sql"}})],1),e._v(" "),a("n-form-item",{attrs:{label:""}},[a("div",{staticClass:"params-config"},[a("el-button",{staticClass:"source-edit-button",attrs:{type:"primary"},on:{click:function(t){return e.showInputDialog("object",e.paramsSource,"sqlParamsData","paramsSource")}}},[e._v("转换器")]),e._v(" "),a("n-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.sqlParamsData,border:""}},[a("n-table-column",{attrs:{width:"200",prop:"key",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                        "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                      ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("number",t.row,"value")}}},[e._v("数值\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                        ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.value=e}}})],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"test",label:"测试值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.test?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.test),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":""},on:{click:function(a){return e.handleTagClick(t.row,"test")},close:function(e){t.row.test=void 0}}},[e._v("\n                        "+e._s(e.formatTag(t.row.test))+"\n                      ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"test")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("number",t.row,"test")}}},[e._v("数值\n                        ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.test=e}}})],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddParams}},[e._v("+")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("\n                      -\n                    ")])])]}}])})],1)],1)])],1),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("sql-data-select",{ref:"sqlDataSelect",on:{confirm:e.handleSqlDataConfirm}}),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}})],1)],2)],1)},i=[]},"8INB":function(e,t,a){"use strict";a.r(t);var n=a("4ODm"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"8Ic7":function(e,t,a){"use strict";a("qIni")},"8N3N":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[a("div",{staticClass:"mode-select"},[a("data-selector",e._b({attrs:{btnText:"配置",optionkey:"chart"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[e._m(0),e._v(" "),e._l(e.xFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.key))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"类目字段","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.key,callback:function(t){e.$set(e.rowInfo,"key",t)},expression:"rowInfo.key"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["x-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["x-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"x-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteXItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),e.xFields.length?e._e():a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addXFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n        添加数据字段\n      ")])],1)],2),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("数值字段")]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{"popper-class":"pie-popover",placement:"left",width:"350"}},[a("el-form",{staticClass:"no-mb",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"序列名称"}},[a("el-input",{model:{value:e.ySetting.title,callback:function(t){e.$set(e.ySetting,"title",t)},expression:"ySetting.title"}})],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"数据标签"}},[a("el-switch",{model:{value:e.ySetting.dataLabelShow,callback:function(t){e.$set(e.ySetting,"dataLabelShow",t)},expression:"ySetting.dataLabelShow"}})],1),e._v(" "),e.ySetting.dataLabelShow?[a("el-form-item",{attrs:{label:"数据标签位置"}},[a("Select",{attrs:{options:e.positionOptions},model:{value:e.ySetting.dataLabelPosition,callback:function(t){e.$set(e.ySetting,"dataLabelPosition",t)},expression:"ySetting.dataLabelPosition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签格式化"}},[a("el-switch",{model:{value:e.ySetting.dataLabelUseformatter,callback:function(t){e.$set(e.ySetting,"dataLabelUseformatter",t)},expression:"ySetting.dataLabelUseformatter"}})],1),e._v(" "),e.ySetting.dataLabelUseformatter?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:e.ySetting.dataLabelFormatter,callback:function(t){e.$set(e.ySetting,"dataLabelFormatter",t)},expression:"ySetting.dataLabelFormatter"}})],1):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"标线"}},[a("el-switch",{model:{value:e.ySetting.labelLine,callback:function(t){e.$set(e.ySetting,"labelLine",t)},expression:"ySetting.labelLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据排序"}},[a("el-radio-group",{model:{value:e.ySetting.sortType,callback:function(t){e.$set(e.ySetting,"sortType",t)},expression:"ySetting.sortType"}},e._l(e.sortTypes,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],2),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1)],1)]),e._v(" "),e._l(e.yFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.key))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"数值字段","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.key,callback:function(t){e.$set(e.rowInfo,"key",t)},expression:"rowInfo.key"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["y-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["y-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"y-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteYItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),e.yFields.length?e._e():a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addYFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n        添加数据字段\n      ")])],1)],2)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("类目字段")])])}]},"8OdB":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("YLtl")),o=n(a("XEnp")),r=a("7C5+"),s={name:"StyleConfigParams",components:{AnimateEditDialog:o.default},inject:(0,i.default)(r.pageInject),props:{elementId:{type:String},config:{type:Object},callbackId:{type:String}},data:function(){return{dynamicAnimationConfigList:[]}},computed:{styleConfigList:function(){var e=this.getElementPropsById(this.elementId).styleConfigList;return e},isShowAdd:function(){return this.dynamicAnimationConfigList.length<this.styleConfigList.length},isShowDelete:function(){return this.dynamicAnimationConfigList.length>1}},watch:{dynamicAnimationConfigList:{deep:!0,handler:function(e,t){this.config.params.dynamicAnimationConfigList=l.default.cloneDeep(e)}}},methods:{handleReset:function(){var e=this.styleConfigList[0];this.$set(this.config,"params",{dynamicAnimationConfigList:[{name:e.name,query:e.query,animate:void 0}]})},handleAddConfig:function(){this.dynamicAnimationConfigList.push({name:"",query:"",animate:void 0})},handleDeleteConfig:function(e){this.dynamicAnimationConfigList.splice(e,1)},handleNameChange:function(e,t){var a=this.styleConfigList.find((function(t){return t.name===e}))||{};t.query=a.query},showAnimateSelect:function(e){this.currentRow=e,this.$refs.animateEditDialog.open(e.animate)},handleAnimateConfirm:function(e){this.$set(this.currentRow,"animate",e)},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}},created:function(){this.config.params||this.handleReset(),this.dynamicAnimationConfigList=l.default.cloneDeep(this.config.params.dynamicAnimationConfigList)}};t.default=s},"8QTP":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=void 0;var n=a("8SHQ"),i=(0,a("7Qib").getUtils)(),l=[{id:"".concat(n.UTILS_FUNCTION,"format"),code:i.$format,key:"format",name:"时间格式化",type:"format(fmt, timer)",desc:"{String} fmt 时间格式，必传<br/>\n          {Date|Number} timer 时间，默认为：new Date()<br/>\n          返回值：String",demo:'时间序列化方法，示例如下：<br/>\n          format("yyyy-MM-dd hh:mm:ss", new Date())<br/>\n          返回值：2021-12-22 18:05:33'},{id:"".concat(n.UTILS_FUNCTION,"encrypt"),code:i.$encrypt,key:"encrypt",name:"文本RSA非对称加密",type:"encrypt(text)",desc:"{String} text 加密内容，必传<br/>\n          返回值：String 加密后的字符串",demo:'RSA非对称加密方法，公钥已内置，目前使用范围：登录密码、accessToken，示例如下：<br/>\n          let password="123456"; <br/>\n          encrypt(password)<br/>\n          返回值：加密后的字符串'},{id:"".concat(n.UTILS_FUNCTION,"findAll"),code:i.$findAll,key:"findAll",name:"递归查找数组对象中满足条件的对象",type:"findAll(data, where, attr)",desc:"{Array<Object>} data 待查找的数据集<br/>\n          {Object} where 查询条件<br/>\n          {String} attr 递归查找属性名称，默认为：children<br/>\n          返回值：Array 满足条件的对象集合",demo:'递归查找数组对象中满足条件的对象，示例如下：<br/>\n          let data=[{a:1,child:{a:2,b:1}}];<br/>\n          findAll(data,{a:2},"child")<br/>\n          返回值：[{a:2,b:1}]'},{id:"".concat(n.UTILS_FUNCTION,"parseURL"),code:i.$parseURL,key:"parseURL",name:"url解析方法",type:"parseURL(url)",desc:"{String} url url地址<br/>\n          返回值：{Object} url解析对象",demo:'url解析方法，实例如下：<br/>parseURL("http://baidu.com/api?a=11111#abc")<br/>\n          返回值：<br/>\n          {<br/>\n            "source": "http://baidu.com/api?a=11111#abc",<br/>\n            "protocol": "http",<br/>\n            "host": "baidu.com",<br/>\n            "port": "",<br/>\n            "query": "?a=11111",<br/>\n            "params": {<br/>\n                "a": "11111"<br/>\n            },<br/>\n            "file": "api",<br/>\n            "hash": "abc",<br/>\n            "path": "/api",<br/>\n            "relative": "/api?a=11111#abc",<br/>\n            "segments": [<br/>\n                "api"<br/>\n            ]<br/>\n          }'},{id:"".concat(n.UTILS_FUNCTION,"treeData"),code:i.$treeData,key:"treeData",name:"将平级数据整理为树形数据",type:"treeData(list, parentKey, key, labelKey, valueKey)",desc:"{Array} list 待处理数据<br/>\n          {String} parentKey 标识所属父级属性名<br/>\n          {String} labelKey 整理后的label属性对应的属性名<br/>\n          {String} valueKey 整理后的value属性对应的属性名<br/>\n          返回值：Array",demo:'将平级数据整理为树形数据的方法，示例如下：<br/>\n            let list=[\n              {id:1,a:1,b:2},\n              {id:2,pid:1,a:1,b:2},\n              {id:3,pid:2,a:1,b:2}\n            ] <br/>\n        treeData(list,\'pid\',\'id\',\'a\',\'b\')<br/>\n         返回值：[\n          {\n            "id": 1,\n            "a": 1,\n            "b": 2,\n            "label": 1,\n            "value": 2,\n            "children": [\n              {\n                "id": 2,\n                "pid": 1,\n                "a": 1,\n                "b": 2,\n                "label": 1,\n                "value": 2,\n                "children": [\n                  {\n                    "id": 3,\n                    "pid": 2,\n                    "a": 1,\n                    "b": 2,\n                    "label": 1,\n                    "value": 2\n                  }\n                ]\n              }\n            ]\n          }\n        ]'},{id:"".concat(n.UTILS_FUNCTION,"timeDiff"),code:i.$timeDiff,key:"timeDiff",name:"计算时间差",type:"timeDiff(start,end)",desc:"{Number} start 开始时间，单位：秒<br/>\n          {Number} end 结束时间，单位：秒<br/>\n          返回值：String 转义后的时间字符串，格式为x小时x分钟x秒",demo:"用于计算时间差并进行显示处理的方法，目前使用范围：作业日志的任务耗时计算，示例如下：<br/>\n          timeDiff(59);<br/>\n          //59秒<br/>\n          vm.$timeDiff(3599);<br/>\n          //59分钟59秒<br/>\n          vm.$timeDiff(86401)<br/>\n          //24小时0分钟1秒"},{id:"".concat(n.UTILS_FUNCTION,"toDate"),code:i.$toDate,key:"toDate",name:"时间转换为标准的时间格式",type:"toDate(date)",desc:"{Number} date 时间，单位：秒|毫秒<br/>\n          返回值：String",demo:"用于将时间转换为标准的时间格式，示例如下：<br/>\n          toDate(1521534210)<br/>\n          //2018-03-20 16:23:22"},{id:"".concat(n.UTILS_FUNCTION,"recursion"),code:i.$recursion,key:"recursion",name:"数组的递归处理",type:"recursion(arr,childKey,fn)",desc:"{Array} arr 需要递归处理的数组<br/>\n          {String} childKey 子层级属性名<br/>\n          {Function} fn 用于递归处理每个对象的方法，<br/>\n          返回值将整理成树形结构数据输出<br/>\n            参数：obj 当前处理对象<br/>\n            返回值：Object 需要返回的对象，<br/>\n            若返回为空则该对象的子层级不会被递归处理，<br/>\n            并且改对象不会出现在最终返回中<br/>\n            返回值：无",demo:'主要用于对数组的递归处理，可被看作map方法的增强，示例如下：<br/>\n          let arr=[\n                    {\n                        a:1,\n                        children:[\n                            {a:2,children:[{a:3}]}\n                        ]\n                    },\n                    {\n                        b:1,\n                        children:[{b:2}]\n                    }\n                ];\n                recursion(arr,\'children\',val=>val.a&&val)\n                /*[\n                  {\n                    "a": 1,\n                    "children": [\n                      {\n                        "a": 2,\n                        "children": [\n                          {\n                            "a": 3\n                          }\n                        ]\n                      }\n                    ]\n                  }\n                ]*/'},{id:"".concat(n.UTILS_FUNCTION,"tree"),code:i.$tree,key:"tree",name:"生成一个Tree类型的数据",type:"tree(dataSet, key, childrenKey)",desc:"{Array<T>} dataSet 树状数据<br/>\n          {string} key 节点的key<br/>\n          {string} childrenKey 节点的children的key<br/>\n          返回值：Tree 类型的数据结构",demo:"生成一个Tree类型的数据，可以使用一些工具方法操作树:<br/>\n          find((value: T, index: number) => boolean): undefined | T - 查找树<br/>\n          map((value: T, index: number) => any): any[] - 循环并收集返回值并返回一个新的树<br/>\n          forEach((value: T, index: number) => void) - 循环树<br/>\n          flatTree(options?: {parentKeyName: string}) - 展开树，使用perentKeyName来指定节点的父节点key，默认的perentKeyName为parentKey"}];t.utils=l},"8U29":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("U8pU")),o=n(a("HaE+")),r=n(a("lrFb")),s=n(a("BihA")),c=n(a("Xcjf")),u=n(a("tE4p")),d=n(a("h+77")),p=a("xBdn"),f=a("tgb1"),v=n(a("2o9+")),m=a("7Qib"),h={name:"InputDialog",components:{JsonCode:r.default,JsonEditor:u.default,JsConfig:c.default,AttrInput:d.default,CssCode:s.default,JsCode:v.default},data:function(){return{dialogVisible:!1,activeName:"tree",type:"",reference:null,value:void 0,key:"",from:"",callbackId:void 0,emitEvent:void 0,attrOptions:void 0}},computed:{title:function(){switch(this.type){case"text":return"文本编辑";case"number":return"数值编辑";case"object":return"JSON编辑";case"js":return"JS脚本编辑";case"css":return"CSS样式编辑";case"attrVue":return"".concat(this.attrConfig.name,"编辑");default:return"编辑"}},attrConfig:function(){if(!this.attrOptions)return null;var e={propKey:this.key.replace("$",""),name:this.attrOptions.config.desc,tip:this.attrOptions.config.tip,types:this.attrOptions.config.types,vue:this.attrOptions.config.attrVue},t=this.attrOptions,a=t.elementType,n=t.elementVersion,i=(0,f.getPropsConfig)({elementType:a,elementVersion:n}),l=this.key.replace("$","");return i.find((function(e){return e.propKey===l}))||e}},methods:{open:function(e){var t=e.type,a=e.data,n=e.key,i=e.from,l=e.attrOptions,o=e.callbackId,r=e.emitEvent;this.type=t,this.reference=a||{},this.key=n,this.from=i,this.attrOptions=l,this.value=this.getValue(this.type,a[n]),this.callbackId=o,this.emitEvent=r,this.dialogVisible=!0},getValue:function(e,t){switch(e){case"text":case"css":return t||"";case"number":return t||0;case"object":return t||{};default:return t}},cancel:function(){this.dialogVisible=!1},handleClose:function(e){this.dialogVisible=!1,e()},confirm:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.sleep)(200);case 2:if("object"===e.type){if("object"===(0,l.default)(e.value))a=e.value;else if((0,p.isValidJsonString)(e.value))try{a=JSON.parse(e.value)}catch(e){console.log(e)}}else a=e.value;if(void 0!==a||void 0===e.value){t.next=7;break}return t.next=6,e.$confirm("JSON格式不正确","提示",{showCancelButton:!1});case 6:return t.abrupt("return");case 7:e.reference[e.key]=a,e.$emit("confirm",a,e.from),e.dialogVisible=!1;case 10:case"end":return t.stop()}}),t)})))()},handleAttrInput:function(e){this.value=e}}};t.default=h},"8ZbQ":function(e,t,a){},"8a8y":function(e,t,a){},"8nLe":function(e,t,a){var n=a("heZr");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("715ff5d8",n,!0,{})},"8nSg":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("rBoa"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},options:function(){return l.default[this.optionkey]}}};t.default=s},"8nqE":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("L0Hc")),o=a("8SHQ"),r=n(a("0hJt")),s=n(a("YLtl"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={props:{propKey:{type:String},name:{type:String},elementId:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{tip:"对于一些无法配置的属性, 可以直接写代码覆盖默认配置\n详情查阅echarts文档: https://echarts.apache.org/zh/option.html#title",defaultArguments:[{key:"options",value:void 0,test:{},name:"图表配置",desc:"图表预设的配置",definedTest:!0}],codeTips:"支持JS原生语法，使用“参数名”进行取值, 使用return返回结果，示例JS：<Br>\n      // 隐藏图表标题<Br>\n      options.title.show = false<Br>\n      // 图例名称格式化<Br>\n      options.legend.formatter = function (name) {<Br>\n        return 'Legend ' + name;<Br>\n      }<Br>\n      return options"}},components:{jsFormat:l.default},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=u(u({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{chartConfigOpen:function(){this.defaultArguments[0].test=s.default.cloneDeep(r.default.getRef(this.elementId).chartOptions||{}),this.$refs.jsFormat.open({id:this.value.replace(o.FUNCTION_FLAG,"")})},chartConfigConfirm:function(e){this.value="".concat(o.FUNCTION_FLAG).concat(e)},chartDataConfirm:function(e){this.$emit("update",u(u({},this.elementProps),e))}}};t.default=d},"8uEy":function(e,t,a){"use strict";a("w9Pg")},"98/z":function(e,t,a){"use strict";a("wktx")},"9Cvh":function(e,t,a){var n=a("jLcJ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4a4faf90",n,!0,{})},"9Exx":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("OqMt")),r=a("0O+R"),s=a("ZDQs"),c=a("ZQwl"),u=a("vu0G"),d=a("7C5+");function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={inject:(0,l.default)(d.pageInject),props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String},options:{type:Object,default:function(){return{}}}},computed:{layoutData:function(){return this.getStore().layoutData},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=this,a=f(f({},this.elementProps),{},(0,i.default)({},this.propKey,e));if(this.isUpdateChildren&&"form-container"===this.elementProps.elementType){var n=(0,r.getNodeByElementId)(this.layoutData,this.elementProps.elementId);r.treeUtil.findNodeAll(n.children,(function(e){return s.formTypes.includes(e.elementType)})).forEach((function(a){c.globalEmit.call(t,u.PROPS,{elementId:a.elementId,data:(0,i.default)({},t.optionkey,e),pushHistory:!1})}))}this.$emit("update",a)}},radioOptions:function(){return o.default[this.optionkey]},isUpdateChildren:function(){return["labelPosition"].includes(this.optionkey)}},methods:{getType:function(e){return this.elementProps[this.propKey]===e?"primary":"default"}},watch:{value:function(e){this.value=e}}};t.default=v},"9MFk":function(e,t,a){var n=a("H8Kj");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("67e00670",n,!0,{})},"9SUb":function(e,t,a){"use strict";a("Gejv")},"9YdU":function(e,t,a){"use strict";a.r(t);var n=a("5LGG"),i=a("gerd");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("SI83");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6598e9fc",null);t.default=r.exports},"9bYe":function(e,t,a){},"9cNn":function(e,t,a){"use strict";a.r(t);var n=a("PpFL"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"9nSg":function(e,t,a){"use strict";a.r(t);var n=a("4Gf4"),i=a("t0w2");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7LpU");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"43739ac9",null);t.default=r.exports},"9r9f":function(e,t,a){},"9uWQ":function(e,t,a){},"9xsT":function(e,t,a){},"A+84":function(e,t,a){"use strict";a.r(t);var n=a("hRhz"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ABiM:function(e,t,a){"use strict";a.r(t);var n=a("bAXp"),i=a("3xSy");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("IVxE");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"bf7c9b4c",null);t.default=r.exports},"AC+N":function(e,t,a){"use strict";a("ui1r")},ADI3:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[e.popoverVisible?a("div",{staticClass:"option-config-model",on:{click:function(t){e.popoverVisible=!1}}}):e._e(),e._v(" "),a("div",{staticClass:"mode-select"},[a("el-radio-group",{attrs:{fill:"#3f92fe"},on:{change:e.handleDataOriginChange},model:{value:e.dataOrigin,callback:function(t){e.dataOrigin=t},expression:"dataOrigin"}},[a("el-radio-button",{attrs:{label:"static"}},[e._v("选项配置")]),e._v(" "),a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("动态数据")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"static"==e.dataOrigin,expression:"dataOrigin == 'static'"}],staticClass:"static-set-cont"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.sourceMode,expression:"!sourceMode"}]},[a("n-tree",{ref:"tree",staticClass:"option-tree",attrs:{data:e.treeData,"node-key":"id","show-checkbox":"","icon-class":"icon-right",draggable:"","expand-on-click-node":!1,"check-strictly":e.checkStrictly},on:{"check-change":e.checkChange,"node-drop":e.handleDropChange},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{staticClass:"label"},[e._v(e._s(n.label))]),e._v(" "),a("span",[a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"text",size:"mini"},on:{click:function(){return e.edit(n,i)}}},[a("i",{staticClass:"el-icon-edit"})]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],attrs:{type:"text",size:"mini"},on:{click:function(t){return e.append(n,i)}}},[a("i",{staticClass:"el-icon-plus"})]),e._v(" "),a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.remove(n,i)}}},[a("i",{staticClass:"el-icon-delete",staticStyle:{color:"red"}})])],1)])}}])}),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"option-btn",attrs:{type:"text"},on:{click:e.handleAddOption}},[a("i",{staticClass:"iconfont el-icon-circle-plus-outline"}),e._v("\n        添加选项\n      ")]),e._v(" "),a("el-button",{staticClass:"option-btn",attrs:{type:"text"},on:{click:function(t){e.sourceMode=!0}}},[a("i",{staticClass:"iconfont icon-jiaoben"}),e._v("\n        源码模式\n      ")])],1),e._v(" "),e.sourceMode?a("div",{staticClass:"source-editor"},[a("static-config",{attrs:{"show-cancel":"","static-data":e.staticData},on:{"update:staticData":function(t){e.staticData=t},"update:static-data":function(t){e.staticData=t},response:e.handleStaticResponse,cancel:e.cancel}})],1):e._e(),e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"300",trigger:"manual"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",staticClass:"popover-config-form",attrs:{model:e.variableForm,rules:e.rules,inline:"","label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"默认选中"}},[a("el-switch",{model:{value:e.variableForm.isDefault,callback:function(t){e.$set(e.variableForm,"isDefault",t)},expression:"variableForm.isDefault"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"显示值",required:"",prop:"label"}},[a("el-input",{model:{value:e.variableForm.label,callback:function(t){e.$set(e.variableForm,"label",t)},expression:"variableForm.label"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"选项值",required:"",prop:"value"}},[a("el-input",{attrs:{clearable:""},model:{value:e.variableForm.value,callback:function(t){e.$set(e.variableForm,"value",t)},expression:"variableForm.value"}})],1),e._v(" "),["hasIcon"].includes(e.optionkey)?a("n-form-item",{attrs:{label:"图标",prop:"icon"}},[a("div",{staticClass:"icon_selector"},[a("div",{staticClass:"col"},[a("span"),e._v(" "),e.variableForm.icon?a("i",{staticClass:"show-icon",class:e.variableForm.icon}):e._e(),e._v(" "),a("n-popover",{attrs:{width:"400",placement:"bottom",trigger:"click","popper-class":"top-popper"}},[a("n-tabs",{attrs:{type:"card"},model:{value:e.iconType,callback:function(t){e.iconType=t},expression:"iconType"}},[a("n-tab-pane",{attrs:{label:"默认图标",name:"default"}},[a("div",{staticClass:"iconfont-list"},e._l(e.icons,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)]),e._v(" "),a("n-tab-pane",{attrs:{label:"图标库选择",name:"iconfont"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"iconfont-list"},e._l(e.iconfonts,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)])],1),e._v(" "),a("el-button",{ref:"referenceBtn",staticStyle:{"margin-right":"10px"},attrs:{slot:"reference",circle:"",type:"primary",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1),e._v(" "),e.variableForm.icon?a("el-button",{attrs:{circle:"",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.iconChange("")}}}):e._e()],1)])]):e._e(),e._v(" "),a("n-form-item",{attrs:{label:"是否禁用",prop:"disabled"}},[a("el-switch",{model:{value:e.variableForm.disabled,callback:function(t){e.$set(e.variableForm,"disabled",t)},expression:"variableForm.disabled"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消")])],1)],1)]),e._v(" "),a("select-reg-modal",{ref:"selectRegModal",on:{confirm:e.handleSelectRegConfirm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"dynamic"==e.dataOrigin,expression:"dataOrigin == 'dynamic'"}],staticClass:"dynamic-btn"},[a("data-selector",e._b({attrs:{name:"",btnText:"数据集配置","use-type":"options"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1)])},i=[]},AGW1:function(e,t,a){"use strict";a("fLQt")},AIQS:function(e,t,a){"use strict";a("VpH0")},APph:function(e,t,a){},ATBX:function(e,t,a){"use strict";a.r(t);var n=a("kSaM"),i=a("r/cE");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Gxy3");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"25fd23a4",null);t.default=r.exports},ATd5:function(e,t,a){"use strict";a.r(t);var n=a("8N3N"),i=a("6KcV");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("0hkj"),a("JSKn");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"613c8072",null);t.default=r.exports},AYYi:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("p4kz")),o=n(a("AfSX")),r=n(a("6QsX")),s=n(a("AlVB"));function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={components:{dataSelect:l.default,tableData:r.default,panelData:s.default,chartData:o.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},btnText:{type:String,default:"配置"},useType:{type:String,default:""}},data:function(){return{loading:!1}},computed:{dataInfo:function(){var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest,n=e.staticData;switch(!0){case!!t:return"API数据集";case!!a:return"SQL数据集";case!!n:return"options"!==this.useType&&"静态数据集";default:return}}},methods:{handleShowConfig:function(){var e,t=this;switch(this.loading=!0,this.optionkey){case"table":e="tableData";break;case"panel":e="panelData";break;case"chart":e="chartData";break;default:e="dataSelect"}setTimeout((function(){t.$refs[e].open({dataColumn:t.elementProps.dataColumn,widgetVariables:t.elementProps.widgetVariables,dataVariables:t.elementProps.dataVariables,apiRequest:t.elementProps.apiRequest,sqlRequest:t.elementProps.sqlRequest,staticData:t.elementProps.staticData,dynamicVariables:t.elementProps.dynamicVariables}),t.loading=!1}))},handleConfirm:function(e){this.$emit("update",u(u({},this.elementProps),e))},handleDelete:function(){var e,t,a=this,n={apiRequest:void 0,sqlRequest:void 0,staticData:void 0,widgetVariables:void 0,dataColumn:null===(e=this.elementProps.dataColumn)||void 0===e?void 0:e.map((function(e){return u(u({},e),{},{path:[]})})),dataVariables:null===(t=this.elementProps.dataVariables)||void 0===t?void 0:t.map((function(e){return"chart"===a.optionkey?u(u({},e),{},{fields:[]}):u(u({},e),{},{path:[]})}))};this.$emit("update",u(u({},this.elementProps),n))}}};t.default=d},AfSX:function(e,t,a){"use strict";a.r(t);var n=a("d3P4"),i=a("BrLd");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("0nkP");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"67aa467d",null);t.default=r.exports},AhhK:function(e,t,a){"use strict";a("Q1rM")},"Aj+w":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.params?a("div",{staticClass:"style-config-params"},[a("n-table",{staticStyle:{width:"100%"},attrs:{data:e.dynamicStyleConfigList,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"作用部位","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"variable-column"},[a("el-select",{on:{change:function(a){return e.handleNameChange(a,t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}},e._l(e.styleConfigList,(function(t){return a("el-option",{key:t.name,attrs:{disabled:e.dynamicStyleConfigList.some((function(e){return e.name===t.name})),label:t.name,value:t.name}})})),1)],1)}}],null,!1,3210552551)}),e._v(" "),a("n-table-column",{attrs:{"min-width":"200px",prop:"query",label:"CSS选择器"}}),e._v(" "),a("n-table-column",{attrs:{prop:"styles","min-width":"300px",label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.styles?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.styles),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.styles)},on:{click:function(a){return e.handleTagClick(t.row,"styles")},close:function(e){t.row.styles=void 0}}},[e._v("\n              "+e._s(e.formatTag(e.getElementName(t.row.styles),12))+"\n            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("object",t.row,"styles")}}},[e._v("对象\n              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"styles")}}},[e._v("变量\n              ")])],1)],1)],1)]}}],null,!1,2257674492)}),e._v(" "),a("n-table-column",{attrs:{width:"90",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[e.isShowAdd?a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddConfig}},[e._v("\n            +\n          ")]):e._e(),e._v(" "),e.isShowDelete?a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteConfig(t.$index)}}},[e._v("\n            -\n          ")]):e._e()])]}}],null,!1,346722415)})],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}})],1):e._e()},i=[]},AlVB:function(e,t,a){"use strict";a.r(t);var n=a("gTNI"),i=a("8INB");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("WrHJ");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"b444ee3e",null);t.default=r.exports},"ApG/":function(e,t,a){var n=a("37lQ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("15ac74a4",n,!0,{})},ArtP:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I"));n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{widthOptions:{unit:[{label:"px",value:""}]}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=s},"B2r/":function(e,t,a){"use strict";a.r(t);var n=a("vOzB"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"B3e+":function(e,t,a){},B9WJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("U8pU")),l=n(a("b6/j")),o=a("8SHQ"),r=a("7Qib"),s=n(a("oRZJ")),c=n(a("cunc")),u={name:"JsonEditor",mixins:[s.default],props:{value:{type:[Object,Array,String],required:!0},callbackId:{type:String},emitEvent:{type:Object}},data:function(){return{parsedData:{},editorProvide:{showButtons:!1,handleShowVariableSelect:this.handleShowVariableSelect,handleVariableConfirm:this.handleVariableConfirm,addItem:this.addItem},currentContext:{},loading:!0}},provide:function(){return{editorProvide:this.editorProvide,callbackId:this.callbackId,emitEvent:this.emitEvent}},created:function(){var e;this.lastParsedData={};try{e="object"===(0,i.default)(this.value)?this.value:JSON.parse(this.value||"{}")}catch(t){this.$message.error("JSON解析失败"),console.log(t),e={}}this.parsedData=this.jsonParse(e)},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),100)},watch:{value:{handler:function(e,t){var a="object"===(0,i.default)(this.value)?this.value:JSON.parse(this.value||"{}");this.parsedData=this.jsonParse(a)}},parsedData:{handler:function(e,t){if(JSON.stringify(e)!==JSON.stringify(this.lastParsedData)){var a;this.lastParsedData=e;var n=this.makeJson(this.parsedData);a=Object.keys(n).length&&Object.keys(n).every((function(e){return/^[0-9]+.?[0-9]*$/.test(e)}))?Object.values(n):n,this.$emit("input",a)}},deep:!0}},components:{"item-add-form":c.default,"json-view":l.default},methods:{jsonParse:function(e){var t=this,a=function e(a){var i=[];return Object.keys(a).forEach((function(l,o){if(""!==l&&void 0!==l){var r=a[l],s=r;"object"===t.getType(r)?s=e(r):"array"===t.getType(r)&&(s=n(r));var c={name:l,type:t.getType(r)};"array"===c.type||"object"===c.type?(c.childParams=s,c.remark=null):(c.childParams=null,c.remark=s),i.push(c)}})),i},n=function e(n){for(var i=[],l=0;l<n.length;++l){var o=n[l],r=o;"object"===t.getType(o)?r=a(o):"array"===t.getType(o)&&(r=e(o));var s={name:null,type:t.getType(o)};"array"===s.type||"object"===s.type?(s.childParams=r,s.remark=null):(s.childParams=null,s.remark=r),i.push(s)}return i};return a(e)},getType:function(e){switch(Object.prototype.toString.call(e)){case"[object Array]":return"array";case"[object Object]":return"object";case"[object Null]":case"[object Function]":case"[object Undefined]":return"string";case"[object String]":return e.includes(o.FUNCTION_FLAG)||(0,r.isValidateVariable)(e)?"variable":"string";default:return(0,i.default)(e)}},makeJson:function(e){var t=function e(t){for(var n={},i=0;i<t.length;++i){var l,o=t[i],r=void 0;l=o.name,r="array"===o.type?a(o.childParams):"object"===o.type?e(o.childParams):o.remark,n[l]=r}return n},a=function e(a){for(var n=[],i=0;i<a.length;++i){var l=a[i],o=void 0;o="array"===l.type?e(l.childParams):"object"===l.type?t(l.childParams):l.remark,n.push(o)}return n};return t(e)},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId,emitEvent:this.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},addItem:function(e){this.$refs.popover.show(),this.currentContext=e},newItem:function(e){this.currentContext.newItem(e)}}};t.default=u},"B9v/":function(e,t,a){},BAZf:function(e,t,a){"use strict";a.r(t);var n=a("8nqE"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},BOFC:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-rich-input"},[a("div",{staticClass:"title"},[e._v(e._s(e.name))]),e._v(" "),e.hasValue?a("div",{staticClass:"has-value"},[a("el-button",{attrs:{type:"text"},on:{click:e.handleInitDialog}},[e._v("编辑默认值")]),e._v(" "),a("i",{staticClass:"iconfont icon-delete",on:{click:e.handleDelete}})],1):a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleInitDialog}},[e._v("编辑")]),e._v(" "),a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{title:"富文本编辑",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("tinymce",{attrs:{height:300},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}):e._e(),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],1)},i=[]},BRdY:function(e,t,a){"use strict";a("or8Y")},BUxJ:function(e,t,a){"use strict";a.r(t);var n=a("qHTn"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},BXkw:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("ODXe")),o=n(a("KQm4")),r=n(a("GhP2")),s=n(a("hTh9")),c=a("xBdn"),u=n(a("YLtl")),d=n(a("KEv7")),p=a("a+hW"),f=n(a("oRZJ")),v=a("hNau"),m=n(a("yQm5")),h=a("7Qib"),b=a("7C5+");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"ApiConfig",inject:(0,o.default)(b.pageInject),components:{GatewayDataSelect:r.default,CustomApiDataSelect:s.default},mixins:[f.default],props:{apiRequest:{type:Object,required:!0,default:function(){return{desc:"",url:"",method:"POST",type:6,useDynamicOrigin:!1,dynamicOrigin:void 0,paramsData:[{key:"",value:void 0,test:void 0}],bodyData:[{key:"",value:void 0,test:void 0}],headersData:[{key:"",value:void 0,test:void 0}]}}},callbackId:{type:String},responseOptions:{type:Array},responseConfig:{type:Object,default:function(){return{isBlob:!1,isUseHeaderFileName:!0,fileName:void 0}}},emitEvent:{type:Object,required:!1}},data:function(){return{loading:!1,activeCollapse:["config"],methods:["POST","GET","PUT","DELETE","PATCH"],activeParamsName:"bodyData",rules:{url:(0,c.getValidators)([{message:"请输入",include:c.required,trigger:"change"}])},variableRowDetail:null,contentTypeOptions:["application/json","application/x-www-form-urlencoded","application/octet-stream","multipart/form-data"],headersOptions:["snc-token","Content-Type","Authorization"]}},computed:{url:{get:function(){return this.apiRequest.url},set:function(e){var t=this,a=this.apiRequest.url.split("?")[0],n=e.split("?")[0],i=new m.default(a),l=new m.default(n),r=i.pathname(),s=l.pathname(),c=[],d=[];try{d=(0,v.parse)(r).filter((function(e){return u.default.isObject(e)})).map((function(e){return e.name})),c=(0,v.parse)(s).filter((function(e){return u.default.isObject(e)})).map((function(e){return e.name}))}catch(e){return void(this.apiRequest.url=n)}var p=c.map((function(e){var a=t.apiRequest.paramsData.find((function(t){return t.key===e}));return{key:e,value:null==a?void 0:a.value,test:null==a?void 0:a.test}})),f=this.apiRequest.paramsData.filter((function(e){return![].concat((0,o.default)(d),(0,o.default)(c)).includes(e.key)}));this.apiRequest.paramsData=p.length?u.default.uniqBy([].concat((0,o.default)(p),(0,o.default)(f)),"key"):f.length?f:[{key:"",value:void 0,test:void 0}],this.apiRequest.url=n}},dynamicProps:function(){return this.getStore().dynamicProps},currentParamsData:function(){return this.apiRequest[this.activeParamsName]},paramsSource:{get:function(){return{bodyData:Object.fromEntries(this.apiRequest.bodyData.map((function(e){return[[e.key],e.value]}))),paramsData:Object.fromEntries(this.apiRequest.paramsData.map((function(e){return[[e.key],e.value]}))),headersData:Object.fromEntries(this.apiRequest.headersData.map((function(e){return[[e.key],e.value]})))}},set:function(e){this.apiRequest[this.activeParamsName]=Object.entries(e).map((function(e){var t=(0,l.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:(0,h.isValidateVariable)(n)?void 0:JSON.parse(JSON.stringify(void 0===n?null:n,(function(e,t){return(0,h.isValidateVariable)(t)?null:t})))}}))}},bodyLength:function(){var e;return(null===(e=this.apiRequest.bodyData)||void 0===e?void 0:e.filter((function(e){return e.key})).length)||0},paramsLength:function(){var e;return(null===(e=this.apiRequest.paramsData)||void 0===e?void 0:e.filter((function(e){return e.key})).length)||0},headersLength:function(){var e;return(null===(e=this.apiRequest.headersData)||void 0===e?void 0:e.filter((function(e){return e.key})).length)||0}},watch:{apiRequest:{handler:function(e,t){var a,n,i;if(!u.default.isEqual(e,t)){var l=y(y({},e),{},{bodyData:null===(a=e.bodyData)||void 0===a?void 0:a.map((function(e){return y(y({},e),{},{value:e.value,test:e.test})})),paramsData:null===(n=e.paramsData)||void 0===n?void 0:n.map((function(e){return y(y({},e),{},{value:e.value,test:e.test})})),headersData:null===(i=e.headersData)||void 0===i?void 0:i.map((function(e){return y(y({},e),{},{value:e.value,test:e.test})}))});if(4===l.type&&l.url){var o=new m.default(l.url),r="".concat(o.origin(),"/gateway");if(o.origin()){var s=window.location.protocol,c=window.location.host,d="".concat(s,"//").concat(c,"/gateway");l.url=l.url.replace(r,d)}}if(5===l.type&&l.url){var p=new m.default(l.url),f="".concat(p.origin(),"/app-data"),v="/app-data";p.origin()&&(l.url=l.url.replace(f,v));var h=l.url.replace("".concat(v,"/"),"").split("/")[0],b="app".concat(this.$route.query.id);l.url=l.url.replace(h,b)}this.$emit("update:apiRequest",l)}},deep:!0,immediate:!0}},methods:{isFile:function(e){return e instanceof File},selectFile:function(e){this.$refs["fileRef"+e].click()},fileChange:function(e,t){var a=(0,l.default)(e.target.files,1)[0];this.currentParamsData[t].test=a,e.target.value=""},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId,emitEvent:this.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;if(n&&(this.$set(a,n,e),"snc-token"===a.key)){var l=window.localStorage.getItem("loginKey");if(l){var o,r=null===(o=JSON.parse(l))||void 0===o?void 0:o["snc-token"];this.$set(a,"test",r)}}null==i||i(e)},handleAddParams:function(){this.currentParamsData.push({key:"",value:void 0,test:void 0})},handleDeleteParams:function(e){var t=this.currentParamsData;if(1===t.length)return t[0].key="",t[0].value=void 0,void(t[0].test=void 0);t.splice(e,1)},handleFetch:function(){var e=this;this.$emit("response",{response:null,responseOptions:[]});var t=p.getApiRequestParams.call(this,this.apiRequest);this.loading=!0,(0,d.default)({url:t.url,method:t.method,data:t.data,params:t.params,headers:t.headers,responseType:this.responseConfig.isBlob?"blob":"json"}).then((function(t){var a=null,n=[];if(e.responseConfig.isBlob){var i=(0,h.getFileNameFromHeaders)(t.headers),l=e.responseConfig.isUseHeaderFileName?i:(0,h.isValidateVariable)(e.responseConfig.fileName)?"newFile":e.responseConfig.fileName||"newFile",o=URL.createObjectURL(t.data),r=document.createElement("a");r.download=l,r.href=o,r.dispatchEvent(new MouseEvent("click",{}))}else a=t.data,n=(0,p.getObjectTree)(t.data);e.$emit("response",{response:a,responseOptions:n})})).catch((function(t){e.$message.error("接口测试失败！")})).finally((function(){e.loading=!1}))},handleShowGatewayDataSelect:function(){4===this.apiRequest.type?this.$refs.gatewayDataSelect.open():this.$refs.customApiDataSelect.open()},handleGatewayDataConfirm:function(e){var t=this,a=e.apiRequest,n=e.response,i=e.apiInfo;if(!this.bodyLength&&!this.paramsLength&&!this.headersLength)return this.apiRequest=u.default.cloneDeep(y(y({},a),{},{desc:i.description})),this.$emit("update:apiRequest",this.apiRequest),void this.$emit("response",{response:n,responseOptions:(0,p.getObjectTree)(n)});this.$confirm("是否覆盖已配置的请求参数？").then((function(){t.apiRequest=u.default.cloneDeep(y(y({},a),{},{desc:i.description})),t.$emit("update:apiRequest",t.apiRequest),t.$emit("response",{response:n,responseOptions:(0,p.getObjectTree)(n)})})).catch((function(){t.apiRequest.url=a.url,t.apiRequest.desc=i.description,t.$emit("update:apiRequest",t.apiRequest),t.$emit("response",{response:n,responseOptions:(0,p.getObjectTree)(n)})}))},changeType:function(e){this.apiRequest.type!==e&&(this.apiRequest.url="",this.apiRequest.type=e)},paramsInputDisabled:function(e){if("paramsData"!==this.activeParamsName)return!1;var t=new m.default("".concat(this.url)).pathname(),a=[];try{a=(0,v.parse)(t).filter((function(e){return u.default.isObject(e)})).map((function(e){return e.name}))}catch(e){return!1}return a.includes(e)},handleUseDynamicOriginChange:function(e){var t=new m.default("".concat(this.url));this.url=e?t.pathname()||"/":this.url},handleShowAppVariables:function(e,t){this.variableRowDetail={row:e,key:t},this.$refs.appVariables.open({isManage:!1,fullVariable:e[t]})},handleAppVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key;t.cb;if(n&&this.$set(a,n,e),a===this.apiRequest&&this.apiRequest.useDynamicOrigin&&"dynamicOrigin"===n){var i=(0,h.getAppVariables)()||{},l=a[n].replace("".concat(this.getStore().layoutData.elementId,".$appVariables."),"");0!=="".concat(u.default.get(i,l)).indexOf("http")&&(this.$message.error("动态协议域名端口格式不正确，请确认当前选择的应用变量的默认值为正确的url格式，如https://...."),this.$set(a,n,void 0))}}}};t.default=_},"Ba/h":function(e,t,a){"use strict";a.r(t);var n=a("i+wt"),i=a("ELAz");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Jskv");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"034e442e",null);t.default=r.exports},Bhy2:function(e,t,a){"use strict";a("Iu4X")},BihA:function(e,t,a){"use strict";a.r(t);var n=a("qHDB"),i=a("h/PM");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("98/z");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"c9f37036",null);t.default=r.exports},Bq8B:function(e,t,a){},BqHU:function(e,t,a){var n=a("NJH1");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("688f3613",n,!0,{})},BrLd:function(e,t,a){"use strict";a.r(t);var n=a("KZby"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"Bw+B":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest},type:e.activeDataType,isHideSQL:"",isHideStatic:""},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"static"===e.activeDataType?"100%":"50%"}},["static"!==e.activeDataType?a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("变量映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"变量名"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}],null,!1,1589887621)})],1)],2)],1):e._e()],1),e._v(" "),"static"!==e.activeDataType?a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")])],1)]):e._e()])])],2)],1)],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},"C/Oe":function(e,t,a){var n=a("C1aX");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f4c022ea",n,!0,{})},C0Sx:function(e,t,a){"use strict";a.r(t);var n=a("lQoF"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},C1aX:function(e,t,a){},CGmW:function(e,t,a){"use strict";a.r(t);var n=a("nOB+"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},CRJA:function(e,t,a){var n=a("4VMp");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("786c5b7f",n,!0,{})},CSax:function(e,t,a){"use strict";a.r(t);var n=a("1h5I"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},CShP:function(e,t,a){"use strict";a("XJEo")},CSqF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"change-height",on:{mousedown:e.mouseDown}})},i=[]},CaV6:function(e,t,a){},Ccm5:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=a("xBdn"),r=n(a("YLtl")),s=n(a("t2rG")),c=a("0O+R"),u=a("cCei"),d=a("mtVH"),p=a("7C5+");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={label:"",key:"",lazy:!0,disabled:!1,closable:!1,hidden:!1,active:!1,showBadge:!1,badgeMessage:"0",badgeType:"primary",max:99,isDot:!1},h={components:{draggable:s.default},inject:["dndOptions"].concat((0,l.default)(p.pageInject)),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:r.default.cloneDeep(m),rules:{label:(0,o.getValidators)([{message:"请输入标签标题",include:o.required,trigger:"change"}]),key:(0,o.getValidators)([{message:"请输入标签编码",include:o.required,trigger:"change"}])},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[]}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,c.getNodeByElementId)(this.layoutData,this.elementProps.elementId)},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=v(v({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{errorToast:function(){this.$message.error("至少要保留一个")},doDelete:function(){var e=this;if(this.selectedList.length===this.value.length)return this.errorToast();this.value=this.value.filter((function(t){return!e.selectedList.includes(t.key)}));var t=this.selectedList.map((function(t){return e.currentElement.children.find((function(a){return e.getElementPropsById(a.elementId).slotName===t})).elementId}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementIdList:t}),this.dndOptions.selectedId=this.currentElement.elementId,this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.key})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleFormActiveChange:function(e){e&&this.value.forEach((function(e){e.active=!1}))},handleActiveChange:function(e){this.value.forEach((function(t){t.active=t.key===e.key&&e.active})),this.value=(0,l.default)(this.value)},handleEditColumn:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(v(v({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){var t=this;if(1===this.value.length)return this.errorToast();var a=this.value[e].key,n=this.currentElement.children.find((function(e){return t.getElementPropsById(e.elementId).slotName===a}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementId:n.elementId}),this.dndOptions.selectedId=this.currentElement.elementId,this.value.splice(e,1),this.value=(0,l.default)(this.value)},handleAddColumn:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(m),this.variableForm.isAdd=!0,this.variableForm.key="tab".concat((0,c.getRandomHexadecimal)(6)),this.edtingIndex=void 0},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=r.default.cloneDeep(e.value);if(void 0===e.edtingIndex){var n=r.default.cloneDeep(e.variableForm);if(a.some((function(e){return e.key===n.key})))return void e.$message.error("编码不能重复！");delete n.isAdd;var l={elementId:"",elementType:"slot",elementVersion:(0,d.getLastVersion)("slot"),elementName:n.label,defaultProps:{slotName:n.key},children:[]};c.buildNewWidget.call(e,l,e.currentElement.elementId,"center"),n.active&&a.forEach((function(e){return e.active=!1})),a.push(n);var o=v(v({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",o)}else{var s=r.default.cloneDeep(e.variableForm);delete s.isAdd;var p=a[e.edtingIndex].key,f=s.key;if(p!==f&&a.some((function(e){return e.key===f})))return void e.$message.error("编码不能重复！");var m=s.label,h=e.currentElement.children.find((function(t){return e.getElementPropsById(t.elementId).slotName===p})),b=[];b.push((0,i.default)({},h.elementId,{slotName:f,elementName:m})),e._storeCommit(u.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:b}),s.active&&a.forEach((function(e){return e.active=!1})),a[e.edtingIndex]=s;var g=v(v({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",g)}e.popoverVisible=!1}}))},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=h},CekP:function(e,t,a){},Cepm:function(e,t,a){"use strict";a.r(t);var n=a("ci18"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Cn13:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("KQm4")),r=n(a("slWK")),s=n(a("nJN9")),c=a("xBdn"),u=n(a("YLtl")),d=n(a("oRZJ")),p=a("7C5+"),f=a("7Qib"),v={name:"AppVariables",inject:(0,o.default)(p.pageInject),components:{InputDialog:s.default},mixins:[d.default],data:function(){return{dialogVisible:!1,editVisible:!1,loading:!1,dataList:[],detail:{key:"",defaultValue:void 0,desc:"",id:0},rules:{key:(0,c.getValidators)([{message:"请输入变量编码",include:c.required,required:!0,trigger:"change"},{message:"变量编码不能包含特殊字符",include:c.hasSpecialCharacter,trigger:"change"}]),desc:(0,c.getValidators)([{message:"请输入变量名",include:c.required,required:!0,trigger:"change"}])},isManage:!0}},methods:{open:function(){var e=arguments,t=this;return(0,l.default)(i.default.mark((function a(){var n,l,o,r,s;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},l=n.isManage,o=void 0===l||l,r=n.fullVariable,t.isManage=o,a.next=4,t.handleSearch(!0);case 4:t.dialogVisible=!0,r&&(s=t.dataList.find((function(e){return"".concat(t.getStore().layoutData.elementId,".$appVariables.").concat(e.key,".value")===r})),t.$nextTick((function(){s&&t.$refs.xTable.setRadioRow(s)})));case 6:case"end":return a.stop()}}),a)})))()},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleSearch:function(){var e=this;return this.loading=!0,this.$http({url:r.default.appVariablesList,data:{appDesignId:Number(this.$route.query.vid)}}).then((function(t){var a=t.data;e.dataList=a.map((function(e){return{defaultValue:"string"==typeof e.defaultValue&&(0,c.isValidJsonString)(e.defaultValue)?JSON.parse(e.defaultValue):e.defaultValue,desc:e.description,id:e.id,key:e.name}}));var n=a.map((function(e){return[e.name,{value:"string"==typeof e.defaultValue&&(0,c.isValidJsonString)(e.defaultValue)?JSON.parse(e.defaultValue):e.defaultValue,desc:e.description,key:e.name}]})),i=Object.fromEntries(n);(0,f.setAppVariables)(i)})).finally((function(){e.loading=!1}))},handleUpdate:function(e){var t=this;this.loading=!0,this.$http({url:r.default.appVariablesUpdate,data:{defaultValue:"string"==typeof e.defaultValue?e.defaultValue:JSON.stringify(e.defaultValue),description:e.desc,name:e.key,id:e.id,appDesignId:Number(this.$route.query.vid)}}).then((function(e){e.data;t.handleSearch(),t.editVisible=!1})).finally((function(){t.loading=!1}))},handleSave:function(){var e=this;this.loading=!0,this.$http({url:r.default.appVariablesSave,data:{defaultValue:"string"==typeof this.detail.defaultValue?this.detail.defaultValue:JSON.stringify(this.detail.defaultValue),description:this.detail.desc,name:this.detail.key,appDesignId:Number(this.$route.query.vid)}}).then((function(t){t.data;e.handleSearch(),e.editVisible=!1})).finally((function(){e.loading=!1}))},handleEdit:function(e){var t=this;this.detail=u.default.cloneDeep(e),this.editVisible=!0,this.$nextTick((function(){t.$refs.editForm.clearValidate()}))},handleDelete:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("确认删除[".concat(e.key,"]吗？"));case 2:t.loading=!0,t.$http({url:r.default.appVariablesRemove,data:{id:e.id}}).then((function(e){e.data;t.handleSearch()})).finally((function(){t.loading=!1}));case 4:case"end":return a.stop()}}),a)})))()},handleAdd:function(){var e=this;this.detail={key:"",defaultValue:void 0,desc:"",id:0},this.editVisible=!0,this.$nextTick((function(){e.$refs.editForm.clearValidate()}))},handleEditConfirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.editForm.validate();case 2:if(!e.detail.id){t.next=6;break}e.handleUpdate(e.detail),t.next=10;break;case 6:if(!e.dataList.some((function(t){return t.key===e.detail.key}))){t.next=9;break}return e.$message.error("编码不能重复！"),t.abrupt("return");case 9:e.handleSave();case 10:case"end":return t.stop()}}),t)})))()},getDefaultValue:function(e){return u.default.isObject(e)?JSON.stringify(e,(function(e,t){return void 0===t?null:t}),2):e},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},confirm:function(){var e=this.$refs.xTable,t=null==e?void 0:e.getRadioRecord();t?(this.$emit("confirm","".concat(this.getStore().layoutData.elementId,".$appVariables.").concat(t.key,".value")),this.cancel()):this.$message.error("请选择应用变量")}}};t.default=v},Cw8p:function(e,t,a){"use strict";a("oDrq")},D1CT:function(e,t,a){"use strict";a("wkBu")},D2s3:function(e,t,a){"use strict";a.r(t);var n=a("p/UK"),i=a("PLBw");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("031Z");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0d27bf30",null);t.default=r.exports},D4yT:function(e,t,a){"use strict";a("4a+T")},D9N7:function(e,t,a){},DNHK:function(e,t,a){"use strict";a.r(t);var n=a("gxrq"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},DNvC:function(e,t,a){"use strict";a.r(t);var n=a("jcaA"),i=a("sVuW");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7Wyl"),a("D4yT");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"4563d5e2",null);t.default=r.exports},DQrF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{on:{change:e.switchChange},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),e.value?a("el-popover",{attrs:{placement:"right",width:"250",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"排布方式"}},[a("el-radio-group",{model:{value:e.value.orient,callback:function(t){e.$set(e.value,"orient",t)},expression:"value.orient"}},[a("el-radio-button",{attrs:{label:"horizontal"}},[e._v("横向")]),e._v(" "),a("el-radio-button",{attrs:{label:"vertical"}},[e._v("纵向")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"起止范围"}},[a("el-slider",{attrs:{range:"",max:100},on:{change:e.sliderChange},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1):e._e()],1)},i=[]},DR91:function(e,t,a){var n=a("E5+s");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2c55e860",n,!0,{})},DTrN:function(e,t,a){},DVmc:function(e,t,a){var n=a("FGSc");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("904aacb2",n,!0,{})},DX4A:function(e,t,a){"use strict";a.r(t);var n=a("nyZT"),i=a("X7xy");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("uFbj");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"3a3c66c2",null);t.default=r.exports},DXhS:function(e,t,a){"use strict";a.r(t);var n=a("Nf/e"),i=a("hKR8");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("+Y3R");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"14e31279",null);t.default=r.exports},DarP:function(e,t,a){"use strict";a.r(t);var n=a("2fFK"),i=a("Cepm");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("AC+N");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2644697c",null);t.default=r.exports},DfwP:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{alignOptions:[{label:"左",value:"flex-start"},{label:"中",value:"center"},{label:"右",value:"flex-end"}],sizeOptions:[{label:"小",value:"mini"},{label:"中",value:"small"},{label:"大",value:"medium"}],layoutsOptions:[{label:"默认布局",value:"default"},{label:"布局1",value:"type1"},{label:"布局2",value:"type2"},{label:"布局3",value:"type3"}]}},computed:{paginationAlign:{get:function(){return this.elementProps.paginationAlign},set:function(e){var t=o(o({},this.elementProps),{},{paginationAlign:e});this.$emit("update",t)}},isLocalPage:{get:function(){return this.elementProps.isLocalPage},set:function(e){var t=o(o({},this.elementProps),{},{isLocalPage:e});this.$emit("update",t)}},paginationSize:{get:function(){return this.elementProps.paginationSize},set:function(e){var t=o(o({},this.elementProps),{},{paginationSize:e});this.$emit("update",t)}},pagerBackground:{get:function(){return this.elementProps.pagerBackground},set:function(e){var t=o(o({},this.elementProps),{},{pagerBackground:e});this.$emit("update",t)}},showPage:{get:function(){return this.elementProps.showPage},set:function(e){var t=o(o({},this.elementProps),{},{showPage:e});this.$emit("update",t)}},paginationLayout:{get:function(){return this.elementProps.paginationLayout},set:function(e){var t=o(o({},this.elementProps),{},{paginationLayout:e});this.$emit("update",t)}},size:{get:function(){return this.elementProps.size},set:function(e){var t=o(o({},this.elementProps),{},{size:e});this.$emit("update",t)}}}};t.default=r},Dy2g:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{staticClass:"range-selector",attrs:{size:"mini"}},[a("el-slider",{attrs:{value:e.value.value,min:e.min,max:e.max,"show-input":"","show-input-controls":!1,"input-size":"mini"},on:{input:e.inputChange}}),e._v(" "),e.options&&e.options.unit&&e.options.unit.length?[a("Select",{attrs:{value:e.value.unit,options:e.options.unit,clearable:!1,size:"mini"},on:{change:e.selectChange}})]:e._e()],2)},i=[]},"E+1J":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},i=[]},"E/lN":function(e,t,a){},E0s0:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Factory=void 0;var i=n(a("1OyB")),l=n(a("g4ue")),o=n(a("YLtl")),r=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.virtualLines,n=void 0===a?20:a;(0,i.default)(this,e);var r=o.default.cloneDeep(l.default);return r.methods.onTreeScroll=function(){if(this.virtual){var e=n,t=this.$refs.tree&&this.$refs.tree.scrollTop||0,a=Math.floor(t/this.itemHeight),i=a<0?0:a+e>this.flatData.length?this.flatData.length-e:a;i<0&&(i=0);var l=i+e;this.translateY=i*this.itemHeight,this.visibleData=this.flatData.filter((function(e,t){return t>=i&&t<l}))}else this.visibleData=this.flatData},r};t.Factory=r;var s=new r;t.default=s},"E5+s":function(e,t,a){},E90p:function(e,t,a){"use strict";a("YLUf")},E99M:function(e,t,a){},EBht:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],["#516b91","#59c4e6","#edafda","#93b7e3","#a5e7f0","#cbb0e3"],["#893448","#d95850","#eb8146","#ffb248","#f2d643","#ebdba4"],["#4ea397","#22c3aa","#7bd9a5","#d0648a","#f58db2","#f2b3c9"],["#3fb1e3","#6be6c1","#626c91","#a0a7e6","#c4ebad","#96dee8"],["#fc97af","#87f7cf","#f7f494","#72ccff","#f7c5a0","#d4a4eb","#d2f5a6","#76f2f2"],["#c1232b","#27727b","#fcce10","#e87c25","#b5c334","#fe8463","#9bca63","#fad860","#f3a43b","#60c0dd","#d7504b","#c6e579","#f4e001","#f0805a","#26c0c0"],["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],["#e01f54","#001852","#f5e8c8","#b8d2c7","#c6b38e","#a4d8c2","#f3d999","#d3758f","#dcc392","#2e4783","#82b6e9","#ff6347","#a092f1","#0a915d","#eaf889","#6699ff","#ff6666","#3cb371","#d5b158","#38b6b6"],["#c12e34","#e6b600","#0098d9","#2b821d","#005eaa","#339ca8","#cda819","#32a487"],["#9b8bba","#e098c7","#8fd3e8","#71669e","#cc70af","#7cb4cc"]]},EGCN:function(e,t,a){"use strict";a.r(t);var n=a("FBax"),i=a("6Pz/");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("KJFa");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"42b3fe25",null);t.default=r.exports},ELAz:function(e,t,a){"use strict";a.r(t);var n=a("XDLv"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ETOS:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.useGrid,callback:function(t){e.$set(e.value,"useGrid",t)},expression:"value.useGrid"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"250",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"上边距"}},[a("el-input",{model:{value:e.value.top,callback:function(t){e.$set(e.value,"top",t)},expression:"value.top"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下边距"}},[a("el-input",{model:{value:e.value.bottom,callback:function(t){e.$set(e.value,"bottom",t)},expression:"value.bottom"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"左边距"}},[a("el-input",{model:{value:e.value.left,callback:function(t){e.$set(e.value,"left",t)},expression:"value.left"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"右边距"}},[a("el-input",{model:{value:e.value.right,callback:function(t){e.$set(e.value,"right",t)},expression:"value.right"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},EV7t:function(e,t,a){"use strict";a.r(t);var n=a("h0Zp"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},EWWx:function(e,t,a){"use strict";a.r(t);var n=a("5dVs"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},EZZn:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB"));n(a("BvH3"));a("RQ3N");var r=n(a("asm4")),s=(a("xBdn"),a("pZTy")),c=n(a("YLtl")),u=n(a("t2rG")),d=n(a("r5ug")),p=n(a("nBKl")),f=n(a("KEv7"));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={components:{draggable:u.default,dataSelector:d.default,StaticConfig:p.default,nPopover:r.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String}},data:function(){var e=this;return{icons:s.icons,dataOrigin:"static",sourceMode:!1,variableForm:{isDefault:!1,label:"",value:void 0,icon:""},rules:{value:[{required:!0,trigger:"change",validator:function(t,a,n){var i,l=e.staticData,o=e.edtingIndex;if(void 0===o)i=l.some((function(e){return e.value===a}));else{var r=l.findIndex((function(e){return e.value===a}));i=-1!==r&&r!==o}i?n(new Error("该选项值已存在")):n()}}]},popoverVisible:!1,edtingIndex:void 0,loading:!1,iconfonts:[],iconType:"default"}},computed:{multiple:function(){var e=this.elementProps,t=e.elementType,a=e.multiple;return"radio-group"!==t&&(!Object.prototype.hasOwnProperty.call(this.elementProps,"multiple")||a)},value:function(){return this.elementProps[this.propKey]},staticData:{get:function(){return this.elementProps.staticData},set:function(e){var t=m(m({},this.elementProps),{},{staticData:c.default.cloneDeep(e)});this.$emit("update",t)}}},methods:{dataSelectUpdate:function(e){this.$emit("update",m(m({},e),{},{staticData:this.staticData}))},updateOptions:function(e){var t=m(m({},this.elementProps),{},{staticData:e});this.$emit("update",t)},handleDataOriginChange:function(e){this.dataOrigin=e},handelUseStateChange:function(e,t){var a=c.default.cloneDeep(this.staticData||[]);this.multiple||a.some((function(e){e.isDefault=!1})),a[t].isDefault=e,this.updateOptions(a)},handleAddOption:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm={isDefault:!1,label:"",value:void 0,icon:""},this.edtingIndex=void 0},handleEditOption:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=c.default.cloneDeep(t),this.edtingIndex=e},handleDeleteOption:function(e){var t=c.default.cloneDeep(this.staticData);t.splice(e,1),this.updateOptions(t)},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=c.default.cloneDeep(e.staticData||[]);e.variableForm.isDefault&&a.some((function(e){e.isDefault=!1})),void 0===e.edtingIndex?a.push(e.variableForm):a[e.edtingIndex]=e.variableForm,e.updateOptions(c.default.cloneDeep(a)),e.popoverVisible=!1}}))},handleSelectRegOpen:function(){this.$refs.selectRegModal.show()},handleSelectRegConfirm:function(e){this.variableForm=m({},e),this.$refs.selectRegModal.close()},handleStaticResponse:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response,e.responseOptions,n){a.next=3;break}return a.abrupt("return");case 3:if(Array.isArray(n)){a.next=6;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 6:if(l=n[0],c.default.isObject(l)){a.next=10;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 10:t.staticData=c.default.cloneDeep(n),t.sourceMode=!1;case 12:case"end":return a.stop()}}),a)})))()},cancel:function(){this.sourceMode=!1},iconChange:function(e){this.variableForm.icon=e},handleShownPopover:function(){var e=this;this.$nextTick((function(){e.$refs.referenceBtn.$el.click()}))},handleGetIconfont:function(){var e=this;this.loading=!0,(0,f.default)({url:"".concat(this.$store.state.CODE.lowCodeStore.appSourcePrefix,"apps/").concat(this.$route.query.id,"/iconfont/iconfont.json"),method:"GET",header:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;e.iconfonts=a.glyphs.map((function(e){return"".concat(a.font_family," ").concat(a.css_prefix_text).concat(e.font_class)}))})).finally((function(){e.loading=!1}))}},mounted:function(){this.handleGetIconfont();var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest;this.dataOrigin=t||a?"dynamic":"static"}};t.default=h},Efqw:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item",attrs:{label:"默认开始日期"}},[a("default-time-picker",{attrs:{value:e.value.start,placeholder:e.placeholder,"picker-options":e.startPickerOptions},on:{"update:value":function(t){return e.$set(e.value,"start",t)}}})],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"默认结束日期","picker-options":e.pickerOptions}},[a("default-time-picker",{attrs:{value:e.value.end,placeholder:e.placeholder,"picker-options":e.endPickerOptions},on:{"update:value":function(t){return e.$set(e.value,"end",t)}}})],1)],1)},i=[]},Eq3L:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("ODXe")),s=n(a("KQm4")),c=n(a("2o9+")),u=a("xBdn"),d=a("0O+R"),p=n(a("YLtl")),f=a("cCei"),v=n(a("slWK")),m=n(a("oRZJ")),h=n(a("vC6p")),b=a("8SHQ"),g=a("LY9L"),y=a("7C5+");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C="支持JS原生语法，使用“参数名”进行取值, 使用return返回结果，示例JS：\nvar age = userInfo.age;\nreturn age + 1;",O="支持JS原生语法，使用“参数名”进行取值, 当参数为函数时，使用“参数名()”执行函数，为参数赋值时，需调用setValue(参数路径，值) 示例JS：\nvar name = userInfo.name;\nif (!name) {\nsetValue('userInfo.name', '张同学');\nsayHello();\n}",w={name:"JsConfig",inject:(0,s.default)(y.pageInject),components:{JsCode:c.default,JsCodeSelect:h.default},mixins:[m.default],props:{value:{type:String},callbackId:{type:String},pureFunction:{type:Boolean,default:!1},argumentsAddable:{type:Boolean,default:!0},defaultArguments:{type:Array,default:[]},emitEvent:{required:!1},tips:{type:String},useType:{type:String},isJsFormat:{type:Boolean}},data:function(){return{templateText1:C,templateText2:O,UTILS_FUNCTION:b.UTILS_FUNCTION,loading:!1,rules:{name:(0,u.getValidators)([{message:"请输入名称",include:u.required,trigger:"change"}])},formData:{id:"",code:"",name:""},variableRowDetail:null,editorFocus:!1,paramsData:[{key:"",value:void 0,test:void 0}],currentFunction:null,logList:[],isShowLog:!1,innerArguments:[],logWrapperHeight:""}},computed:{dynamicProps:function(){return this.getStore().dynamicProps},functionsData:function(){return this.getStore().functionsData},templateText:function(){return this.formData.code||this.editorFocus||this.isShowLog?"":this.emptyTips},emptyTips:function(){return this.tips||(this.pureFunction?C:O)},paramsSource:{get:function(){return{paramsData:Object.fromEntries(this.paramsData.map((function(e){return[[e.key],e.value]})))}},set:function(e){this.paramsData=Object.entries(e).map((function(e){var t=(0,r.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}}))}}},watch:{value:{immediate:!0,handler:function(e){var t=this;if(this.currentFunction=this.functionsData.find((function(t){return t.id===e})),this.currentFunction){var a=this.currentFunction,n=a.name,i=a.paramsData,l=a.code;this.formData.id=e,this.formData.name=n,this.formData.code=l,this.paramsData=p.default.cloneDeep([].concat((0,s.default)(this.defaultArguments),(0,s.default)(this.innerArguments),(0,s.default)(i.map((function(e){return k(k({},e),{},{value:e.value,test:e.test})}))))),this.paramsData=p.default.uniqBy(this.paramsData,"key")}else this.formData.id=(0,d.getRandomHexadecimal)(12),this.formData.name=this.pureFunction?"":"func",this.formData.code="",this.paramsData=[].concat((0,s.default)(this.defaultArguments),(0,s.default)(this.innerArguments)),this.argumentsAddable&&this.paramsData.push({key:"",value:void 0,test:void 0}),this.$nextTick((function(){var e;null===(e=t.$refs.dataForm)||void 0===e||e.clearValidate()}))}}},methods:{heightChange:function(e){var t=this.isJsFormat?550:200;this.logWrapperHeight=e<t?t:e},focusChange:function(e){this.editorFocus=e,e&&(this.isShowLog=!1)},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId,hideFunc:!0,emitEvent:this.emitEvent})},handleShowUtilsSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.utilsSelect.open({fullVariable:e[t]})},handleShowFunctionSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.functionSelect.open({fullVariable:e[t],callbackId:this.callbackId,emitEvent:this.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;if(n&&(this.$set(a,n,e),0===e.indexOf(b.UTILS_FUNCTION)&&!a.key)){var l=e.replace(b.UTILS_FUNCTION,""),o=this.paramsData.filter((function(e){return e.key===l})).length;this.$set(a,"key",o?"".concat(l).concat(o+1):l)}null==i||i(e)},handleAddParams:function(){this.paramsData.push({key:"",value:void 0,test:void 0})},handleDeleteParams:function(e){var t=this.paramsData;if(1===t.length)return t[0].key="",t[0].value=void 0,void(t[0].test=void 0);t.splice(e,1)},handleTest:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isShowLog=!0,t.next=3,e.$nextTick();case 3:if(e.formData.code){t.next=5;break}return t.abrupt("return");case 5:e.$refs.jsCode.handleTest(!1),e.logList=e.$refs.jsCode.logList;case 7:case"end":return t.stop()}}),t)})))()},handleClearLog:function(){this.$refs.jsCode.logList=[],this.logList=[]},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.dataForm.validate();case 2:return t.next=4,e.$refs.jsCode.handleTest(!0);case 4:if(t.sent){t.next=7;break}return t.abrupt("return",Promise.reject(!1));case 7:return t.abrupt("return",e.handleUpdateFunctionsData());case 8:case"end":return t.stop()}}),t)})))()},handleUpdateFunctionsData:function(){var e=this,t={id:(0,d.getRandomHexadecimal)(12),name:this.formData.name,code:this.formData.code,paramsData:p.default.cloneDeep(p.default.uniqBy(this.paramsData,"key"))};this.loading=!0;var a=[].concat((0,s.default)(this.functionsData),[t]);return this.$http({url:v.default.appPageDesignSavePageConfig,data:[{pageDesignId:Number(this.getStore().layoutData.pageDesignId),type:5,config:JSON.stringify(a)}]}).then((function(){e._storeCommit(f.UPDATE_FUNCTIONS_DATA,{functionsData:a}),e.$nextTick((function(){e.$emit("input",t.id)}))})).finally((function(){e.loading=!1}))},isDefaultArgument:function(e){return[].concat((0,s.default)(this.defaultArguments),(0,s.default)(this.innerArguments)).some((function(t){return t.key===e}))},defaultArgDesc:function(e){var t=[].concat((0,s.default)(this.defaultArguments),(0,s.default)(this.innerArguments)).find((function(t){return t.key===e}))||{};return{name:t.name||t.desc,desc:t.desc}},innerParamsDesc:function(e){if(0===(null==e?void 0:e.indexOf(b.UTILS_FUNCTION))){var t=g.utils.find((function(t){return t.id===e}));return(null==t?void 0:t.desc)||e}return e},updateCode:function(e){this.formData.code=e},handleShowJsCodeSelect:function(){this.$refs.jsCodeSelect.open()},handleJsCodeSelectConfirm:function(e){var t=this,a=e.name,n=e.paramsData,i=e.code,l=e.id;this.formData.id=l,this.formData.name=a,this.formData.code=i,this.paramsData=p.default.cloneDeep([].concat((0,s.default)(this.defaultArguments),(0,s.default)(n.map((function(e){return k(k({},e),{},{value:e.value,test:e.test})}))))),this.paramsData=p.default.uniqBy(this.paramsData,"key"),this.$nextTick((function(){var e;null===(e=t.$refs.dataForm)||void 0===e||e.clearValidate()}))},isShowTest:function(e){return void 0!==e.test||this.isInnerParams(e)},isInnerParams:function(e){var t;return e.definedTest||0===(null===(t=e.value)||void 0===t?void 0:t.indexOf(b.UTILS_FUNCTION))}}};t.default=w},"Ev/y":function(e,t,a){var n=a("PTXG");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("07f010aa",n,!0,{})},ExK1:function(e,t,a){"use strict";a.r(t);var n=a("w3H7"),i=a("ls10");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"dd796e92",null);t.default=r.exports},Expc:function(e,t,a){"use strict";a("FN40")},F1fH:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{},props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e)),a=t.ySetting.dataLabelPosition;"horizontal"===e?(t.funnelAlign="center",t.ySetting.dataLabelPosition={left:"bottom",right:"top"}[a]||a):t.ySetting.dataLabelPosition={bottom:"left",top:"right"}[a]||a,this.$emit("update",t)}},funnelAlign:{get:function(){return this.elementProps.funnelAlign},set:function(e){console.log(e);var t=o(o({},this.elementProps),{},{funnelAlign:e});this.$emit("update",t)}}},data:function(){return{options:[{label:"垂直",value:"vertical"},{label:"水平",value:"horizontal"}],roseOptions:[{label:"左",value:"left"},{label:"中",value:"center"},{label:"右",value:"right"}]}},methods:{getType:function(e){return this.value.includes(e)?"primary":"default"},getFunnelAlignType:function(e){return this.funnelAlign===e?"primary":"default"}}};t.default=r},F6Ld:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config"},[e.dataInfo?e._e():a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v("表单类型")]),e._v(" "),a("div",{staticClass:"value"},[a("el-button-group",[a("el-button",{attrs:{size:"mini",type:"static"===e.formType?"primary":""},on:{click:function(t){e.formType="static"}}},[e._v("静态表单")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"dynamic"===e.formType?"primary":""},on:{click:function(t){e.formType="dynamic"}}},[e._v("动态表单")])],1)],1)]),e._v(" "),e.dataInfo?a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v("动态数据")]),e._v(" "),a("div",{staticClass:"value"},[a("el-button",{attrs:{type:"text",loading:e.loading},on:{click:function(t){return e.handleShowConfig("dynamic")}}},[e._v(e._s(e.dataInfo))]),e._v(" "),a("div",{staticClass:"data-tools",on:{click:e.handleDelete}},[a("i",{staticClass:"iconfont icon-delete"})])],1)]):a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v(e._s("static"===e.formType?"组件生成":"动态数据"))]),e._v(" "),a("div",{staticClass:"value"},[a("el-button",{attrs:{size:"mini",type:"primary",loading:e.loading},on:{click:function(t){return e.handleShowConfig(e.formType)}}},[e._v(e._s("static"===e.formType?"配置":"数据集"))])],1)]),e._v(" "),a("static-form",{ref:"staticForm"}),e._v(" "),a("dynamic-form",{ref:"dynamicForm",on:{confirm:e.handleConfirm}})],1)},i=[]},F7Ti:function(e,t,a){"use strict";a.r(t);var n=a("2MZH"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},FB16:function(e,t,a){},FBax:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isConfigVisible?a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n    "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-switch",{attrs:{"active-color":"#3F92FE","active-value":e.config.on,"inactive-value":e.config.off},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1):e._e()},i=[]},FEIL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ODXe")),l=n(a("rePB"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{sliderValue:[0,20]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,l.default)({},this.propKey,e));this.$emit("update",t)}},isChecked:function(){return!!this.value}},methods:{switchChange:function(e){this.value=!!e&&{orient:"horizontal",start:0,end:20}},sliderChange:function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];this.value.start=a,this.value.end=n}},watch:{value:function(e){if(e){var t=e.start,a=e.end;this.sliderValue=[t,a]}else this.sliderValue=[0,20]}}};t.default=s},FFaq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-select",{staticClass:"button-type-select",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.buttonTypes,(function(t){return a("el-option",{key:t.value,staticClass:"option-item",attrs:{label:t.label,value:t.value}},[a("el-button",{staticClass:"button-item",attrs:{type:t.value}},[e._v(e._s(t.label))])],1)})),1)],1)},i=[]},FGSc:function(e,t,a){},"FL+T":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));n(a("YLtl"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{RangeSelector:n(a("bT2I")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},options:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},watch:{},methods:{}};t.default=r},FN40:function(e,t,a){var n=a("1z9n");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("54c7a337",n,!0,{})},FTYZ:function(e,t,a){"use strict";a("670i")},FZJc:function(e,t,a){var n=a("z/Y0");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("51eb8865",n,!0,{})},FaoN:function(e,t,a){"use strict";a.r(t);var n=a("cQcQ"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Fbfl:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"steps-config"},["navigation"!==e.elementProps.type?a("n-form-item",{staticClass:"config-item",attrs:{label:"步骤条方向"}},[a("el-radio-group",{model:{value:e.direction,callback:function(t){e.direction=t},expression:"direction"}},[a("el-radio-button",{attrs:{label:"horizontal"}},[e._v("水平")]),e._v(" "),a("el-radio-button",{attrs:{label:"vertical"}},[e._v("垂直")])],1)],1):e._e(),e._v(" "),"vertical"===e.direction?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("步骤条宽度")]),e._v(" "),a("el-tooltip",{attrs:{content:"支持配置垂直方向的进度条宽度，单位为px","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input-number",{attrs:{min:180},model:{value:e.stepWidth,callback:function(t){e.stepWidth=t},expression:"stepWidth"}})],2):e._e(),e._v(" "),"navigation"!==e.elementProps.type&&"horizontal"===e.direction?a("n-form-item",{staticClass:"config-item",attrs:{label:"标签放置位置"}},[a("el-radio-group",{model:{value:e.labelPlacement,callback:function(t){e.labelPlacement=t},expression:"labelPlacement"}},[a("el-radio-button",{attrs:{label:"horizontal"}},[e._v("水平")]),e._v(" "),a("el-radio-button",{attrs:{label:"vertical"}},[e._v("垂直")])],1)],1):e._e(),e._v(" "),"vertical"===e.direction?a("n-form-item",{staticClass:"config-item",attrs:{label:"步骤条间隔"}},[a("el-radio-group",{model:{value:e.stretch,callback:function(t){e.stretch=t},expression:"stretch"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("紧凑")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("平均分布")])],1)],1):e._e(),e._v(" "),a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("内容区")]),e._v(" "),a("el-tooltip",{attrs:{content:"开启显示步骤内容区","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{model:{value:e.contentVisible,callback:function(t){e.contentVisible=t},expression:"contentVisible"}})],2),e._v(" "),e.contentVisible?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("内容懒加载")]),e._v(" "),a("el-tooltip",{attrs:{content:"开启后只渲染当前步骤的内容","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{model:{value:e.lazy,callback:function(t){e.lazy=t},expression:"lazy"}})],2):e._e(),e._v(" "),"navigation"!==e.elementProps.type?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v("点状步骤条")]),e._v(" "),a("el-tooltip",{attrs:{content:"开启后显示为点状图标,只支持线条风格的步骤条","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{model:{value:e.progressDot,callback:function(t){e.progressDot=t},expression:"progressDot"}})],2):e._e()],1)},i=[]},FkbL:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[a("div",{staticClass:"inner-content"},[a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("步骤标题")]),e._v(" "),a("span",{staticClass:"key"},[e._v("初始步骤")])],1),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300",handle:".el-icon-rank"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.key,staticClass:"content"},[e.deleteMode?a("el-checkbox",{attrs:{label:t.key},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"key"},[a("el-switch",{on:{change:function(a){return e.handleActiveChange(t)}},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"col.active"}})],1),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDeleteColumn(n)}}},[e._v("删除\n            ")])],1)],1)})),0)],1)],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticClass:"add-reg-exp-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleAddColumn}},[e._v("\n      +\n    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"400",trigger:"manual",title:e.variableForm.isAdd?"新增":"编辑"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"步骤标题",required:"",prop:"title"}},[a("el-input",{model:{value:e.variableForm.title,callback:function(t){e.$set(e.variableForm,"title","string"==typeof t?t.trim():t)},expression:"variableForm.title"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"步骤子标题",prop:"subTitle"}},[a("el-input",{model:{value:e.variableForm.subTitle,callback:function(t){e.$set(e.variableForm,"subTitle","string"==typeof t?t.trim():t)},expression:"variableForm.subTitle"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"步骤描述",prop:"description"}},[a("el-input",{model:{value:e.variableForm.description,callback:function(t){e.$set(e.variableForm,"description","string"==typeof t?t.trim():t)},expression:"variableForm.description"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"步骤状态",prop:"status"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.variableForm.status,callback:function(t){e.$set(e.variableForm,"status",t)},expression:"variableForm.status"}},[a("el-radio-button",{attrs:{label:void 0}},[e._v("默认")]),e._v(" "),a("el-radio-button",{attrs:{label:"wait"}},[e._v("等待")]),e._v(" "),a("el-radio-button",{attrs:{label:"process"}},[e._v("过渡")]),e._v(" "),a("el-radio-button",{attrs:{label:"error"}},[e._v("错误")]),e._v(" "),a("el-radio-button",{attrs:{label:"finish"}},[e._v("完成")])],1)],1),e._v(" "),a("n-form-item",{attrs:{label:"步骤图标",prop:"icon"}},[a("div",{staticClass:"icon_selector"},[a("div",{staticClass:"col"},[a("span"),e._v(" "),e.variableForm.icon?a("i",{staticClass:"show-icon",class:e.variableForm.icon}):e._e(),e._v(" "),a("n-popover",{attrs:{width:"400",placement:"bottom",trigger:"click","popper-class":"top-popper"}},[a("n-tabs",{attrs:{type:"card"},model:{value:e.iconType,callback:function(t){e.iconType=t},expression:"iconType"}},[a("n-tab-pane",{attrs:{label:"默认图标",name:"default"}},[a("div",{staticClass:"iconfont-list"},e._l(e.icons,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)]),e._v(" "),a("n-tab-pane",{attrs:{label:"图标库选择",name:"iconfont"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"iconfont-list"},e._l(e.iconfonts,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)])],1),e._v(" "),a("el-button",{ref:"referenceBtn",staticStyle:{"margin-right":"10px"},attrs:{slot:"reference",circle:"",type:"primary",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1),e._v(" "),e.variableForm.icon?a("el-button",{attrs:{circle:"",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.iconChange("")}}}):e._e()],1)])]),e._v(" "),a("n-form-item",{attrs:{label:"是否禁用",prop:"disabled"}},[a("el-switch",{model:{value:e.variableForm.disabled,callback:function(t){e.$set(e.variableForm,"disabled",t)},expression:"variableForm.disabled"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"初始步骤",prop:"active"},on:{change:e.handleFormActiveChange}},[a("el-switch",{model:{value:e.variableForm.active,callback:function(t){e.$set(e.variableForm,"active",t)},expression:"variableForm.active"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n        ")])],1)],1)])],2)},i=[]},FkmK:function(e,t,a){"use strict";a.r(t);var n=a("Efqw"),i=a("SeiD");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("1zju");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"d7346b00",null);t.default=r.exports},Fo9u:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart-field-selector"},[a("el-row",[a("el-radio-group",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-radio-button",{attrs:{label:"response"}},[e._v("响应体")]),e._v(" "),a("el-radio-button",{attrs:{label:"preview"},nativeOn:{click:function(t){return e.init.apply(null,arguments)}}},[e._v("预览")])],1),e._v(" "),a("div",{staticClass:"field-area chart-demo-box"},["response"===e.active?[e.responseData?[a("vue-json-pretty",{staticClass:"json-pretty no-select",attrs:{path:"response",data:e.responseData,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}})]:a("span",{staticClass:"empty-tips"},[e._v("点击上方测试按钮")])]:e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"preview"===e.active,expression:"active === 'preview'"}]},[e.responseData?a("div",{attrs:{id:"antv-chart-preview-demo"}}):a("span",{staticClass:"empty-tips"},[e._v(e._s("当前数据路径无数据需要先选择响应体中的映射字段"))])])],2)],1),e._v(" "),a("el-row",[a("div",{staticClass:"chart-field-title"},[e._v("数据（data）映射配置")]),e._v(" "),a("n-table",{staticClass:"data-path",attrs:{data:e.dataMapping,border:""}},[a("n-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":t.$index}},[t.row.sourcePath&&t.row.sourcePath.length?a("n-tooltip",{attrs:{value:e.hidePrefix(t.row.sourcePath)}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(a){return e.deleteSourcePath(t.$index)}}},[e._v(e._s(e.showLastPath(t.row.sourcePath)))])],1):a("span",[e._v("从上方响应体中拖拽节点到此处")])],1)]}}])},[a("template",{slot:"header"},[a("div",{staticClass:"custom-header"},[a("span",{staticClass:"required"},[e._v("*")]),e._v("data路径\n          ")])])],2),e._v(" "),a("n-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.jsFormatOpen(t.row.formatCode,t.$index)}}},[e._v("编辑")]),e._v(" "),t.row.formatCode?a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.deleteJsFormat(t.$index)}}},[e._v("删除")]):e._e()]}}])},[a("template",{slot:"header"},[a("div",{staticClass:"custom-header"},[e._v("\n            数据编辑 "),a("n-tooltip",{attrs:{value:"非必填, 可对所选的数据内容进行编辑, 编辑保存后作为图表的显示数据内容"}})],1)])],2),e._v(" "),a("n-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{display:"flex"}},[a("el-input",{attrs:{value:t.row.mappingPath?t.row.mappingPath.join("."):t.row.mappingPath,disabled:""}}),e._v(" "),a("el-popover",{ref:"popover",attrs:{placement:"top",title:"选择属性",trigger:"click"}},[a("n-cascader-panel",{attrs:{value:t.row.mappingPath,options:e.chartConfigSelectOption,props:{checkStrictly:!0},"show-all-levels":!0,clearable:""},on:{change:function(a){return e.configSelectChange(a,t.$index)}}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v("选择")])],1)],1)]}}])},[a("template",{slot:"header"},[a("div",{staticClass:"custom-header"},[a("span",{staticClass:"required"},[e._v("*")]),e._v("字段路径"),a("n-tooltip",{attrs:{value:"将选中的 “data路径” 映射到所选配置属性中"}})],1)])],2),e._v(" "),a("n-table-column",{attrs:{label:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("i",{staticClass:"el-icon-circle-plus addPath",on:{click:e.addMapping}}),e._v(" "),e.dataMapping.length>1&&0!==t.$index?a("i",{staticClass:"el-icon-remove addPath",staticStyle:{color:"#F56C6C"},on:{click:function(a){return e.deleteMapping(t.$index)}}}):e._e()]}}])})],1),e._v(" "),a("jsFormat",{ref:"jsFormat",attrs:{title:"数据编辑",tips:e.tips,"default-arguments":e.defaultArguments},on:{confirm:e.jsFormatConfirm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1)},i=[]},FqkX:function(e,t,a){"use strict";a.r(t);var n=a("T9eG"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Ft7V:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("8SHQ"),i=a("8QTP"),l={name:"UtilsSelect",data:function(){return{utils:i.utils,dialogVisible:!1,dataForm:{keyword:""}}},computed:{visibleUtils:function(){var e=this;return this.dataForm.keyword?i.utils.filter((function(t){return t.name.toLowerCase().includes(e.dataForm.keyword.toLowerCase())})):i.utils}},methods:{open:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.fullVariable,l=a&&0===a.indexOf(n.UTILS_FUNCTION)?a:void 0;l&&this.$nextTick((function(){var t=i.utils.find((function(e){return e.id===a}));t&&e.$refs.xTable.setRadioRow(t)})),this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},clear:function(){this.dialogVisible=!1},confirm:function(){var e=this.$refs.xTable,t=null==e?void 0:e.getRadioRecord();t?(this.$emit("confirm",t.id),this.clear()):this.$message.error("请选择工具函数")}}};t.default=l},"FvN/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[e.options.tips?a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.options.tips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]):e._e(),e._v(" "),a("range-selector",{attrs:{options:e.options},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},i=[]},FyFM:function(e,t,a){},G8XJ:function(e,t,a){"use strict";a.r(t);var n=a("EZZn"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"GCF+":function(e,t,a){"use strict";a.r(t);var n=a("IRHp"),i=a("O8ax");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("CShP"),a("NJWj");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5d80323a",null);t.default=r.exports},GDHT:function(e,t,a){var n=a("I01v");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("47b47bef",n,!0,{})},GFg0:function(e,t,a){"use strict";a.r(t);var n=a("AYYi"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},GGr2:function(e,t,a){var n=a("IjcN");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("be1be3b4",n,!0,{})},GMQo:function(e,t,a){},GVXY:function(e,t,a){var n=a("x9q8");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("d012dcc0",n,!0,{})},GdqM:function(e,t,a){"use strict";a("rw4+")},Gejv:function(e,t,a){var n=a("d1zq");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("46282f4a",n,!0,{})},GhP2:function(e,t,a){"use strict";a.r(t);var n=a("1Ymz"),i=a("Yybz");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ldWq");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"e08e2038",null);t.default=r.exports},GmPM:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I")),o=n(a("YLtl")),r=a("8SHQ");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{editItem:[],formatTips:r.formatTips}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=c(c({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{typeChange:function(e){var t=this.value.colorRange;1!==e||(void 0===t?[]:t).length||(this.value.colorRange=[[1,"#E6EBF8"]])},initEditItem:function(){this.editItem=[1,"#E6EBF8"]},getMax:function(e){var t=this.value.colorRange[e+1];return t?t[0]:1},getMin:function(e){var t=this.value.colorRange[e-1];return t?t[0]:0},confirm:function(){var e=this;this.value.colorRange.push(o.default.cloneDeep(this.editItem)),this.$nextTick((function(){var t=e.$refs.openBtn;t&&t[0]&&t[0].$el.click()}))}},mounted:function(){},created:function(){}};t.default=u},GqpL:function(e,t,a){"use strict";a.r(t);var n=a("6oP8"),i=a("hYFU");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("jtmS"),a("zjPp");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"60489e27",null);t.default=r.exports},GtRy:function(e,t,a){"use strict";a.r(t);var n=a("hvaP"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},GuZC:function(e,t,a){"use strict";a.r(t);var n=a("yPeO"),i=a("jz/q");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("eRZV");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2f215d6a",null);t.default=r.exports},Gxy3:function(e,t,a){"use strict";a("9MFk")},Gzea:function(e,t,a){"use strict";a.r(t);var n=a("cxhU"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},H29j:function(e,t,a){},H7so:function(e,t,a){"use strict";a("JU+E")},H8Kj:function(e,t,a){},HEUb:function(e,t,a){var n=a("zq99");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("758e0bfa",n,!0,{})},HFaO:function(e,t,a){"use strict";a("Il0p")},HGUk:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.params?a("div",{staticClass:"animation-config-params"},[a("n-table",{staticStyle:{width:"100%"},attrs:{data:e.dynamicAnimationConfigList,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"作用部位","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"variable-column"},[a("el-select",{on:{change:function(a){return e.handleNameChange(a,t.row)}},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}},e._l(e.styleConfigList,(function(t){return a("el-option",{key:t.name,attrs:{disabled:e.dynamicAnimationConfigList.some((function(e){return e.name===t.name})),label:t.name,value:t.name}})})),1)],1)}}],null,!1,3362735750)}),e._v(" "),a("n-table-column",{attrs:{"min-width":"200px",prop:"query",label:"CSS选择器"}}),e._v(" "),a("n-table-column",{attrs:{prop:"animate","min-width":"300px",label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.animate?a("el-tooltip",{attrs:{effect:"dark",content:t.row.animate.animationName,placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":""},on:{click:function(a){return e.showAnimateSelect(t.row)},close:function(e){t.row.animate=void 0}}},[e._v("\n              "+e._s(t.row.animate.animationName)+"\n            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showAnimateSelect(t.row)}}},[e._v("选择\n              ")])],1)],1)],1)]}}],null,!1,3319467995)}),e._v(" "),a("n-table-column",{attrs:{width:"90",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[e.isShowAdd?a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddConfig}},[e._v("\n            +\n          ")]):e._e(),e._v(" "),e.isShowDelete?a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteConfig(t.$index)}}},[e._v("\n            -\n          ")]):e._e()])]}}],null,!1,346722415)})],1),e._v(" "),a("AnimateEditDialog",{ref:"animateEditDialog",attrs:{animation:[],isShowTrigger:!1},on:{confirmAdd:e.handleAnimateConfirm,confirmEdit:e.handleAnimateConfirm}})],1):e._e()},i=[]},HSbX:function(e,t,a){"use strict";a("U61s")},HXXI:function(e,t,a){},Hdgw:function(e,t,a){"use strict";a.r(t);var n=a("WzwS"),i=a("v47J");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("8Ic7");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"faa79510",null);t.default=r.exports},Hefq:function(e,t,a){var n=a("7yLz");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("c1f8c240",n,!0,{})},Hj1f:function(e,t,a){},"Hlk/":function(e,t,a){"use strict";a.r(t);var n=a("xswV"),i=a("msDd");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("iHGE");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"21e992a8",null);t.default=r.exports},HnQu:function(e,t,a){var n=a("bUHm");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4740709b",n,!0,{})},HnWr:function(e,t,a){"use strict";a("C/Oe")},HoZD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData,optionsMode:e.optionsMode},type:e.activeDataType,"is-hide-static":e.optionsMode},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"static"===e.activeDataType?"100%":"50%"}},["static"!==e.activeDataType?a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("变量映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{title:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"variable-label"},[a("span",{staticClass:"label",class:{require:n.require}},[e._v(e._s(n.label))]),e._v(" "),n.desc?a("el-tooltip",{attrs:{effect:"dark",content:n.desc,placement:"top"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)]}}],null,!1,953190779)}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}],null,!1,1589887621)})],1)],2)],1):e._e()],1),e._v(" "),"static"!==e.activeDataType?a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")]),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}})],1)]):e._e()])])],2)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},HvMV:function(e,t,a){},"Hx/y":function(e,t,a){"use strict";a.r(t);var n=a("sszg"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},I01v:function(e,t,a){},I1We:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("rePB")),o=n(a("Ff2n")),r=n(a("HaE+")),s=n(a("KQm4")),c=n(a("pKu3")),u=n(a("E0s0"));a("uD/U");var d=n(a("YLtl")),p=a("0O+R"),f=a("cCei"),v=a("mtVH"),m=a("a+hW"),h=n(a("Mqf6")),b=a("7Qib"),g=a("ZDQs"),y=a("7C5+"),_=["children"];function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={name:"TableData",components:{VueJsonPretty:u.default,DataSetConfig:c.default},inject:["dndOptions"].concat((0,s.default)(y.pageInject)),mixins:[h.default],data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","column"],dialogVisible:!1,dataColumn:void 0,dynamicColumn:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,selectedPath:void 0,responseOptions:[],response:void 0,dataListKeys:[],jsonLoading:!1,tableLoading:!1,activeDataType:""}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,p.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)}},methods:{open:function(e){var t=this,a=e.dynamicColumn,n=e.dataColumn,i=e.apiRequest,l=e.sqlRequest,o=e.staticData;this.dynamicColumn=a?d.default.cloneDeep(a):[{label:"表格数据",key:"dataList",path:[]},{label:"总行数",key:"totalCount",path:[]},{label:"列编码",key:"key",path:[]},{label:"列标题",key:"name",path:[]},{label:"列数据",key:"value",path:[]}],this.dataColumn=n?d.default.cloneDeep(n):[],this.staticData=d.default.cloneDeep(o)||void 0,this.apiRequest=d.default.cloneDeep(i)||void 0,this.sqlRequest=d.default.cloneDeep(l)||void 0,this.response=null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleGenerateTableData:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a,n,l,r,c,u,m,h;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={dynamicColumn:e.dynamicColumn,dataColumn:e.dataColumn,apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},n=e.currentElement.children.filter((function(t){return["slot"].includes(t.elementType)&&["data"].includes(e.getElementPropsById(t.elementId).slotType)})),l=n.map((function(t){return e.getElementPropsById(t.elementId).slotName})),r=e.dataColumn.map((function(e){return e.key})),c=l.filter((function(e){return!r.includes(e)})),u=n.filter((function(t){return c.includes(e.getElementPropsById(t.elementId).slotName)})).map((function(e){return e.elementId})),t.next=8,e._storeDispatch(f.DELETE_LAYOUT_DATA,{elementIdList:u});case 8:return m=[],h=[],e.dataColumn.forEach((function(t){var a=t.key;if(!l.includes(a)&&t.isUseSlot){var n={elementId:"",elementType:"slot",elementVersion:(0,v.getLastVersion)("slot"),elementName:t.label,defaultProps:{slotName:a,slotType:"data",canDropInsideTypes:["text","tag","href","button"]},children:[{elementId:"",elementType:"text",elementVersion:(0,v.getLastVersion)("text"),elementName:"文本",children:[],defaultProps:{useSlotProps:!0,prop:a}}]},i=p.getResetIdWidget.call(e,n);p.treeUtil.forEach([i],(function(t){t.children;var a=(0,o.default)(t,_),n=C(C({},a),a.defaultProps||{});g.defaultKeys.forEach((function(t){e.$delete(n,t)})),m.push({elementId:a.elementId,props:d.default.cloneDeep(n)}),g.defaultKeys.forEach((function(a){e.$delete(t,a)}))})),h.push(i)}else l.includes(a)&&(t.isUseSlot=!0)})),e._storeCommit(f.INIT_DYNAMIC_PROPS,{propsList:m}),e._storeCommit(f.UPDATE_LAYOUT_DATA,{elementId:e.currentElement.elementId,layout:{children:[].concat((0,s.default)(e.currentElement.children),h)}}),t.abrupt("return",Promise.resolve(a));case 14:case"end":return t.stop()}}),t)})))()},confirm:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a,n,l,o,r,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,e.apiRequest=n,e.sqlRequest=l,e.staticData=o,e.loading=!0,t.next=7,(0,b.sleep)(10);case 7:if(r=e.dynamicColumn.filter((function(e){return["dataList","key","name","value"].includes(e.key)})).map((function(e){return e.path})),!r.some((function(e){return!e.length}))){t.next=13;break}return e.$message.error("请配置变量映射!"),e.loading=!1,t.abrupt("return");case 13:return t.next=15,e.handleGenerateTableData();case 15:s=t.sent,console.log(s),e.loading=!1,e.$emit("confirm",s),e.dialogVisible=!1;case 20:case"end":return t.stop()}}),t)})))()},handleResponse:function(e){var t=e.response,a=e.responseOptions;if(e.isStatic){if(Array.isArray(t))return void this.$message.error('静态数据需传入对象格式，如：{"totalCount": 100, "data": []}');this.staticData=t}this.response=t,this.responseOptions=a},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,m.getObjectTree)(e)},handleClearResponse:function(){this.response=null,this.responseOptions=[]},handleDrop:function(e){var t=e.target.dataset.key;if(t){var a=this.dynamicColumn.find((function(e){return e.key===t})),n=(0,m.getPathList)(this.selectedPath);a.path=n.slice(1)}},getTip:function(e){switch(e){case"dataList":return"表格数据字段，需传入的类型为数组";case"totalCount":return"表格总行数字段，需传入数字类型";case"key":return"表格中每列所展示的列数据编码";case"name":return"表格中每列表头对应的中文名称";case"value":return"表格中每列所展示的数据内容"}},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=O},I3VX:function(e,t,a){},I3oX:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={data:function(){return{visible:!1,regList:[{name:"数字",reg:"^[+-]?[0-9]+(\\.[0-9]+)?$",errorTips:"请输入数字"},{name:"正整数与0",reg:"^\\+?[0-9]+$",errorTips:"请输入大于等于0的正整数"},{name:"非0正整数",reg:"^\\+?[1-9][0-9]*$",errorTips:"请输入大于0的正整数"},{name:"2位小数的正整数",reg:"^[0-9]+(\\.[0-9]{2})?$",errorTips:"请输入最多两位小数的数字"},{name:"1-3位小数的正整数",reg:"^[0-9]+(\\.[0-9]{1,3})?$",errorTips:"请输入1-3位小数的正整数"},{name:"密码",reg:"^[a-zA-Z]\\w{5,17}$",errorTips:"以字母开头，长度在6-18之间，只能包含字符、数字和下划线"},{name:"汉字",reg:"^[\\u2E80-\\u9FFF]+$",errorTips:"只允许输入汉字"},{name:"Email地址",reg:"^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$",errorTips:"请输入正确Email地址"},{name:"URL",reg:"^(((ht|f)tps?):\\/\\/)?[\\w-]+(\\.[\\w-]+)+([\\w.,@?^=%&:/~+#-]*[\\w@?^=%&/~+#-])?$",errorTips:"请输入正确URL"},{name:"电话号码",reg:"^(\\(\\d{3,4}\\)|\\d{3,4}-)?\\d{7,8}$",errorTips:"请输入正确电话号码"},{name:"手机号码",reg:"^(?:(?:\\+|00)86)?1\\d{10}$",errorTips:"请输入正确手机号码"},{name:"身份证号",reg:"^[1-9]\\d{5}(18|19|([23]\\d))\\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\\d{3}[0-9Xx]$",errorTips:"请输入正确身份证号"}]}},methods:{show:function(){this.visible=!0},close:function(){this.visible=!1}},computed:{},watch:{}}},I5d0:function(e,t,a){"use strict";a.r(t);var n=a("Rg/V"),i=a("C0Sx");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("4+FW");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"fc74dc7a",null);t.default=r.exports},IC28:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("KQm4")),r=n(a("n23Q")),s=n(a("pKu3")),c=n(a("E0s0"));a("uD/U");var u=n(a("YLtl")),d=a("0O+R"),p=a("7C5+"),f={name:"DataSelect",components:{VueJsonPretty:c.default,antvChartFieldConfig:r.default,DataSetConfig:s.default},inject:["dndOptions"].concat((0,o.default)(p.pageInject)),props:{elementProps:{type:Object}},data:function(){return{loading:!1,activeCollapse:["config"],dialogVisible:!1,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,dataMapping:[],response:void 0,activeDataType:"api"}},computed:{responseData:function(){return"static"===this.activeDataType?this.staticData:this.response},layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,d.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)}},methods:{handleTabClick:function(){},open:function(e){var t=e.apiRequest,a=e.sqlRequest,n=e.staticData,i=e.dataMapping;this.staticData=u.default.cloneDeep(n)||void 0,this.apiRequest=u.default.cloneDeep(t)||void 0,this.sqlRequest=u.default.cloneDeep(a)||void 0,this.dataMapping=u.default.cloneDeep(i)||[],this.response=null,this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,o,r,s,c,u,d,p;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,r=e.dataMapping,s=0;case 3:if(!(s<r.length)){t.next=12;break}if(c=r[s],u=c.sourcePath,d=c.mappingPath,u.length){t.next=7;break}return t.abrupt("return",e.$message.error("数据(data)映射第".concat(s+1,"项中 “data” 不能为空")));case 7:if(d.length){t.next=9;break}return t.abrupt("return",e.$message.error("数据(data)映射第".concat(s+1,"项中 “字段路径” 不能为空")));case 9:s++,t.next=3;break;case 12:e.loading=!0,p={apiRequest:n,sqlRequest:l,staticData:o,dataMapping:r},e.loading=!1,e.$emit("confirm",p),e.dialogVisible=!1;case 17:case"end":return t.stop()}}),t)})))()},handleResponse:function(e){var t=e.response;e.isStatic?this.handleStaticResponse({response:t}):(this.response=t,this.$refs.antvChartFieldConfig.init())},handleStaticResponse:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response){a.next=3;break}return a.abrupt("return");case 3:if(u.default.isObject(n)){a.next=6;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 6:t.staticData=u.default.cloneDeep(n),t.$refs.antvChartFieldConfig.init();case 8:case"end":return a.stop()}}),a)})))()}}};t.default=f},ILnk:function(e,t,a){"use strict";a.r(t);var n=a("6ONe"),i=a("NQNq");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("4d3L");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"4b90b9a5",null);t.default=r.exports},IMhQ:function(e,t,a){"use strict";a.r(t);var n=a("5Eao"),i=a("ZqeW");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("bozR");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0f551381",null);t.default=r.exports},IRHp:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[a("div",{staticClass:"mode-select"},[a("data-selector",e._b({attrs:{btnText:"配置",optionkey:"chart"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[e._m(0),e._v(" "),e._l(e.yFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.value))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{"popper-class":"y-popover",placement:"left",width:"350"}},[a("el-form",{staticClass:"no-mb",attrs:{size:"mini","label-width":"120px","label-position":"left"}},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"字段名称"}},[a("el-input",{model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"item.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据名称"}},[a("el-input",{model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}})],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"数据标签"}},[a("el-switch",{model:{value:t.titleShow,callback:function(a){e.$set(t,"titleShow",a)},expression:"item.titleShow"}})],1),e._v(" "),t.titleShow?[a("el-form-item",{attrs:{label:"数据标签高度"}},[a("range-select",{attrs:{options:e.lengthOptions},model:{value:t.titleHeight,callback:function(a){e.$set(t,"titleHeight",a)},expression:"item.titleHeight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签宽度"}},[a("range-select",{attrs:{options:e.lengthOptions},model:{value:t.titleWidth,callback:function(a){e.$set(t,"titleWidth",a)},expression:"item.titleWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签颜色"}},[a("el-color-picker",{model:{value:t.titleColor,callback:function(a){e.$set(t,"titleColor",a)},expression:"item.titleColor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签背景色"}},[a("el-color-picker",{model:{value:t.titleBackgroundColor,callback:function(a){e.$set(t,"titleBackgroundColor",a)},expression:"item.titleBackgroundColor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签水平偏移"}},[a("range-select",{attrs:{options:e.offsetOptions},model:{value:t.titleOffsetX,callback:function(a){e.$set(t,"titleOffsetX",a)},expression:"item.titleOffsetX"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签垂直偏移"}},[a("range-select",{attrs:{options:e.offsetOptions},model:{value:t.titleOffsetY,callback:function(a){e.$set(t,"titleOffsetY",a)},expression:"item.titleOffsetY"}})],1)]:e._e(),e._v(" "),a("el-form-item",{attrs:{label:"数据详情"}},[a("el-switch",{model:{value:t.detailShow,callback:function(a){e.$set(t,"detailShow",a)},expression:"item.detailShow"}})],1),e._v(" "),t.detailShow?[a("el-form-item",{attrs:{label:"数据详情水平偏移"}},[a("range-select",{attrs:{options:e.offsetOptions},model:{value:t.detailOffsetX,callback:function(a){e.$set(t,"detailOffsetX",a)},expression:"item.detailOffsetX"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据详情垂直偏移"}},[a("range-select",{attrs:{options:e.offsetOptions},model:{value:t.detailOffsetY,callback:function(a){e.$set(t,"detailOffsetY",a)},expression:"item.detailOffsetY"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据详情格式化"}},[a("el-switch",{model:{value:t.detailUseformatter,callback:function(a){e.$set(t,"detailUseformatter",a)},expression:"item.detailUseformatter"}})],1),e._v(" "),t.detailUseformatter?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:t.detailFormatter,callback:function(a){e.$set(t,"detailFormatter",a)},expression:"item.detailFormatter"}})],1):e._e()]:e._e()],2),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addYFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n        添加数据字段\n      ")])],1)],2)])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("数值字段")])])}]},"ITm/":function(e,t,a){},IVgO:function(e,t,a){},IVxE:function(e,t,a){"use strict";a("YUkg")},IWBs:function(e,t,a){"use strict";a("toKl")},"Iiy+":function(e,t,a){"use strict";a("CRJA")},IjcN:function(e,t,a){},Il0p:function(e,t,a){var n=a("8ZbQ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2d144914",n,!0,{})},It2X:function(e,t,a){var n=a("fYpo");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("72ddeebf",n,!0,{})},Iu4X:function(e,t,a){var n=a("MXeK");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4e6ca37b",n,!0,{})},IvRr:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:e.title,visible:e.dialogVisible,width:"1200px",top:"30px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("js-config",{ref:"jsConfig",staticClass:"js-config",attrs:{defaultArguments:e.defaultArguments,tips:e.tips,useType:e.useType,isJsFormat:""},model:{value:e.chartConfigId,callback:function(t){e.chartConfigId=t},expression:"chartConfigId"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},JEj6:function(e,t,a){var n=a("APph");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4c8f2364",n,!0,{})},JLcq:function(e,t,a){"use strict";a("NMcu")},JPMm:function(e,t,a){"use strict";a.r(t);var n=a("z9rb"),i=a("XOGy");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("zMCT");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"02b97f18",null);t.default=r.exports},JSKn:function(e,t,a){"use strict";a("VRVB")},"JU+E":function(e,t,a){var n=a("9r9f");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("8e5f9788",n,!0,{})},JZBR:function(e,t,a){"use strict";a.r(t);var n=a("ac+S"),i=a("js45");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("2Wxd");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"18096d8e",null);t.default=r.exports},Jekd:function(e,t,a){"use strict";a("W6gx")},Ji15:function(e,t,a){"use strict";a.r(t);var n=a("ND2V"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Jlxd:function(e,t,a){var n=a("9uWQ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("cc3ceb3e",n,!0,{})},Jo4S:function(e,t,a){"use strict";a("QeuU")},Jskv:function(e,t,a){"use strict";a("nhWb")},Jvg4:function(e,t,a){},K3Ga:function(e,t,a){var n=a("2Eky");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4f23dc78",n,!0,{})},K3xa:function(e,t,a){var n=a("eBPg");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("34d2db7b",n,!0,{})},K9KF:function(e,t,a){"use strict";a.r(t);var n=a("kUbo"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},KAmc:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={apiGroupList:"/app-data/apiGroup/listApi",apiGroupRemove:"/app-data/apiGroup/remove",apiGroupSave:"/app-data/apiGroup/save",apiGroupUpdate:"/app-data/apiGroup/update",apiDesignDetail:"/app-data/apiDesign/detail",apiDesignMockRunAction:"/app-data/apiDesign/mockRunAction",apiDesignMockRunApi:"/app-data/apiDesign/mockRunApi",apiDesignMockRunStep:"/app-data/apiDesign/mockRunStep",apiDesignPublish:"/app-data/apiDesign/publish",apiDesignRemove:"/app-data/apiDesign/remove",apiDesignSaveOrUpdate:"/app-data/apiDesign/saveOrUpdate",apiDesignUnpublish:"/app-data/apiDesign/unpublish",apiDesignGetRunStepDetail:"/app-data/apiDesign/getRunStepDetail",apiDesignGetRunApiDetail:"/app-data/apiDesign/getRunApiDetail",apiDesignListPublished:"/app-data/apiDesign/listPublished",apiDesignMockEvalScript:"/app-data/apiDesign/mockEvalScript",apiDesignGetAllStepOutput:"/app-data/apiDesign/getAllStepOutput",apiDesignGetListRunActionLog:"/app-data/apiDesign/listRunActionLog"}},KD2V:function(e,t,a){var n=a("pX+9");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f588bdd8",n,!0,{})},KGRj:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=n(a("KQm4")),s=n(a("YLtl")),c=n(a("ZoP3")),u=["SELECT","INSERT","DELETE","UPDATE","CREATE TABLE","DROP TABLE","ALTER TABLE","CREATE VIEW","DROP VIEW","CREATE INDEX","DROP INDEX","CREATE PROCEDURE","DROP PROCEDURE","CREATE TRIGGER","DROP TRIGGER","CREATE SCHEMA","DROP SCHEMA","CREATE DOMAIN","ALTER DOMAIN","DROP DOMAIN","GRANT","DENY","REVOKE","COMMIT","ROLLBACK","SET TRANSACTION","DECLARE","EXPLAN","OPEN","FETCH","CLOSE","PREPARE","EXECUTE","DESCRIBE","FORM","ORDER BY"],d={name:"SqlCode",components:{ChangeHeight:c.default},props:{value:{type:String},dynamicHints:{type:Array,default:function(){return[]}},resizable:{type:Boolean,default:!1}},data:function(){return{loading:!1,hints:[],monacoInstance:null,provider:null}},computed:{code:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},watch:{value:{handler:function(e,t){var a;s.default.isEqual(e,t)||(this.code=e,null===(a=this.monacoInstance)||void 0===a||a.setValue(e))},immediate:!0},dynamicHints:{handler:function(e,t){e.length&&this.initHints()},deep:!0,immediate:!0}},methods:{initHints:function(){var e="ADD EXCEPT PERCENT ALL EXEC PLAN ALTER EXECUTE PRECISION AND EXISTS PRIMARY ANY EXIT PRINT AS FETCH PROC ASC FILE PROCEDURE AUTHORIZATION FILLFACTOR PUBLIC BACKUP FOR RAISERROR BEGIN FOREIGN READ BETWEEN FREETEXT READTEXT BREAK FREETEXTTABLE RECONFIGURE BROWSE FROM REFERENCES BULK FULL REPLICATION BY FUNCTION RESTORE CASCADE GOTO RESTRICT CASE GRANT RETURN CHECK GROUP REVOKE CHECKPOINT HAVING RIGHT CLOSE HOLDLOCK ROLLBACK CLUSTERED IDENTITY ROWCOUNT COALESCE IDENTITY_INSERT ROWGUIDCOL COLLATE IDENTITYCOL RULE COLUMN IF SAVE COMMIT IN SCHEMA COMPUTE INDEX SELECT CONSTRAINT INNER SESSION_USER CONTAINS INSERT SET CONTAINSTABLE INTERSECT SETUSER CONTINUE INTO SHUTDOWN CONVERT IS SOME CREATE JOIN STATISTICS CROSS KEY SYSTEM_USER CURRENT KILL TABLE CURRENT_DATE LEFT TEXTSIZE CURRENT_TIME LIKE THEN CURRENT_TIMESTAMP LINENO TO CURRENT_USER LOAD TOP CURSOR NATIONAL TRAN DATABASE NOCHECK TRANSACTION DBCC NONCLUSTERED TRIGGER DEALLOCATE NOT TRUNCATE DECLARE NULL TSEQUAL DEFAULT NULLIF UNION DELETE OF UNIQUE DENY OFF UPDATE DESC OFFSETS UPDATETEXT DISK ON USE DISTINCT OPEN USER DISTRIBUTED OPENDATASOURCE VALUES DOUBLE OPENQUERY VARYING DROP OPENROWSET VIEW DUMMY OPENXML WAITFOR DUMP OPTION WHEN ELSE OR WHERE END ORDER WHILE ERRLVL OUTER WITH ESCAPE OVER WRITETEXT".split(" ");this.hints=Array.from(new Set([].concat(u,(0,r.default)(e),(0,r.default)(this.dynamicHints)))).sort()},dispose:function(){this.monacoInstance&&(this.monacoInstance.getModel()&&this.monacoInstance.getModel().dispose(),this.monacoInstance.dispose(),this.monacoInstance=null,this.provider&&(this.provider.dispose(),this.provider=null))},init:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,o,s,c,u,d,p;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.codeEditor){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,o=[Promise.all([a.e(0),a.e(1)]).then(a.t.bind(null,"M/lh",7)),Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"w9QG"))],t.next=7,Promise.all(o);case 7:s=t.sent,c=(0,l.default)(s,1),u=c[0],d=e,e.dispose(),p=function(e){var t=e.replace(/[\*\[\]@\$\(\)]/g,"").replace(/(\s+|\.)/g," ").split(" "),a=t[t.length-1],n=a.length,i=new RegExp("([^\\w]|^)"+a+"\\w*","gim"),l=d.value.match(i),o=l?l.map((function(e){var t=new RegExp(a,"gim"),n=e.search(t);return e.substr(n)})):[],s=Array.from(new Set([].concat((0,r.default)(d.hints),(0,r.default)(o)))).sort().filter((function(e){var t=new RegExp(e.substr(0,n),"gim");return!(l&&1===l.length&&e===a||1===e.length)&&a.match(t)}));return s.map((function(e){return{label:e,kind:d.hints.indexOf(e)>-1?u.languages.CompletionItemKind.Keyword:u.languages.CompletionItemKind.Text,documentation:e,insertText:e}}))},e.provider=u.languages.registerCompletionItemProvider("sql",{triggerCharacters:["#"],provideCompletionItems:function(e,t){var a=e.getValueInRange({startLineNumber:t.lineNumber,startColumn:1,endLineNumber:t.lineNumber,endColumn:t.column});return{suggestions:p(a)}}}),e.monacoInstance=u.editor.create(n,{value:e.code,language:"sql",theme:"vs",folding:!1,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:5,enableSplitViewResizing:!1,roundedSelection:!1,overviewRulerBorder:!1,minimap:{enabled:!0},autoIndent:"full",readOnly:!1,tabSize:4}),e.monacoInstance.onDidFocusEditorText((function(){e.$emit("focus-change",!0)})),e.monacoInstance.onDidBlurEditorText((function(){e.monacoInstance&&(e.code=e.monacoInstance.getValue().replace(/##\{/g,"#{"),e.$emit("focus-change",!1))})),e.loading=!1;case 18:case"end":return t.stop()}}),t)})))()},handleHeightChange:s.default.throttle((function(e){var t=e.height,a=this.$el.clientHeight+t,n=this.$el.clientWidth;this.monacoInstance.layout({width:n,height:a<200?200:a})}),60)},created:function(){this.initHints()},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeDestroy:function(){this.dispose()}};t.default=d},KIuu:function(e,t,a){"use strict";a.r(t);var n=a("kGmN"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},KJFa:function(e,t,a){"use strict";a("M/AB")},KKEJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n    "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:e.placeholder,min:e.options.min,max:e.options.max},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)],1)},i=[]},KKXL:function(e,t,a){"use strict";a.r(t);var n=a("ksgD"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},KLQl:function(e,t,a){var n=a("D9N7");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("62fbe490",n,!0,{})},KM4L:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择数据模型",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("n-form",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select-form",attrs:{"label-position":"top",model:e.queryForm,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("div",{staticClass:"table-search"},[a("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{size:"mini",clearable:"",placeholder:"输入关键字查询"},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}})],1)]),e._v(" "),a("n-form-item",[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.id===t.row.id?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"physicalName",label:"物理名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"中文名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"dataSourceType",label:"数据源类型"}}),e._v(" "),a("n-table-column",{attrs:{prop:"dataSourceName",label:"数据源"}}),e._v(" "),a("n-table-column",{attrs:{prop:"updateUserName",label:"更新人"}}),e._v(" "),a("n-table-column",{attrs:{prop:"updateTime",label:"更新时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatTime(t.row.updateTime)))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},KN4V:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("Wk/A")),o=a("7Qib");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{Select:l.default},props:{value:{type:Array,default:function(){return{value:"",unit:""}}},options:{type:Array,default:function(){return{unit:[]}}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{inputChange:(0,o.debounce)((function(e){this.$emit("input",s(s({},this.value),{},{value:e}))})),selectChange:function(e){this.$emit("input",s(s({},this.value),{},{unit:e}))}},computed:{max:function(){var e,t=this;return(null===(e=this.options.unit.find((function(e){return e.value===t.value.unit})))||void 0===e?void 0:e.max)||this.options.max},min:function(){var e,t=this;return(null===(e=this.options.unit.find((function(e){return e.value===t.value.unit})))||void 0===e?void 0:e.min)||this.options.min}},watch:{}};t.default=c},KNDQ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("4S6/"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String},tip:{type:String}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},options:function(){return l.default[this.optionkey]}}};t.default=s},KOO0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"组件生成配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("选择数据来源")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("n-tabs",{staticClass:"tabs",attrs:{"tab-position":"top"},model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[a("n-tab-pane",{attrs:{label:"数据模型",name:"model"}},[a("div",{staticClass:"data-item"},[a("div",{staticClass:"label"},[e._v("指定数据源:")]),e._v(" "),a("div",{staticClass:"value"},[a("el-input",{attrs:{value:e.sqlSource.name}}),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleShowSqlDataSelect}},[e._v("选择")])],1)]),e._v(" "),a("div",{staticClass:"data-item"},[a("div",{staticClass:"label"},[e._v("选择数据模型:")]),e._v(" "),a("div",{staticClass:"value"},[e.selectedModel?a("el-input",{attrs:{value:e.selectedModel.name}}):a("el-input"),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"mini",type:"primary",disabled:!e.sqlSource.id},on:{click:e.handleShowModelSelect}},[e._v("选择")])],1)])]),e._v(" "),a("n-tab-pane",{attrs:{label:"服务网关",name:"api"}},[a("div",{staticClass:"data-item"},[a("div",{staticClass:"label"},[e._v("URL:")]),e._v(" "),a("div",{staticClass:"value"},[e.apiInfo?a("el-input",{attrs:{readonly:"",value:e.apiInfo.serviceCode}}):a("el-input",{attrs:{readonly:""}}),e._v(" "),a("el-button",{staticClass:"btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleShowGatewayDataSelect}},[e._v("选择")])],1)]),e._v(" "),e.apiInfo?a("div",{staticClass:"data-item"},[a("div",{staticClass:"label"}),e._v(" "),a("div",{staticClass:"value",staticStyle:{color:"#888","font-size":"12px"}},[e._v("\n                    "+e._s(e.apiInfo.description)+"\n                  ")])]):e._e()])],1)],1)],2)],1)],1),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段组件映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"api"===e.dataType?"50%":"100%"}},[a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","auto-resize":!0,"header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"42px",align:"center"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"字段名称"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"label",title:"中文名称","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{attrs:{clearable:""},model:{value:n.label,callback:function(t){e.$set(n,"label",t)},expression:"row.label"}})]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"vue",title:"外观映射"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-select",{model:{value:n.vue,callback:function(t){e.$set(n,"vue",t)},expression:"row.vue"}},e._l(e.formItems,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)]}}])})],1)],1),e._v(" "),"api"===e.dataType?a("div",{staticClass:"data-result"},[a("el-button",{staticClass:"path-select-btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleGenerateKey}},[e._v("一键生成字段\n                    "),a("el-tooltip",{attrs:{content:"请在下方结构树上选中“表单数据”节点，点击【一键生成数据列】按钮，系统会解析该节点下的所有子节点为表单字段","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px",color:"black","font-size":"14px"}})])],1),e._v(" "),a("n-tabs",{staticClass:"tabs",attrs:{"tab-position":"top"},model:{value:e.apiType,callback:function(t){e.apiType=t},expression:"apiType"}},[a("n-tab-pane",{attrs:{label:"请求体",name:"request"}},[a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.request,expression:"request"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.request,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.request?e._e():a("div",{staticStyle:{"text-align":"center"}},[e._v("暂无数据")])],1)]),e._v(" "),a("n-tab-pane",{attrs:{label:"响应体",name:"response"}},[a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticStyle:{"text-align":"center"}},[e._v("暂无数据")])],1)])],1)],1):e._e()])])],2)],1)],1)]),e._v(" "),a("gateway-data-select",{ref:"gatewayDataSelect",on:{confirm:e.handleGatewayDataConfirm}}),e._v(" "),a("sql-data-select",{ref:"sqlDataSelect",on:{confirm:e.handleSqlDataConfirm}}),e._v(" "),a("model-data-select",{ref:"modelDataSelect",on:{confirm:e.handleModelDataConfirm}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading,disabled:!e.dataVariables.length},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},KYRP:function(e,t,a){},KZ19:function(e,t,a){"use strict";a.r(t);var n=a("Ymyd"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},KZby:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("KQm4")),r=n(a("ZGJ8")),s=n(a("pKu3")),c=n(a("E0s0"));a("uD/U");var u=n(a("YLtl")),d=a("0O+R"),p=a("7C5+"),f={name:"DataSelect",components:{VueJsonPretty:c.default,chartFieldSelector:r.default,DataSetConfig:s.default},inject:["dndOptions"].concat((0,o.default)(p.pageInject)),props:{useType:{type:String,default:""},elementProps:{type:Object}},data:function(){return{loading:!1,activeCollapse:["config"],dialogVisible:!1,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,dynamicVariables:[],responseOptions:[],response:void 0,activeDataType:"api"}},computed:{responseData:function(){return"dynamic"===this.elementProps.dataType&&"static"===this.activeDataType?this.staticData:this.response},layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,d.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)}},methods:{handleTabClick:function(){"dynamic"===this.elementProps.dataType&&this.dynamicVariables.forEach((function(e){e.path=[]}))},open:function(e){var t=e.dataVariables,a=e.apiRequest,n=e.sqlRequest,i=e.staticData,l=e.dynamicVariables;this.dataVariables=t?u.default.cloneDeep(t):[],this.staticData=u.default.cloneDeep(i)||void 0,this.apiRequest=u.default.cloneDeep(a)||void 0,this.sqlRequest=u.default.cloneDeep(n)||void 0,this.dynamicVariables=u.default.cloneDeep(l)||void 0,this.response=null,this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,o,r,s;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,e.apiRequest=n,e.sqlRequest=l,e.staticData=o,r=u.default.cloneDeep(e.dataVariables),"dynamic"===e.elementProps.dataType){t.next=9;break}return t.next=8,e.$refs.chartFieldSelector.getValue();case 8:r=t.sent;case 9:e.loading=!0,s={dataVariables:r,apiRequest:n,sqlRequest:l,staticData:o,dynamicVariables:e.dynamicVariables},e.loading=!1,e.$emit("confirm",s),e.dialogVisible=!1;case 14:case"end":return t.stop()}}),t)})))()},handleResponse:function(e){var t=e.response,a=e.responseOptions;e.isStatic?this.handleStaticResponse({response:t,responseOptions:a}):(this.response=t,this.responseOptions=a,this.$refs.chartFieldSelector.init())},handleStaticResponse:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response,e.responseOptions,n){a.next=3;break}return a.abrupt("return");case 3:if(Array.isArray(n)){a.next=6;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 6:if(l=n[0],u.default.isObject(l)){a.next=10;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 10:t.staticData=u.default.cloneDeep(n),t.$refs.chartFieldSelector.init();case 12:case"end":return a.stop()}}),a)})))()}}};t.default=f},KbMx:function(e,t,a){"use strict";a("obqd")},"Kd+v":function(e,t,a){"use strict";a("ApG/")},KnJ8:function(e,t,a){},"Kq/p":function(e,t,a){var n=a("IVgO");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("0ab56988",n,!0,{})},Kysn:function(e,t,a){"use strict";a("8nLe")},"L+M7":function(e,t,a){"use strict";a.r(t);var n=a("USmc"),i=a("OTUl");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("3yHM");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"e694962c",null);t.default=r.exports},"L/L6":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"js-code"},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"codeEditor",staticClass:"highlight-code",class:{"custom-class":e.customClass}}),e._v(" "),e.resizable?a("ChangeHeight",{on:{heightChange:e.handleHeightChange}}):e._e()],1)},i=[]},L0Hc:function(e,t,a){"use strict";a.r(t);var n=a("IvRr"),i=a("PaGO");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Jo4S");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"523b6a31",null);t.default=r.exports},L2Tx:function(e,t,a){},L63Y:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=a("xBdn"),r=n(a("slWK")),s={name:"DataConfigSave",data:function(){return{dialogVisible:!1,loading:!1,formData:{name:"",config:void 0,description:"",type:void 0},rules:{name:(0,o.getValidators)([{message:"请输入名称",include:o.required,trigger:"change"}]),description:(0,o.getValidators)([{message:"请输入描述信息",include:o.required,trigger:"change"}])}}},methods:{open:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.config,l=e.type,t.formData.type=t.getTypeNumber(l),t.formData.config=n,t.dialogVisible=!0,a.next=6,t.$nextTick();case 6:t.$refs.dataForm.clearValidate();case 7:case"end":return a.stop()}}),a)})))()},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},getTypeNumber:function(e){switch(e){case"script":return 7;case"orchestration":return 8;case"sncflower":return 9;default:return e}},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.dataForm.validate();case 2:e.loading=!0,e.$http({url:r.default.dataSetSave,data:e.formData}).then((function(t){t.data;e.$message.success("保存成功"),e.dialogVisible=!1})).finally((function(){e.loading=!1}));case 4:case"end":return t.stop()}}),t)})))()}}};t.default=s},L6Fj:function(e,t,a){"use strict";a.r(t);var n=a("DQrF"),i=a("Oc/n");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("sXwA");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"011ef1b4",null);t.default=r.exports},L6pN:function(e,t,a){"use strict";a("+2xR")},LHOp:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-design-page"},[a("div",{staticStyle:{height:"50px",width:"100%","border-bottom":"1px solid #eeeeee"}},[a("page-header")],1),e._v(" "),a("splitpanes",{staticClass:"page-content default-theme",class:{"error-log":e.errorLogVisible},attrs:{"dbl-click-splitter":!1}},[a("pane",{ref:"leftPanel",staticClass:"left-panel",class:{"is-collapse":e.isCollapseLeft},attrs:{size:e.leftSize}},[a("splitpanes",{staticClass:"default-theme",attrs:{horizontal:"","dbl-click-splitter":!1}},[a("pane",{staticClass:"tabs-container",attrs:{size:"35"}},[a("el-tabs",{model:{value:e.currentPanel,callback:function(t){e.currentPanel=t},expression:"currentPanel"}},[a("el-tab-pane",{attrs:{label:"页面",name:"page"}},[a("page-panel",{on:{"page-load":e.handlePageLoad}})],1),e._v(" "),a("el-tab-pane",{staticClass:"drop-zone widget-tab-pane",attrs:{label:"组件层",name:"tree","data-zone":e.pageZone}},["tree"===e.currentPanel&&e.treeData?a("tree-panel",{attrs:{data:e.treeData}}):e._e()],1)],1)],1),e._v(" "),a("pane",{staticClass:"tabs-container",attrs:{size:"65"}},[a("widget-panel",{ref:"widgetPanel"})],1)],1)],1),e._v(" "),a("pane",{staticClass:"main-wrapper",attrs:{size:100-e.leftSize-e.rightSize}},[e.layoutData?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"page-main",attrs:{id:"app-design-page-main"}},[a("nav",{staticClass:"nav"},[a("div",{staticClass:"collapse-btn left",on:{click:function(t){e.isCollapseLeft=!e.isCollapseLeft}}},[a("div",{staticClass:"arrow",class:e.arrowClass(1)},[a("img",{attrs:{src:e.$getImgPrefix("/design/svg/arrow-deep.svg"),alt:""}})])]),e._v(" "),a("breadcrumb",{staticClass:"canvas-breadcrumb",attrs:{"element-id":e.dndOptions.selectedId}}),e._v(" "),a("div",{staticClass:"collapse-btn right",on:{click:function(t){e.isCollapseRight=!e.isCollapseRight}}},[a("div",{staticClass:"arrow",class:e.arrowClass(2)},[a("img",{attrs:{src:e.$getImgPrefix("/design/svg/arrow-deep.svg"),alt:""}})])])],1),e._v(" "),e.asyncRender?a("page-canvas",{on:{selectedChanged:e.handleSelectedChanged}}):e._e(),e._v(" "),e.asyncRender?a("cover-wrapper",{ref:"cover",on:{addToFavorite:e.handleAddToFavorite,addToPublish:e.handleAddToPublish}}):e._e()],1):a("div",{staticClass:"page-main empty"})]),e._v(" "),a("pane",{staticClass:"setting-panel",class:{"is-collapse":e.isCollapseRight,"style-panel":"style"===e.currentSettingPanel},attrs:{size:e.rightSize}},[a("div",{staticClass:"tabs-container"},[e.dndOptions.selectedId?a("n-tabs",{on:{"tab-click":e.tabClick},model:{value:e.currentSettingPanel,callback:function(t){e.currentSettingPanel=t},expression:"currentSettingPanel"}},[a("n-tab-pane",{attrs:{lazy:"",label:"属性",name:"prop"}},[a("props-panel",{ref:"prop"})],1),e._v(" "),a("n-tab-pane",{attrs:{lazy:"",disabled:e.hideStyle,label:"样式",name:"style"}},[e.hideStyle?a("div",{staticClass:"style-disabled-text"},[e._v("\n              当前组件不支持设置样式\n            ")]):a("style-panel",{ref:"style"})],1),e._v(" "),a("n-tab-pane",{attrs:{lazy:"",label:"事件",name:"event"}},[a("event-panel")],1)],1):a("div",{staticClass:"empty"},[e._v("请在左侧画布选中节点")])],1)])],1),e._v(" "),a("FavoriteDialog",{ref:"favoriteDialog",on:{success:e.handleRefreshComponentTemplate}}),e._v(" "),a("template-save",{ref:"templateSave"}),e._v(" "),e.errorLogVisible?a("error-capture",{on:{"update-panel":function(t){return e.currentSettingPanel=t}}}):e._e()],1)},i=[]},LRjv:function(e,t,a){"use strict";a("Kq/p")},LRkd:function(e,t,a){var n=a("yi+t");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("ce9f0042",n,!0,{})},LXTl:function(e,t,a){"use strict";a("aDwm")},"LiU/":function(e,t,a){},LwgG:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{buttonTypes:[{label:"默认按钮",value:"default"},{label:"文字按钮",value:"text"},{label:"主要按钮",value:"primary"},{label:"成功按钮",value:"success"},{label:"信息按钮",value:"info"},{label:"警告按钮",value:"warning"},{label:"危险按钮",value:"danger"}]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=r},"M/AB":function(e,t,a){var n=a("xLNM");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4fd54aec",n,!0,{})},M7LT:function(e,t,a){"use strict";a.r(t);var n=a("60rB"),i=a("Qsv3");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("vM5z"),a("a5bw");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"25d8a66f",null);t.default=r.exports},"MH6/":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));n(a("YLtl"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},vue:{type:String}},data:function(){return{}},computed:{contentVisible:{get:function(){return this.elementProps.contentVisible},set:function(e){var t=o(o({},this.elementProps),{},{contentVisible:e});this.$emit("update",t)}},lazy:{get:function(){return this.elementProps.lazy},set:function(e){var t=o(o({},this.elementProps),{},{lazy:e});this.$emit("update",t)}},progressDot:{get:function(){return this.elementProps.progressDot},set:function(e){var t=o(o({},this.elementProps),{},{progressDot:e});this.$emit("update",t)}},labelPlacement:{get:function(){return this.elementProps.labelPlacement},set:function(e){var t=o(o({},this.elementProps),{},{labelPlacement:e});this.$emit("update",t)}},direction:{get:function(){return this.elementProps.direction},set:function(e){var t=o(o({},this.elementProps),{},{direction:e});this.$emit("update",t)}},stepWidth:{get:function(){return this.elementProps.stepWidth},set:function(e){var t=o(o({},this.elementProps),{},{stepWidth:e});this.$emit("update",t)}},stretch:{get:function(){return this.elementProps.stretch},set:function(e){var t=o(o({},this.elementProps),{},{stretch:e});this.$emit("update",t)}}},methods:{}};t.default=r},MICF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":e.isShowTrigger?"animate-edit-dialog":"animate-edit-dialog center",title:"",visible:e.dialogVisible,"close-on-click-modal":!0,"modal-append-to-body":!0,"append-to-body":!0,"before-close":e.beforeClose,width:"311px",top:"0"}},[a("div",{staticClass:"dialog-content"},[a("div",{staticClass:"dialog-header"},[a("div",{staticClass:"title"},[e._v(e._s(e.title))])]),e._v(" "),a("div",{staticClass:"dialog-body"},[a("n-form",{ref:"editForm",attrs:{"label-position":"left",rules:e.rules,model:e.animate,"label-width":"100px"},nativeOn:{submit:function(e){e.preventDefault()}}},[e.isShowTrigger?a("n-form-item",{attrs:{label:"触发方式",prop:"trigger"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.animate.trigger,callback:function(t){e.$set(e.animate,"trigger",t)},expression:"animate.trigger"}},e._l(e.triggers,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:e.isTriggerDisabled(t.value)}})})),1)],1):e._e(),e._v(" "),a("n-form-item",{attrs:{label:"动画效果",prop:"animationName"}},[e.animate.animationName?a("el-tag",{on:{click:e.handleShowAnimateList}},[e._v(e._s(e.animate.animationName))]):a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleShowAnimateList}},[e._v("选择动画")])],1),e._v(" "),a("n-form-item",{attrs:{label:"延迟触发(s)",prop:"delay"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0,max:100,step:.5},model:{value:e.animate.delay,callback:function(t){e.$set(e.animate,"delay",t)},expression:"animate.delay"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"持续时间(s)",prop:"duration"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:.1,max:100,step:.5},model:{value:e.animate.duration,callback:function(t){e.$set(e.animate,"duration",t)},expression:"animate.duration"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditConfirm}},[e._v("确 认")])],1)]),e._v(" "),a("AnimateSelect",{ref:"animateSelect",on:{confirm:e.handleAnimateSelectConfirm}})],1)},i=[]},MKEZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[e.popoverVisible?a("div",{staticClass:"option-config-model",on:{click:function(t){e.popoverVisible=!1}}}):e._e(),e._v(" "),a("div",{staticClass:"mode-select"},[a("el-radio-group",{attrs:{fill:"#3f92fe"},on:{change:e.handleDataOriginChange},model:{value:e.dataOrigin,callback:function(t){e.dataOrigin=t},expression:"dataOrigin"}},[a("el-radio-button",{attrs:{label:"static"}},[e._v("选项配置")]),e._v(" "),a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("动态数据")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"static"==e.dataOrigin,expression:"dataOrigin == 'static'"}],staticClass:"static-set-cont"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.sourceMode,expression:"!sourceMode"}]},[a("div",{staticClass:"list-container"},[a("div",{staticClass:"inner-content"},[a("div",{staticClass:"title"},[a("span",{staticClass:"col-title"},[e._v("选项名")]),e._v(" "),a("span",{staticClass:"key"},[e._v(e._s(["dropdown"].includes(e.optionkey)?"操作":"默认选中"))])]),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"option",animation:"300",handle:".el-icon-rank"},model:{value:e.staticData,callback:function(t){e.staticData=t},expression:"staticData"}},[a("transition-group",e._l(e.staticData,(function(t,n){return a("div",{key:t.value+"-"+n,staticClass:"content",style:{opacity:t.disabled?"0.5":"1"}},[a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.label))]),e._v(" "),["dropdown"].includes(e.optionkey)?e._e():a("span",{staticClass:"key"},[a("el-checkbox",{on:{change:function(t){return e.handelUseStateChange(t,n)}},model:{value:t.isDefault,callback:function(a){e.$set(t,"isDefault",a)},expression:"item.isDefault"}})],1),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditOption(n,t)}}},[e._v("编辑\n                  ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDeleteOption(n)}}},[e._v("删除\n                  ")])],1)])})),0)],1)],1)]),e._v(" "),a("el-button",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"option-btn",attrs:{type:"text"},on:{click:e.handleAddOption}},[a("i",{staticClass:"iconfont el-icon-circle-plus-outline"}),e._v("\n        添加选项\n      ")]),e._v(" "),a("el-button",{staticClass:"option-btn",attrs:{type:"text"},on:{click:function(t){e.sourceMode=!0}}},[a("i",{staticClass:"iconfont icon-jiaoben"}),e._v("\n        源码模式\n      ")])],1),e._v(" "),e.sourceMode?a("div",{staticClass:"source-editor"},[a("static-config",{attrs:{"show-cancel":"","static-data":e.staticData},on:{"update:staticData":function(t){e.staticData=t},"update:static-data":function(t){e.staticData=t},response:e.handleStaticResponse,cancel:e.cancel}})],1):e._e(),e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"300",trigger:"manual"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",staticClass:"popover-config-form",attrs:{model:e.variableForm,rules:e.rules,inline:"","label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[["dropdown"].includes(e.optionkey)?e._e():a("n-form-item",{attrs:{label:"默认选中"}},[a("el-switch",{model:{value:e.variableForm.isDefault,callback:function(t){e.$set(e.variableForm,"isDefault",t)},expression:"variableForm.isDefault"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"显示值",prop:"label"}},[a("el-input",{model:{value:e.variableForm.label,callback:function(t){e.$set(e.variableForm,"label",t)},expression:"variableForm.label"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{clearable:""},model:{value:e.variableForm.value,callback:function(t){e.$set(e.variableForm,"value",t)},expression:"variableForm.value"}})],1),e._v(" "),["hasIcon"].includes(e.optionkey)?a("n-form-item",{attrs:{prop:"icon"}},[a("template",{slot:"label"},[a("n-tooltip",{attrs:{value:"该选项需设置类型为“按钮组”后才会生效"}}),e._v("  图标\n            ")],1),e._v(" "),a("div",{staticClass:"icon_selector"},[a("div",{staticClass:"col"},[a("span"),e._v(" "),e.variableForm.icon?a("i",{staticClass:"show-icon",class:e.variableForm.icon}):e._e(),e._v(" "),a("n-popover",{attrs:{width:"400",placement:"bottom",trigger:"click","popper-class":"top-popper"}},[a("n-tabs",{attrs:{type:"card"},model:{value:e.iconType,callback:function(t){e.iconType=t},expression:"iconType"}},[a("n-tab-pane",{attrs:{label:"默认图标",name:"default"}},[a("div",{staticClass:"iconfont-list"},e._l(e.icons,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)]),e._v(" "),a("n-tab-pane",{attrs:{label:"图标库选择",name:"iconfont"}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"iconfont-list"},e._l(e.iconfonts,(function(t,n){return a("i",{key:n,class:t,on:{click:function(a){e.iconChange(t),e.handleShownPopover()}}})})),0)])],1),e._v(" "),a("el-button",{ref:"referenceBtn",staticStyle:{"margin-right":"10px"},attrs:{slot:"reference",circle:"",type:"primary",size:"mini",icon:"el-icon-edit"},slot:"reference"})],1),e._v(" "),e.variableForm.icon?a("el-button",{attrs:{circle:"",type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return t.stopPropagation(),e.iconChange("")}}}):e._e()],1)])],2):e._e(),e._v(" "),a("n-form-item",{attrs:{label:"是否禁用",prop:"disabled"}},[a("el-switch",{model:{value:e.variableForm.disabled,callback:function(t){e.$set(e.variableForm,"disabled",t)},expression:"variableForm.disabled"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消")])],1)],1)]),e._v(" "),a("select-reg-modal",{ref:"selectRegModal",on:{confirm:e.handleSelectRegConfirm}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"dynamic"==e.dataOrigin,expression:"dataOrigin == 'dynamic'"}],staticClass:"dynamic-btn"},[a("data-selector",e._b({attrs:{name:"",btnText:"数据集配置","use-type":"options"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1)])},i=[]},MRF1:function(e,t,a){var n=a("fBsw");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("7b599ada",n,!0,{})},MXap:function(e,t,a){"use strict";a.r(t);var n=a("mgjc"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},MXeK:function(e,t,a){},MYOU:function(e,t,a){"use strict";a.r(t);var n=a("ztse"),i=a("w6oK");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("mGtL");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"97721a9c",null);t.default=r.exports},MeFE:function(e,t,a){},MfHH:function(e,t,a){"use strict";a.r(t);var n=a("MKEZ"),i=a("G8XJ");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("BRdY");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"1ed162e4",null);t.default=r.exports},MjNP:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择变量",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1200px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content",class:{"is-func":["func"].includes(e.currentMenu)},on:{click:function(t){t.stopPropagation(),e.popoverVisible=!1}}},[a("div",{staticClass:"top"},[a("div",{staticClass:"aside"},e._l(e.menuList,(function(t){return a("div",{key:t.value,staticClass:"menu-item",class:{selected:t.value===e.currentMenu,disabled:e.rootNode&&!["widget"].includes(t.value)},on:{click:function(a){e.handleSelectMenu(t,e.rootNode&&!["widget"].includes(t.value))}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0),e._v(" "),a("div",{staticClass:"content"},[["callback"].includes(e.currentMenu)?[a("n-table",{attrs:{data:[{}],border:"","highlight-current-row":"","max-height":"widget"===e.currentMenu?330:360}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-radio")]}}],null,!1,601940624)}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"变量名",width:"337px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",[e._v("回调变量")])]}}],null,!1,4292338939)}),e._v(" "),a("n-table-column",{attrs:{prop:"label",label:"编码",width:"431px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.selectedVariable))])]}}],null,!1,2727454281)}),e._v(" "),a("n-table-column",{attrs:{prop:"widget",label:"所属组件",width:"158px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v("-")])]}}],null,!1,1030095078)})],1)]:e._e(),e._v(" "),["callback","func"].includes(e.currentMenu)?e._e():[a("n-form",{ref:"dataForm",staticClass:"data-form",attrs:{model:e.dataForm,"label-width":"80px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},["widget"===e.currentMenu?a("n-form-item",{attrs:{label:"选择组件"}},[e.dialogVisible?a("tree-select",{attrs:{tree:e.treeData,width:896,multiple:!1,"node-key":"elementId","default-selected-keys":e.defaultSelectedKeys},on:{change:function(t){return e.handleTreeSelectChange(!1,t)}}}):e._e()],1):e._e()],1),e._v(" "),a("n-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.variables,border:"","highlight-current-row":"","max-height":"widget"===e.currentMenu?330:360},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isSelectedRow(t.row.value)?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}],null,!1,2161148469)}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"变量名",width:"337px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isNotSupported?a("el-tag",{staticStyle:{"text-decoration":"line-through"},attrs:{type:"info"}},[e._v(e._s(t.row.desc))]):a("el-tag",[e._v(e._s(t.row.desc))])]}}],null,!1,4135612392)}),e._v(" "),a("n-table-column",{attrs:{prop:"label",label:"编码",width:"431px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"widget",label:"所属组件",width:"158px"}})],1)],e._v(" "),["func"].includes(e.currentMenu)?a("js-config",{ref:"jsConfig",attrs:{"pure-function":!0,"callback-id":e.callbackId,emitEvent:e.openData.emitEvent},model:{value:e.functionId,callback:function(t){e.functionId=t},expression:"functionId"}}):e._e()],2)]),e._v(" "),["func"].includes(e.currentMenu)?e._e():a("div",{staticClass:"bottom"},[a("div",{staticClass:"selected"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{margin:"5px 0"}},[e._v("当前选择的变量："),e.selectedDesc?a("el-tag",[e._v(e._s(e.selectedDesc))]):e._e()],1),e._v(" "),e.selectedVariable&&e.isShowDetail(e.selectedVariable)?a("div",{staticClass:"input"},[a("span",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticStyle:{"line-height":"28px",padding:"0 5px"}},[e._v(".")]),e._v(" "),a("el-input",{staticClass:"suffix-input",staticStyle:{width:"400px"},attrs:{size:"mini",clearable:"",placeholder:"选取属性"},on:{change:e.handleSuffixChange},model:{value:e.suffix,callback:function(t){e.suffix=t},expression:"suffix"}}),e._v(" "),a("el-popover",{ref:"popover",attrs:{placement:"top",title:"选择属性",trigger:"manual"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("n-cascader-panel",{attrs:{options:e.responseOptions,props:{checkStrictly:!0},"show-all-levels":!0,clearable:""},on:{change:e.handlePathChange},model:{value:e.suffixPath,callback:function(t){e.suffixPath=t},expression:"suffixPath"}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{disabled:!e.response||e.selectPathDisabled||!e.responseOptions,type:"primary"},on:{click:function(t){return t.stopPropagation(),e.handleShowSelect.apply(null,arguments)}}},[e._v("选择")])],1):e._e(),e._v(" "),e.selectedVariable?e._e():a("div",{staticClass:"input input-empty"},[e._v("未选择")])]),e._v(" "),a("div",{staticClass:"desc",staticStyle:{color:"red","margin-top":"5px"}},[e._v('\n          备注：如果需要进一步选取变量自身的属性，可通过“."获取，数组则通过“[x]”获取下标为x的属性。\n        ')])])])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},on:{click:function(t){t.stopPropagation(),e.popoverVisible=!1}},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},Mqf6:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("UBTA")),l=n(a("YLtl")),o=a("a+hW"),r={data:function(){return{dndCoverStyle:void 0}},methods:{handleInitDnD:function(){(0,i.default)(".drop-zone-path").unset(),(0,i.default)(".is-highlight").unset();var e=this;(0,i.default)(".is-highlight").draggable({manualStart:!0,inertia:!1,autoScroll:!1,listeners:{move:function(e){e.target.style.left="".concat(e.clientX-50,"px"),e.target.style.top="".concat(e.clientY-10,"px")},end:function(){var e=document.querySelectorAll(".dragging-item");Array.prototype.slice.call(e).forEach((function(e){return e.remove()}))}}}).on("down",l.default.throttle((function(t){e._mousedownTarget=t.currentTarget,e._holding=!0,clearTimeout(e._holdTimer),e._holdTimer=setTimeout((function(){e._holding=!1}),30)}),20,{leading:!0,trailing:!1})).on("up",(function(){e._mousedownTarget=null,clearTimeout(e._holdTimer)})).on("move",(function(t){if(e._mousedownTarget&&!e._holding){var a=t.interaction;if(a.pointerIsDown&&!a.interacting()){var n=document.createElement("div");n.classList.add("is-highlight"),n.classList.add("dragging-item"),n.style.left="".concat(t.clientX0-50,"px"),n.style.top="".concat(t.clientY0-10,"px");var i=l.default.last((0,o.getPathList)(e.selectedPath));n.textContent=i;var r=document.querySelector(".app-design-page");r&&r.appendChild(n);var s=t.interactable;a.start({name:"drag"},s,n)}}})),(0,i.default)(".drop-zone-path").dropzone({accept:".is-highlight",overlap:.25,ondropmove:l.default.debounce((function(t){var a=t.currentTarget.getBoundingClientRect(),n=a.left,i=a.top,l=a.width,o=a.height;e.dndCoverStyle={width:"".concat(l,"px"),height:"".concat(o,"px"),left:"".concat(n,"px"),top:"".concat(i,"px")}}),20,{leading:!1,trailing:!0}),ondrop:function(t){e.handleDrop(t)},ondropdeactivate:l.default.throttle((function(t){e.dndCoverStyle=void 0}),20,{leading:!1,trailing:!0})})}},beforeDestroy:function(){(0,i.default)(".drop-zone-path").unset(),(0,i.default)(".is-highlight").unset()}};t.default=r},MrFI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("i7/w")),l=n(a("Nco5")),o={name:"ConfigWrapper",props:{propKey:{type:String},name:{type:String},placeholder:{type:String,default:""},tip:{type:String},vue:{type:String},elementId:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},options:{type:Object},multiple:{type:Boolean,default:!0},types:{type:Array}},computed:{currentElement:function(){return i.default.component(this.vue,l.default[this.vue])}},methods:{updateElementProps:function(e){this.$emit("confirm",e[this.propKey])}}};t.default=o},MwcG:function(e,t,a){},Myly:function(e,t,a){"use strict";a.r(t);var n=a("W4PF"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},N0ix:function(e,t,a){"use strict";a("n0kL")},N6RX:function(e,t,a){"use strict";a.r(t);var n=a("lq9J"),i=a("ZV00");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("nKBx");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"758d3dc7",null);t.default=r.exports},ND2V:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("KQm4")),s=n(a("YLtl")),c=a("7C5+"),u=n(a("Xcjf")),d=a("8SHQ"),p=a("0O+R"),f=n(a("1q4c"));function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={child:void 0,rule:"hidden",conditionType:"function",condition:[],functionId:""},b={components:{JsConfig:u.default},inject:["dndOptions"].concat((0,r.default)(c.pageInject)),props:{elementId:{type:String},propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:{},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[]}},computed:{currentElement:function(){return(0,p.getNodeByElementId)(this.getStore().layoutData,this.elementProps.elementId)},children:function(){var e=this;return this.currentElement.children.map((function(t){return e.getElementPropsById(t.elementId)}))},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=m(m({},this.elementProps),{},(0,o.default)({},this.propKey,e));this.$emit("update",t)}},defaultArguments:function(){var e=(0,p.getParentNodeByElementId)(this.getStore().layoutData,this.elementId);return e&&f.default[e.elementType]||[]},functionId:{get:function(){return this.variableForm.functionId.split(d.FUNCTION_FLAG)[1]},set:function(e){this.variableForm.functionId="".concat(d.FUNCTION_FLAG).concat(e)}}},methods:{doDelete:function(){var e=this;this.value=this.value.filter((function(t){return!e.selectedList.includes(t.child)})),this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.child})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleEditColumn:function(e,t){this.popoverVisible=!0,this.variableForm=s.default.cloneDeep(m(m({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){this.value=this.value.filter((function(t){return t.child!==e}))},handleAddColumn:function(){this.popoverVisible=!0,this.variableForm=s.default.cloneDeep(h),this.variableForm.isAdd=!0,this.edtingIndex=void 0},handleConfirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,r;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.variableForm.child){t.next=3;break}return e.$message.error("请选择子组件！"),t.abrupt("return");case 3:if("function"!==e.variableForm.conditionType){t.next=6;break}return t.next=6,e.$refs.jsConfig.confirm();case 6:a=s.default.cloneDeep(e.value),delete(n=s.default.cloneDeep(e.variableForm)).isAdd,void 0===e.edtingIndex?(a.push(n),l=m(m({},e.elementProps),{},(0,o.default)({},e.propKey,a)),e.$emit("update",l)):(a[e.edtingIndex]=n,r=m(m({},e.elementProps),{},(0,o.default)({},e.propKey,a)),e.$emit("update",r)),e.popoverVisible=!1;case 11:case"end":return t.stop()}}),t)})))()},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},getNameById:function(e){return this.getElementPropsById(e).elementName}}};t.default=b},NEvU:function(e,t,a){"use strict";a("Yvo7")},NJH1:function(e,t,a){},NJWj:function(e,t,a){"use strict";a("j+4+")},NLaK:function(e,t,a){"use strict";a.r(t);var n=a("Nw3Q"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},NMcu:function(e,t,a){var n=a("9bYe");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("59cfa1c1",n,!0,{})},NQNq:function(e,t,a){"use strict";a.r(t);var n=a("nDpg"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},NVDT:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.options,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getType(t.value)},on:{click:function(a){e.value=t.value}}},[a("span",[e._v("\n            "+e._s(t.label)+"\n          ")])])})),1)],1)]),e._v(" "),"vertical"===e.value?a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v("漏斗对齐方式")]),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.roseOptions,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getFunnelAlignType(t.value)},on:{click:function(a){e.funnelAlign=t.value}}},[a("span",[e._v("\n            "+e._s(t.label)+"\n          ")])])})),1)],1)]):e._e()])},i=[]},NVaN:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:{value:e.value}}},[a("n-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.value}},[a("n-table-column",{attrs:{label:"暴露函数名",width:"auto"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"value."+t.$index+".customName",rules:[{required:!0,message:"函数名不能为空",trigger:"change",validator:e.validatePass}]}},[a("el-input",{attrs:{placeholder:"输入函数名称",clearable:""},model:{value:t.row.customName,callback:function(a){e.$set(t.row,"customName",a)},expression:"scope.row.customName"}})],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"源事件名",width:"auto"}}),e._v(" "),a("n-table-column",{attrs:{label:"操作",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("ul",[a("li",[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){return e.editFunctions(t.row.id)}}},[e._v("编辑")])],1),e._v(" "),a("li",[a("el-button",{staticStyle:{color:"red"},attrs:{size:"mini",type:"text"},on:{click:function(a){return e.deleteFunctions(t.$index)}}},[e._v("删除")])],1)])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"add-btn-primary",staticStyle:{"margin-top":"10px"},on:{click:e.addFunctions}},[e._v("\n    +\n  ")]),e._v(" "),a("event-select",{ref:"eventSelect",on:{confirm:e.handleEventSelectConfirm}})],1)},i=[]},Nco5:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("a+hW"),i=a("eT0g"),l={};i.keys().forEach((function(e){var t=i(e).default;if(t){var a=(0,n.toHump)(e.replace("./","").replace("/index.vue",""));l[a]=t}}));var o=l;t.default=o},"Nf/e":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v(e._s(e.name)+"\n    "),e.options.tips?a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.options.tips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.radioOptions,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getType(t.value)},on:{click:function(a){e.value=t.value}}},[a("span",[e._v("\n        "+e._s(t.label)+"\n      ")]),e._v(" "),t.tips?a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:t.tips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)})),1)],1)])},i=[]},Nhtn:function(e,t,a){"use strict";a("iREq")},Nw3Q:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{type:0,options:[{label:"时",value:"HH"},{label:"时:分",value:"HH:mm"},{label:"时:分:秒",value:"HH:mm:ss"},{label:"年",value:"yyyy"},{label:"年-月",value:"yyyy-MM"},{label:"年-月-日",value:"yyyy-MM-dd"},{label:"年-月-日 时:分",value:"yyyy-MM-dd HH:mm"},{label:"年-月-日 时:分:秒",value:"yyyy-MM-dd HH:mm:ss"},{label:"时间戳",value:"timestamp"}]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=r},Nyj9:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("vP0O")),o=n(a("DX4A"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{staticForm:l.default,dynamicForm:o.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String}},data:function(){return{loading:!1,formType:"static"}},computed:{dataInfo:function(){var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest,n=e.staticData;switch(!0){case!!t:return"API数据集";case!!a:return"SQL数据集";case!!n:return"静态数据集";default:return}}},methods:{handleShowConfig:function(e){var t=this,a="static"===e?"staticForm":"dynamicForm";this.loading=!0,setTimeout((function(){t.$refs[a].open({dataVariables:t.elementProps.dataVariables,apiRequest:t.elementProps.apiRequest,sqlRequest:t.elementProps.sqlRequest,staticData:t.elementProps.staticData}),setTimeout((function(){t.loading=!1}),100)}),100)},handleConfirm:function(e){this.$emit("update",s(s({},this.elementProps),e))},handleDelete:function(){var e,t={apiRequest:void 0,sqlRequest:void 0,staticData:void 0,dataVariables:null===(e=this.elementProps.dataVariables)||void 0===e?void 0:e.map((function(e){return s(s({},e),{},{path:[]})}))};this.$emit("update",s(s({},this.elementProps),t))}}};t.default=c},"O2/U":function(e,t,a){"use strict";a("K3xa")},O8ax:function(e,t,a){"use strict";a.r(t);var n=a("2PxM"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},OBbu:function(e,t,a){"use strict";a.r(t);var n=a("IC28"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},OFTo:function(e,t,a){"use strict";a("ZKN4")},OGn9:function(e,t,a){"use strict";a("MRF1")},OTUl:function(e,t,a){"use strict";a.r(t);var n=a("/kgZ"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},OaBa:function(e,t,a){"use strict";a.r(t);var n=a("drQw"),i=a("XaNM");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("50hC");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"abc36f8c",null);t.default=r.exports},"Oc/n":function(e,t,a){"use strict";a.r(t);var n=a("FEIL"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Oc6X:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("ODXe")),r=n(a("rePB")),s=n(a("KQm4")),c=n(a("zAL8")),u=n(a("E0s0"));a("uD/U");var d=n(a("t2rG")),p=n(a("YLtl")),f=a("YkOj"),v=a("0O+R"),m=a("8SHQ"),h=n(a("slWK")),b=a("CDKT"),g=n(a("oRZJ")),y=a("ZDQs"),_=a("hNau"),k=n(a("yQm5")),C=a("tgb1"),O=n(a("6D8J")),w=n(a("vbn+")),x=n(a("GuZC")),S=a("7C5+"),D=n(a("3k2e")),P=n(a("W5FL")),j=a("uzoN"),T=a("7Qib");function I(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){r=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw l}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={inject:(0,s.default)(S.pageInject),name:"HandlerDialog",components:{TreeSelect:c.default,VueJsonPretty:u.default,draggable:d.default,TabsParams:O.default,CollapseParams:w.default,StepsParams:x.default,StyleConfigParams:D.default,AnimationConfigParams:P.default},mixins:[g.default],data:function(){return{EXECUTE_CUSTOM_FN:b.EXECUTE_CUSTOM_FN,COMMON_FN_ASSIGN:f.COMMON_FN_ASSIGN,ADD_TAB:b.ADD_TAB,CHANGE_TAB:b.CHANGE_TAB,CHANGE_COLLAPSE:b.CHANGE_COLLAPSE,TOGGLE_COLLAPSE:b.TOGGLE_COLLAPSE,CHANGE_STEP:b.CHANGE_STEP,CHANGE_BADGE:b.CHANGE_BADGE,CHANGE_STYLES:b.CHANGE_STYLES,PLAY_ANIMATION:b.PLAY_ANIMATION,loading:!1,dialogVisible:!1,isEnableCondition:!1,activeCollapses:["success"],ruleOptions:[{label:"等于",value:"=",desc:"全等比较，对象不判引用地址"},{label:"为假",value:"falsely",desc:"转为布尔值进行比较"},{label:"为真",value:"truly",desc:"转为布尔值进行比较"},{label:"大于",value:">",desc:"转为数值进行比较"},{label:"小于",value:"<",desc:"转为数值进行比较"},{label:"大于等于",value:">=",desc:"转为数值进行比较"},{label:"小于等于",value:"<=",desc:"转为数值进行比较"},{label:"不等于",value:"!=",desc:"全等比较，对象不判引用地址"},{label:"包含",value:"in",desc:"左边可为数组或字符串"},{label:"不包含",value:"out",desc:"左边可为数组或字符串"},{label:"正则匹配",value:"RegExp",desc:"左侧为字符串,右侧为正则(不含//),区分大小写"}],actionOptions:[{label:"基础动作",options:[{value:"control",label:"组件操作"}]},{label:"链接动作",options:[{value:"link",label:"跳转页面"},{value:"open",label:"打开窗体"},{value:"close",label:"关闭窗体"}]},{label:"调用动作",options:[{value:"api",label:"调用API"},{value:"sql",label:"调用SQL"},{value:"js",label:"调用JS脚本"},{value:"devops",label:"调用自动化运维操作"},{value:"commonAction",label:"调用公共事件处理行为"},{value:"pageEmit",label:"触发页面事件"}]},{label:"刷新动作",options:[{value:"refresh",label:"刷新当前页"},{value:"reset",label:"刷新组件"}]}],dataForm:{id:void 0,callbackId:void 0,functionId:void 0,eventName:"",name:"",condition:[],binds:{},action:"",linkOptions:{pageId:void 0,type:"self",pageVariables:[],jumpType:"page",linkUrl:"",linkParams:[]},controlOptions:{elementId:void 0},apiRequest:void 0,sqlRequest:void 0,callback:[],loadingConfig:{enable:!0,text:"",showMask:!1,background:""},responseConfig:{isBlob:!1,isUseHeaderFileName:!0,fileName:void 0},pageEmit:{emitKey:"",params:[]},commonActionId:""},variableRowDetail:null,linkLoading:!1,response:void 0,selectedPath:void 0,activeCollapse:["config"],dataSet:void 0,defaultArguments:[{key:"setValue",value:void 0,test:function(e,t){},name:"内置方法.变量赋值",desc:"setValue(path, newValue)<br/>{String} path 路径<br/>{any} newValue 值<br/>返回值：无",definedTest:!0}]}},computed:{pageData:function(){var e=this,t=this.$store.state.CODE.lowCodeStore.pageData,a=v.treeUtil.toList(t).filter((function(t){return"page"===t.elementType&&t.elementId!==e.layoutData.elementId}));return p.default.uniqBy(a,"pageDesignId")},dynamicProps:function(){return this.getStore().dynamicProps},layoutData:{get:function(){return this.getStore().layoutData}},treeData:function(){var e,t=this,a=p.default.cloneDeep(this.layoutData);v.treeUtil.forEach([a],(function(e){var a=[];e.children.forEach((function(e){if(!["slot"].includes(e.elementType)||!["data"].includes(t.getElementPropsById(e.elementId).slotType)){if(["dialog-container","timer-container"].includes(e.elementType)){if(!e.children.length)return;e.disabled=!0}a.push(e)}})),e.children=a,e.elementName=t.getElementPropsById(e.elementId).elementName||e.elementName}));var n=(null===(e=a.children.find((function(e){return"dialog-container"===e.elementType})))||void 0===e?void 0:e.children)||[];switch(this.dataForm.action){case"open":return n.map((function(e){return A(A({},e),{},{children:[]})}));case"close":return n.map((function(e){return A(A({},e),{},{children:[]})})).filter((function(e){var a=e.elementType,n=e.elementVersion;return C.getConfigByKey.call(t,{elementType:a,elementVersion:n}).fns.find((function(e){return e.fn===b.CLOSE}))}));default:return[a]}},successCallback:function(){return this.dataForm.callback.filter((function(e){return"success"===e.type}))},errorCallback:function(){return this.dataForm.callback.filter((function(e){return"error"===e.type}))},linkUrl:{get:function(){return this.dataForm.linkOptions.linkUrl},set:function(e){var t=this,a=new k.default(e),n=a.pathname(),i=[];try{i=(0,_.parse)(n).filter((function(e){return p.default.isObject(e)})).map((function(e){return e.name}))}catch(t){return void(this.dataForm.linkOptions.linkUrl=e)}var l=i.map((function(e){var a=t.dataForm.linkOptions.linkParams.find((function(t){return t.name===e}));return{name:e,value:null==a?void 0:a.value}})),r=a.search(!0),c=[];Object.entries(r).forEach((function(e){var a=(0,o.default)(e,2),n=a[0],i=a[1];t.dataForm.linkOptions.linkParams.find((function(e){return e.name===n}));c.push({name:n,value:i})})),c.unshift.apply(c,(0,s.default)(l)),this.dataForm.linkOptions.linkParams=c.length?p.default.uniqBy(c,"name"):[{name:"",value:void 0}],this.dataForm.linkOptions.linkUrl=e}},commonActionsOptions:function(){var e=this.getStore().eventsData[this.layoutData.elementId];return(e&&e[b.PAGE_COMMON_EVENTS]||[]).map((function(e){return{value:e.id,label:e.name}}))},pageEmitOptions:function(){var e=this.getStore().layoutData,t=e.elementType,a=e.elementVersion,n=e.elementId;return C.getConfigByKey.call(this,{elementType:t,elementVersion:a,elementId:n}).events},pageEmitParams:function(){var e,t=this;return null===(e=this.pageEmitOptions.find((function(e){return e.emitKey===t.dataForm.pageEmit.emitKey})))||void 0===e?void 0:e.params}},methods:{clear:function(){this.loading=!1,this.isEnableCondition=!1,this.variableRowDetail=null,this.linkLoading=!1,this.response=void 0,this.selectedPath=void 0,this.dialogVisible=!1},open:function(e){this.dataForm={id:void 0,callbackId:void 0,functionId:void 0,eventName:"",name:"",condition:[],binds:{},action:void 0,linkOptions:{pageId:void 0,type:"self",pageVariables:[],jumpType:"page",linkUrl:"",linkParams:[]},controlOptions:{elementId:void 0},apiRequest:void 0,sqlRequest:void 0,callback:[],loadingConfig:{enable:!0,text:"",showMask:!1,background:""},responseConfig:{isBlob:!1,isUseHeaderFileName:!0,fileName:void 0},pageEmit:{emitKey:"",params:[]},commonActionId:e.commonActionId};var t=p.default.cloneDeep(e);Object.assign(this.dataForm,t),this.isEnableCondition=!!this.dataForm.condition.length,this.dataForm.condition.length||(this.dataForm.condition=[{child:[{variable:void 0,rule:"=",value:void 0,unit:"&&"}],unit:"||"},{child:[{variable:void 0,rule:"=",value:void 0,unit:"&&"}],unit:"||"}]),"link"===this.dataForm.action&&"page"===this.dataForm.linkOptions.jumpType&&this.handleLinkPageChange(this.dataForm.linkOptions.pageId),this.dialogVisible=!0},cancel:function(){this.clear()},handleGenerateData:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,o,s,c,u,d,v,h,g,y,_,k,C;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(a=p.default.cloneDeep(e.dataForm)).condition=e.isEnableCondition?a.condition:[],t.t0=e.dataForm.action,t.next="link"===t.t0?5:"open"===t.t0||"close"===t.t0||"reset"===t.t0||"refresh"===t.t0?14:"api"===t.t0||"devops"===t.t0?28:"sql"===t.t0?30:"js"===t.t0?32:"pageEmit"===t.t0?37:"commonAction"===t.t0?43:"control"===t.t0?49:75;break;case 5:if(l=e.dataForm.linkOptions,o=l.jumpType,s=l.pageId,c=l.linkUrl,"page"!==o||s){t.next=9;break}return e.$message.error("请选择页面"),t.abrupt("return",Promise.reject());case 9:if("link"!==o||c.trim()){t.next=12;break}return e.$message.error("请输入跳转链接"),t.abrupt("return",Promise.reject());case 12:return a.binds=(0,r.default)({},s||c,{variable:{},fns:[{name:f.COMMON_FN_LINK,params:e.dataForm.linkOptions}]}),t.abrupt("break",75);case 14:if(e.dataForm.controlOptions.elementId){t.next=17;break}return e.$message.error("请选择组件"),t.abrupt("return",Promise.reject());case 17:t.t1=e.dataForm.action,t.next="open"===t.t1?20:"close"===t.t1?22:"reset"===t.t1||"refresh"===t.t1?24:26;break;case 20:return n=b.OPEN,t.abrupt("break",26);case 22:return n=b.CLOSE,t.abrupt("break",26);case 24:return n=b.RESET,t.abrupt("break",26);case 26:return a.binds=(0,r.default)({},e.dataForm.controlOptions.elementId,{variable:{},fns:[{name:n,params:void 0}]}),t.abrupt("break",75);case 28:return a.binds=(0,r.default)({},e.layoutData.elementId,{variable:{},fns:[{name:b.HTTP_REQUEST,params:{apiRequest:e.dataForm.apiRequest,callback:e.dataForm.callback,loadingConfig:e.dataForm.loadingConfig,responseConfig:"api"===e.dataForm.action?e.dataForm.responseConfig:void 0}}]}),t.abrupt("break",75);case 30:return a.binds=(0,r.default)({},e.layoutData.elementId,{variable:{},fns:[{name:b.HTTP_REQUEST,params:{sqlRequest:e.dataForm.sqlRequest,callback:e.dataForm.callback,loadingConfig:e.dataForm.loadingConfig}}]}),t.abrupt("break",75);case 32:return t.next=34,e.$refs.jsConfig.confirm();case 34:return a.binds=(0,r.default)({},e.layoutData.elementId,{variable:{},fns:[{name:f.COMMON_FN_JS,params:{functionId:e.dataForm.functionId,variableId:"".concat(m.FUNCTION_FLAG).concat(e.dataForm.functionId)}}]}),a.functionId=e.dataForm.functionId,t.abrupt("break",75);case 37:if(u=e.dataForm.pageEmit,d=u.emitKey,u.params,d){t.next=41;break}return e.$message.error("请选择事件"),t.abrupt("return",Promise.reject());case 41:return a.binds=(0,r.default)({},e.getStore().layoutData.elementId,{variable:{},fns:[{name:f.COMMON_FN_PAGE_EMIT,params:e.dataForm.pageEmit}]}),t.abrupt("break",75);case 43:if(v=e.dataForm.commonActionId){t.next=47;break}return e.$message.error("请选择事件处理程序"),t.abrupt("return",Promise.reject());case 47:return a.binds=(0,r.default)({},e.getStore().layoutData.elementId,{variable:{},fns:[{name:f.COMMON_FN_COMMON_ACTION,params:{id:v}}]}),t.abrupt("break",75);case 49:t.t2=i.default.keys(e.dataForm.binds);case 50:if((t.t3=t.t2()).done){t.next=74;break}if(h=t.t3.value,!(g=e.dataForm.binds[h].fns)||!g.length){t.next=72;break}y=I(g),t.prev=55,y.s();case 57:if((_=y.n()).done){t.next=64;break}if((C=_.value).name!==b.EXECUTE_CUSTOM_FN||null===(k=C.execute_fns)||void 0===k||!k.some((function(e){return!e.id}))){t.next=62;break}return e.$message.error("请选择函数"),t.abrupt("return",Promise.reject());case 62:t.next=57;break;case 64:t.next=69;break;case 66:t.prev=66,t.t4=t.catch(55),y.e(t.t4);case 69:return t.prev=69,y.f(),t.finish(69);case 72:t.next=50;break;case 74:return t.abrupt("break",75);case 75:return e.$delete(a.binds,"newBind"),Object.values(a.binds).forEach((function(t){e.$delete(t.variable,"newVariable")})),t.abrupt("return",Promise.resolve(a));case 78:case"end":return t.stop()}}),t,null,[[55,66,69,72]])})))()},confirm:function(){var e=this;this.dataForm.name?this.dataForm.action?(this.loading=!0,setTimeout((0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.handleGenerateData();case 3:a=t.sent,e.loading=!1,e.$emit("confirm",a),e.clear(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.loading=!1;case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),500)):this.$message.error("请选择动作"):this.$message.error("请输入处理标题")},handleClose:function(e){this.clear(),e()},handleActionChange:function(e){switch(this.dataForm.binds={},this.dataForm.apiRequest=void 0,this.dataForm.sqlRequest=void 0,this.dataForm.callback=[],e){case"refresh":this.dataForm.controlOptions.elementId=this.layoutData.elementId;break;case"control":Object.keys(this.dataForm.binds).length||this.handleAddBind()}},handleLinkPageChange:function(e){var t=this.pageData.find((function(t){return t.elementId===e})).pageDesignId;this.getPageVariables(t)},initPageEmitParams:function(e){var t,a=null===(t=this.pageEmitOptions.find((function(t){return t.emitKey===e})))||void 0===t?void 0:t.params.map((function(e){return A(A({},e),{},{value:void 0})}));this.dataForm.pageEmit.params=p.default.cloneDeep(a)},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.dataForm.callbackId,emitEvent:this.dataForm.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleAddConditionChild:function(e,t){t.push({variable:void 0,rule:"=",value:void 0,unit:"||"})},handleDeleteConditionChild:function(e,t){t.splice(e,1),t.length||(this.dataForm.condition=this.dataForm.condition.filter((function(e){return e.child.length})))},handleAddCondition:function(){this.dataForm.condition.push({child:[{variable:void 0,rule:"=",value:void 0,unit:"&&"}],unit:"||"})},handleDeleteCondition:function(e){this.dataForm.condition.splice(e,1)},getVariables:function(e){var t=Object.entries(e.variable).map((function(e){var t=(0,o.default)(e,2),a=t[0];return{variable:"newVariable"===a?void 0:a,value:t[1],selected:"newVariable"===a?void 0:a}}));return t.length||(t=[{variable:void 0,value:void 0,selected:void 0}]),t},getVariablesByElementId:function(e){if("app"===e){var t=(0,T.getAppVariables)()||{};return Object.entries(t).map((function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];return{label:"$appVariables.".concat(a,".value"),value:"$appVariables.".concat(a,".value"),desc:n.desc}}))}var a=(0,v.getNodeByElementId)(this.layoutData,e)||{},n=a.elementType,i=a.elementVersion,l=C.getVariableByVersion.call(this,{elementType:n,elementVersion:i,elementId:e}),r=this.getElementPropsById(e).cssMode;if(e===this.layoutData.elementId){var c=Object.keys(l||{}).filter((function(e){return![1,2].includes(l[e].auth)&&!["$dynamicVariables","$appVariables"].includes(e)})).map((function(e){return{label:e,value:e,desc:l[e].desc,isNotSupported:j.notSupportedKeys.includes(e)}})).filter((function(e){return"config"===r&&"$stylesText"!==e.value||"config"!==r&&"$styles"!==e.value})),u=this.getElementPropsById(this.layoutData.elementId).dynamicVariables||{},d=Object.entries(u).map((function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];return{label:"$dynamicVariables.".concat(a,".value"),value:"$dynamicVariables.".concat(a,".value"),desc:n.desc}}));return[].concat((0,s.default)(d),(0,s.default)(c))}return Object.keys(l||{}).filter((function(e){return![1,2].includes(l[e].auth)})).map((function(e){return{label:e,value:e,desc:l[e].desc,isNotSupported:j.notSupportedKeys.includes(e)}})).filter((function(e){return"config"===r&&"$stylesText"!==e.value||"config"!==r&&"$styles"!==e.value}))},getFnsByElementId:function(e){var t;if(["app",this.layoutData.elementId].includes(e))return[{label:"变量赋值",value:f.COMMON_FN_ASSIGN}];var a=(0,v.getNodeByElementId)(this.layoutData,e);if(!a)return[];var n=C.getConfigByKey.call(this,{elementType:a.elementType,elementVersion:a.elementVersion});if(!n)return[];var i=(null===(t=n.fns)||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.fn}})))||[],l=f.COMMON_FNS.map((function(e){return{label:e.name,value:e.fn}}));return["timer"].includes(a.elementType)?i:y.dialogTypes.includes(a.elementType)?[].concat((0,s.default)(i),[{label:"变量赋值",value:f.COMMON_FN_ASSIGN}]):p.default.uniqBy(i.concat(l),"value")},getCustomFnsByElementId:function(e){var t,a;return(null===(t=this.getStore().dynamicProps[e])||void 0===t||null===(a=t.fnsData)||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.fn}})))||[]},customFnsChange:function(e,t){var a;return e.name=null===(a=this.getCustomFnsByElementId(t).find((function(t){return t.value===e.id})))||void 0===a?void 0:a.label},isShowAddFnsBtn:function(e,t){var a=this.getFnsByElementId(e);return t.length!==a.length},handleDeleteFns:function(e,t){e.splice(t,1)},handleAddFns:function(e){e.push({name:"",params:void 0})},handleAddBind:function(){this.$set(this.dataForm,"binds",A(A({},this.dataForm.binds),{},{newBind:{variable:{},fns:[{name:"",params:void 0,execute_fns:[{id:"",name:""}]}]}}))},handleDeleteBind:function(e){this.$delete(this.dataForm.binds,e)},handleBindChange:function(e,t){var a,n=(null===(a=e[0])||void 0===a?void 0:a.elementId)||"newBind";n!==t&&(Object.keys(this.dataForm.binds).includes(n)?this.$confirm("组件重复，请重新选择！"):(this.$set(this.dataForm,"binds",A(A({},this.dataForm.binds),{},(0,r.default)({},n,{variable:{},fns:[{name:"",params:void 0,execute_fns:[{id:"",name:""}]}]}))),this.$delete(this.dataForm.binds,t)))},handleAddVariable:function(e){this.$set(e,"newVariable",void 0)},handleDeleteVariable:function(e,t){this.$delete(e,t)},handleUpdateVariable:function(e,t,a){t||this.$set(a.variable,e,void 0);var n=Object.fromEntries(Object.entries(a.variable).map((function(a){var n=(0,o.default)(a,2),i=n[0],l=n[1];return i===t?[e,void 0]:[i,l]})));this.$set(a,"variable",n),this.$delete(a.variable,"newVariable")},handleUpdateVariableValue:function(e,t){var a=this;return function(n){a.$set(e,t,n)}},getConfig:function(e,t){if(!e||!t)return{};var a,n=e.split(".")[1];if(this.layoutData.elementId===t&&n)return{desc:null===(a=this.getElementPropsById(this.layoutData.elementId).dynamicVariables[n])||void 0===a?void 0:a.desc,type:"String"};var i=(0,v.getNodeByElementId)(this.layoutData,t)||{},l=i.elementType,o=i.elementVersion;return"app"===t?{}:C.getVariableByVersion.call(this,{elementType:l,elementVersion:o,elementId:t})[e]||{}},getPageVariables:function(e){var t=this;e?(this.linkLoading=!0,this.$http({url:h.default.appPageDesignPageConfig,data:{pageDesignId:Number(e),type:4}}).then((function(e){var a,n=null===(a=e.data.find((function(e){return 4===e.type})))||void 0===a?void 0:a.config;t.dataForm.linkOptions.pageVariables=n?Object.entries(JSON.parse(n)).map((function(e){var a=(0,o.default)(e,2),n=a[0],i=a[1];return t.dataForm.linkOptions.pageVariables.find((function(e){return e.name===n}))||A({name:n},i)})).filter((function(e){return e.isEntry})):[]})).finally((function(){t.linkLoading=!1}))):this.dataForm.linkOptions.pageVariables=[]},handleControlChange:function(e){var t;this.dataForm.controlOptions.elementId=null===(t=e[0])||void 0===t?void 0:t.elementId},handleResponse:function(e){var t=e.response;this.response=t},handleEditHandler:function(e){var t=this;this.response?this.$http({url:h.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.layoutData.elementId,".$response.").concat(e.id),value:JSON.stringify(this.response)||""}]}}).then((function(){t.$refs.handlerDialog.open(e)})):this.$refs.handlerDialog.open(e)},handleDeleteHandler:function(e){this.dataForm.callback=this.dataForm.callback.filter((function(t){return t.id!==e}))},handleAddHandler:function(e){var t=this,a=(0,v.getRandomHexadecimal)(12),n={type:e,id:a,callbackId:a,name:"",condition:[],disabled:!1,emitEvent:this.dataForm.emitEvent};this.$http({url:h.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.layoutData.elementId,".$response.").concat(n.id),value:JSON.stringify(this.response)||""}]}}).then((function(){t.$refs.handlerDialog.open(n)}))},handleUpdateEventData:function(e){var t=this.dataForm.callback.findIndex((function(t){return t.id===e.id}));-1!==t?this.$set(this.dataForm.callback,t,e):this.dataForm.callback.push(e)},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response",from:"response"})},handleClearResponse:function(){this.response=null},handleInputResponse:function(e,t){"response"===t&&(this.response=e)},handleShowDataConfigSelect:function(){var e;switch(this.dataForm.action){case"api":case"devops":e=this.dataForm.apiRequest.type;break;case"sql":e=1===this.dataForm.sqlRequest.sqlType?2:3;break;case"static":e=1}this.$refs.dataConfigSelect.open({type:e})},handleShowDataConfigSave:function(){var e,t;switch(!0){case void 0!==this.dataForm.apiRequest:e={apiRequest:this.dataForm.apiRequest},t=this.dataForm.apiRequest.type;break;case void 0!==this.dataForm.sqlRequest:e={sqlRequest:this.dataForm.sqlRequest},t=1===this.dataForm.sqlRequest.sqlType?2:3;break;case void 0!==this.dataForm.staticData:e={staticData:this.dataForm.staticData},t=1}this.$refs.dataConfigSave.open({config:JSON.stringify(e),type:t})},handleDataConfigConfirm:function(e){this.dataSet=p.default.cloneDeep(e);var t=JSON.parse(e.config),a=t.apiRequest,n=t.sqlRequest,i=t.staticData;this.dataForm.apiRequest=a,this.dataForm.sqlRequest=n,this.dataForm.staticData=i},handleShowEventSelect:function(){this.$refs.eventSelect.open()},handleEventSelectConfirm:function(e){var t=this.dataForm,a=t.type,n=t.callbackId,i=t.eventName,l=t.id;this.open(A(A({},e),{},{id:l,eventName:i,type:a,callbackId:n,disabled:!1}))},handleJumpTypeChange:function(e){"link"!==e||this.dataForm.linkOptions.linkParams.length||(this.dataForm.linkOptions.linkParams=[{name:"",value:void 0}]),this.dataForm.linkOptions.type="self"},handleAddParams:function(e){this.dataForm.linkOptions.linkParams.push({name:"",value:void 0})},handleDeleteParams:function(e){var t=this.dataForm.linkOptions.linkParams;if(1===t.length)return t[0].name="",t[0].value=void 0,void this.handleParamsChange();t.splice(e,1),this.handleParamsChange()},paramsInputDisabled:function(e){var t=new k.default("".concat(this.dataForm.linkOptions.linkUrl)).pathname(),a=[];try{a=(0,_.parse)(t).filter((function(e){return p.default.isObject(e)})).map((function(e){return e.name}))}catch(e){return!1}return a.includes(e)},handleParamsChange:function(){var e=new k.default("".concat(this.dataForm.linkOptions.linkUrl)),t=e.pathname(),a=[];try{a=(0,_.parse)(t).filter((function(e){return p.default.isObject(e)})).map((function(e){return e.name}))}catch(e){console.log(e),a=[]}var n=this.dataForm.linkOptions.linkParams.filter((function(e){return e.name&&!a.includes(e.name)}));n.length?this.dataForm.linkOptions.linkUrl=e.origin()+e.pathname()+"?"+n.map((function(e){return"".concat(e.name,"=").concat(e.value)})).join("&"):this.dataForm.linkOptions.linkUrl=e.origin()+e.pathname()},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=q},OdLh:function(e,t,a){var n=a("n5Qn");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("53154bc4",n,!0,{})},Ofum:function(e,t,a){"use strict";a.r(t);var n=a("NVaN"),i=a("YSWw");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"e9e537b0",null);t.default=r.exports},Oh0I:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{DefaultTimePicker:n(a("PHft")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},data:function(){var e=this;return{startPickerOptions:{disabledDate:function(t){var a=e.value.end,n=a.type,i=a.value,l=0===n?new Date:i;return l&&t.getTime()>l}},endPickerOptions:{disabledDate:function(t){var a=e.value.start,n=a.type,i=a.value,l=0===n?new Date:i;return l&&t.getTime()<l}}}}};t.default=r},"Ol/V":function(e,t,a){"use strict";a.r(t);var n=a("mZ5j"),i=a("UqNq");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("snCe");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"dfd45a0e",null);t.default=r.exports},OqMt:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={widgetState:[{label:"普通",value:"normal"},{label:"禁用",value:"disabled"}],sizeSelect:[{label:"小",value:"mini"},{label:"中",value:"small"},{label:"大",value:"medium"}],effectSelect:[{label:"暗色",value:"dark"},{label:"亮色",value:"light"},{label:"镂空",value:"plain"}],inputState:[{label:"普通",value:"normal"},{label:"禁用",value:"disabled"},{label:"只读",value:"readonly"}],inputType:[{label:"文本",value:"text"},{label:"密码",value:"password"}],sortModeSelect:[{label:"横向排序",value:"horizontal"},{label:"竖向排序",value:"vertical"}],inputNumberBtnPosition:[{label:"默认两侧",value:"default"},{label:"右侧",value:"right"}],dateTimePickerAlign:[{label:"左",value:"left"},{label:"中",value:"center"},{label:"右",value:"right"}],hrefTarget:[{label:"新窗口",value:"_blank"},{label:"当前页",value:"_self"}],labelPosition:[{label:"左",value:"left"},{label:"上",value:"top"},{label:"右",value:"right"}],tabPositionSelect:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}],tabTypeSelect:[{label:"普通",value:""},{label:"选项卡",value:"card"},{label:"卡片",value:"border-card"}],lineChartType:[{label:"标准",value:"default"},{label:"平滑",value:"smooth"},{label:"阶梯",value:"step"}],barChartType:[{label:"柱状",value:"vertical"},{label:"条形",value:"horizontal"}],gaugeChartType:[{label:"标准仪表",value:"default"},{label:"速度仪表",value:"speed"}],scatterChartType:[{label:"标准散点图",value:"default"},{label:"气泡图",value:"bubble"}],titleAlign:[{label:"左",value:"left"},{label:"中",value:"center"},{label:"右",value:"right"}],legendPosition:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}],echartMode:[{label:"标准",value:"light"},{label:"简洁",value:"clean",tips:"该模式下只保留基础样式,其余配置均不生效"},{label:"夜间",value:"dark"}],echartModeNoClean:[{label:"标准",value:"light"},{label:"夜间",value:"dark"}],whiteSpace:[{label:"水平",value:"nowrap"},{label:"垂直",value:"normal"}],selectType:[{label:"无",value:"none"},{label:"单选",value:"single"},{label:"多选",value:"multiple"}],flexDirection:[{label:"水平",value:"row"},{label:"垂直",value:"column"}],alignItems:[{label:"前",value:"flex-start"},{label:"中",value:"center"},{label:"后",value:"flex-end"},{label:"占满",value:"stretch"}],justifyContent:[{label:"前",value:"flex-start"},{label:"中",value:"center"},{label:"后",value:"flex-end"},{label:"两侧",value:"space-between"},{label:"平均",value:"space-around"}],messageType:[{label:"消息",value:"info"},{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"错误",value:"error"}],radarType:[{label:"棱角型",value:"polygon"},{label:"圆环型",value:"circle"}],timerMode:[{label:"循环",value:"loop"},{label:"一次",value:"once"}],drawerDirection:[{label:"左",value:"ltr"},{label:"上",value:"ttb"},{label:"下",value:"btt"},{label:"右",value:"rtl"}],trigger:[{label:"鼠标放置",value:"hover"},{label:"鼠标点击",value:"click"}],iconPosition:[{label:"左",value:"left"},{label:"右",value:"right"}],radioType:[{label:"选项",value:!1},{label:"按钮组",value:!0}],sortType:[{label:"前端排序",value:!1},{label:"后端排序",value:!0}],sortTriggerType:[{label:"点击表头",value:"cell"},{label:"点击图标",value:"default"}],progressType:[{label:"条形",value:"line"},{label:"环形",value:"circle"},{label:"仪表盘",value:"dashboard"}],progressStatus:[{label:"默认",value:"normal"},{label:"成功",value:"success"},{label:"失败",value:"exception"}],progressStrokeLinecap:[{label:"圆角",value:"round"},{label:"矩形",value:"square"}],collapseTypeSelect:[{label:"普通",value:!1},{label:"手风琴",value:!0}],collapseIconPosition:[{label:"左",value:"left"},{label:"右",value:"right"}],stepsTypes:[{label:"线条",value:"default"},{label:"导航",value:"navigation"}],stepsDirection:[{label:"水平",value:"horizontal"},{label:"垂直",value:"vertical"}],stepsSize:[{label:"普通",value:"default"},{label:"小型",value:"small"}],stepsStatus:[{label:"等待",value:"wait"},{label:"过渡",value:"process"},{label:"错误",value:"error"},{label:"完成",value:"finish"}]}},"P+Ri":function(e,t,a){},"P+oX":function(e,t,a){},P0rb:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"data-select-dialog",attrs:{title:"选择动作",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1200px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-content"},[a("div",{staticClass:"header"},[a("div",{staticClass:"label"},[e._v("选择已存动作事件")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleShowEventSelect}},[e._v("选择")])],1),e._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"aside"},e._l(e.menuList,(function(t){return a("div",{key:t.value,staticClass:"menu-item",class:{selected:t.value===e.dataForm.action},on:{click:function(a){return e.handleSelectMenu(t)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0),e._v(" "),a("div",{staticClass:"action-panel"},["control"===e.dataForm.action?[e._l(e.dataForm.binds,(function(t,n){return a("div",{key:n,staticClass:"action-panel-inner"},[a("div",{staticClass:"action-delete-btn",on:{click:function(t){return e.handleDeleteBind(n)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("-")])]),e._v(" "),a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"选择组件"}},[a("tree-select",{attrs:{tree:e.treeData,width:830,multiple:!1,"node-key":"elementId","default-selected-keys":[n],"show-app-node":!0},on:{change:function(t){return e.handleBindChange(t,n)}}})],1),e._v(" "),e._l(t.fns,(function(i,l){return a("div",{key:i.name,staticClass:"fn"},[a("n-form-item",{attrs:{label:"选择操作"}},[a("div",{staticClass:"form-select"},[a("el-select",{model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"fn.name"}},e._l(e.getFnsByElementId(n),(function(e){return a("el-option",{key:e.value,attrs:{disabled:t.fns.map((function(e){return e.name})).includes(e.value),label:e.label,value:e.value}})})),1),e._v(" "),e.isShowAddFnsBtn(n,t.fns)?a("div",{staticClass:"btn-wrapper",on:{click:function(a){return e.handleAddFns(t.fns)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")])]):e._e(),e._v(" "),t.fns.length>1?a("div",{staticClass:"btn-wrapper",on:{click:function(a){return e.handleDeleteFns(t.fns,l)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("-")])]):e._e()],1)]),e._v(" "),i.name===e.COMMON_FN_ASSIGN?a("n-table",{attrs:{data:e.getVariables(t),border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"variable",label:"组件变量","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(i){return a("div",{staticClass:"variable-column"},[a("el-select",{on:{change:function(a){return e.handleUpdateVariable(a,i.row.variable,t)}},model:{value:i.row.selected,callback:function(t){e.$set(i.row,"selected",t)},expression:"scope.row.selected"}},e._l(e.getVariablesByElementId(n),(function(n){return a("el-option",{key:n.value,attrs:{disabled:Object.keys(t.variable).includes(n.value),label:n.label,value:n.value}},[n.isNotSupported?a("span",{staticStyle:{"font-size":"14px","text-decoration":"line-through"}},[e._v(e._s(n.label))]):a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(n.label))]),e._v(" "),a("span",{staticStyle:{color:"#8492a6","font-size":"12px","margin-left":"10px"}},[e._v(e._s(n.desc))])])})),1)],1)}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"描述","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                      "+e._s(e.getConfig(t.row.variable,n).desc)+"\n                    ")]}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"值","min-width":"250px"},scopedSlots:e._u([{key:"default",fn:function(i){return i.row.selected?a("div",{staticClass:"value-input"},[void 0!==t.variable[i.row.variable]?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.variable[i.row.variable]),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.variable[i.row.variable])},on:{click:function(a){e.handleTagClick(t.variable,i.row.variable,e.getAttrOptions(n,e.getConfig(i.row.variable,n)))},close:function(e){t.variable[i.row.variable]=void 0}}},[e._v("\n                          "+e._s(e.formatTag(e.getElementName(t.variable[i.row.variable]),12))+"\n                        ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[e.getConfig(i.row.variable,n).attrVue?a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showInputDialog("attrVue",t.variable,i.row.variable,void 0,e.getAttrOptions(n,e.getConfig(i.row.variable,n)))}}},[e._v("选择")]):[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("text",t.variable,i.row.variable)}}},[e._v("文本\n                            ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("number",t.variable,i.row.variable)}}},[e._v("数值\n                            ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("object",t.variable,i.row.variable)}}},[e._v("对象\n                            ")])],e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleShowVariableSelect(i.row,"",e.handleUpdateVariableValue(t.variable,i.row.variable))}}},[e._v("变量\n                          ")])],2),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.variable[i.row.variable]=e}}})],1)],1):e._e()}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"",label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{staticClass:"control-col"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleAddVariable(t.variable)}}},[e._v("\n                            +\n                          ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteVariable(t.variable,n.row.variable)}}},[e._v("\n                            -\n                          ")])])])]}}],null,!0)})],1):e._e(),e._v(" "),i.name===e.EXECUTE_CUSTOM_FN?a("n-form-item",{attrs:{label:"选择函数"}},e._l(i.execute_fns,(function(t,l){return a("div",{key:l,staticClass:"form-select"},[a("el-select",{on:{change:function(a){return e.customFnsChange(t,n)}},model:{value:t.id,callback:function(a){e.$set(t,"id",a)},expression:"opt.id"}},e._l(e.getCustomFnsByElementId(n),(function(e){return a("el-option",{key:e.value,attrs:{disabled:i.execute_fns.map((function(e){return e.id})).includes(e.value),label:e.label,value:e.value}})})),1),e._v(" "),a("div",{staticClass:"btn-wrapper"},[a("div",{staticClass:"add-btn-primary",on:{click:function(e){return i.execute_fns.push({id:"",name:""})}}},[e._v("+")])]),e._v(" "),i.execute_fns.length>1?a("div",{staticClass:"btn-wrapper"},[a("div",{staticClass:"add-btn-primary",on:{click:function(e){return i.execute_fns.splice(l,1)}}},[e._v("-")])]):e._e()],1)})),0):e._e(),e._v(" "),[e.CHANGE_TAB,e.ADD_TAB,e.CHANGE_BADGE].includes(i.name)?a("TabsParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId,isChange:i.name===e.CHANGE_TAB,isChangeBadge:i.name===e.CHANGE_BADGE}}):e._e(),e._v(" "),[e.CHANGE_COLLAPSE,e.TOGGLE_COLLAPSE].includes(i.name)?a("CollapseParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.CHANGE_STEP].includes(i.name)?a("StepsParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.CHANGE_STYLES].includes(i.name)?a("StyleConfigParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.PLAY_ANIMATION].includes(i.name)?a("AnimationConfigParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e()],1)}))],2)])})),e._v(" "),a("div",{staticClass:"action-add",on:{click:e.handleAddBind}},[a("i",{staticClass:"iconfont icon-tuopugongju_fangda"})])]:e._e(),e._v(" "),"link"===e.dataForm.action?[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.linkLoading,expression:"linkLoading"}],staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"跳转类型"}},[a("el-select",{on:{change:e.handleJumpTypeChange},model:{value:e.dataForm.linkOptions.jumpType,callback:function(t){e.$set(e.dataForm.linkOptions,"jumpType",t)},expression:"dataForm.linkOptions.jumpType"}},[a("el-option",{attrs:{label:"应用内跳转",value:"page"}}),e._v(" "),a("el-option",{attrs:{label:"第三方链接跳转",value:"link"}})],1)],1),e._v(" "),"link"===e.dataForm.linkOptions.jumpType?[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("链接")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.动态路径参数需要在url路径前加冒号表示，动态参数在params中配置，如/user/:id/:name"),a("br"),e._v("2.运行阶段url的参数由下表所填写的页面参数值决定")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"输入跳转链接"},model:{value:e.linkUrl,callback:function(t){e.linkUrl=t},expression:"linkUrl"}})],2),e._v(" "),a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.linkOptions.linkParams,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.paramsInputDisabled(t.row.name)},on:{input:e.handleParamsChange},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}],null,!1,4188125637)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleAddParams(t.$index)}}},[e._v("+")]),e._v(" "),e.paramsInputDisabled(t.row.name)?e._e():a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("-")])]}}],null,!1,2958262156)})],1)],1)]:e._e(),e._v(" "),"page"===e.dataForm.linkOptions.jumpType?[a("n-form-item",{attrs:{label:"选择页面"}},[a("el-select",{on:{change:e.handleLinkPageChange},model:{value:e.dataForm.linkOptions.pageId,callback:function(t){e.$set(e.dataForm.linkOptions,"pageId",t)},expression:"dataForm.linkOptions.pageId"}},e._l(e.pageData,(function(e){return a("el-option",{key:e.elementId,attrs:{label:e.elementName,value:e.elementId}})})),1)],1),e._v(" "),a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.linkOptions.pageVariables,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"变量名"}}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"描述"}}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)})],1)],1)]:e._e(),e._v(" "),a("n-form-item",{attrs:{label:"跳转方式"}},[a("el-select",{model:{value:e.dataForm.linkOptions.type,callback:function(t){e.$set(e.dataForm.linkOptions,"type",t)},expression:"dataForm.linkOptions.type"}},[a("el-option",{attrs:{label:"浏览器标签页",value:"blank"}}),e._v(" "),a("el-option",{attrs:{label:"应用内标签页（需开启多Tab功能）",value:"tab",disabled:"page"===e.dataForm.linkOptions.jumpType}}),e._v(" "),a("el-option",{attrs:{label:"当前页",value:"self"}})],1)],1)],2)])]:e._e(),e._v(" "),"commonAction"===e.dataForm.action?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item common-action"},[a("n-form-item",{attrs:{label:"事件处理程序名称"}},[a("el-select",{model:{value:e.dataForm.commonActionId,callback:function(t){e.$set(e.dataForm,"commonActionId",t)},expression:"dataForm.commonActionId"}},e._l(e.commonActionsOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)])]:e._e(),e._v(" "),"pageEmit"===e.dataForm.action?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"事件名称"}},[a("el-select",{on:{change:e.initPageEmitParams},model:{value:e.dataForm.pageEmit.emitKey,callback:function(t){e.$set(e.dataForm.pageEmit,"emitKey",t)},expression:"dataForm.pageEmit.emitKey"}},e._l(e.pageEmitOptions,(function(e){return a("el-option",{key:e.emitKey,attrs:{label:e.name,value:e.emitKey}})})),1)],1),e._v(" "),[e.dataForm.pageEmit.emitKey?a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.pageEmit.params,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"参数名"}}),e._v(" "),a("n-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s("第"+(t.$index+1)+"个参数")+"\n                      ")]}}],null,!1,4024053167)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)})],1)],1):e._e()]],2)])]:e._e(),e._v(" "),["open","close","reset"].includes(e.dataForm.action)?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"选择组件"}},[a("tree-select",{attrs:{tree:e.treeData,width:830,multiple:!1,"node-key":"elementId","default-selected-keys":[e.dataForm.controlOptions.elementId]},on:{change:e.handleControlChange}})],1)],1)])]:e._e(),e._v(" "),["api","sql","devops"].includes(e.dataForm.action)?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"dataset-select-wrapper"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleShowDataConfigSelect}},[e._v("选择已存配置\n              ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.handleShowDataConfigSave}},[e._v("配置另存为")])],1),e._v(" "),"api"===e.dataForm.action?a("api-config",{attrs:{"api-request":e.dataForm.apiRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.openData.emitEvent,"response-config":e.dataForm.responseConfig},on:{"update:apiRequest":function(t){return e.$set(e.dataForm,"apiRequest",t)},"update:api-request":function(t){return e.$set(e.dataForm,"apiRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),"devops"===e.dataForm.action?a("devops-config",{attrs:{"api-request":e.dataForm.apiRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.dataForm.emitEvent},on:{"update:apiRequest":function(t){return e.$set(e.dataForm,"apiRequest",t)},"update:api-request":function(t){return e.$set(e.dataForm,"apiRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),"sql"===e.dataForm.action?a("sql-config",{attrs:{"sql-request":e.dataForm.sqlRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.openData.emitEvent},on:{"update:sqlRequest":function(t){return e.$set(e.dataForm,"sqlRequest",t)},"update:sql-request":function(t){return e.$set(e.dataForm,"sqlRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("回调配置")])]),e._v(" "),a("div",{staticClass:"callback-content"},[a("div",{staticClass:"event-panel"},[a("el-collapse",{model:{value:e.activeCollapses,callback:function(t){e.activeCollapses=t},expression:"activeCollapses"}},[a("el-collapse-item",{attrs:{name:"success"}},[a("template",{slot:"title"},[a("div",[e._v("成功回调（"+e._s(e.successCallback.length)+"）")])]),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"success",animation:"300",handle:".el-icon-rank"},model:{value:e.dataForm.callback,callback:function(t){e.$set(e.dataForm,"callback",t)},expression:"dataForm.callback"}},[a("transition-group",e._l(e.successCallback,(function(t){return a("div",{key:t.name,staticClass:"handler"},[a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("el-tooltip",{attrs:{content:"是否启用","popper-class":"tooltip-question",placement:"top"}},[a("el-switch",{staticStyle:{margin:"0 5px"},attrs:{"active-value":!1,"inactive-value":!0},model:{value:t.disabled,callback:function(a){e.$set(t,"disabled",a)},expression:"handler.disabled"}})],1),e._v(" "),a("div",{staticClass:"handler-name",on:{click:function(a){return e.handleEditHandler(t)}}},[e._v("\n                                "+e._s(t.name)+"\n                              ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteHandler(t.id)}}},[e._v("\n                                -\n                              ")])],1)})),0)],1),e._v(" "),a("div",{staticClass:"handler new"},[a("div",{staticClass:"handler-name",on:{click:function(t){return e.handleAddHandler("success")}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")]),e._v("\n                            新增回调处理行为\n                          ")])])],2),e._v(" "),a("el-collapse-item",{attrs:{name:"error"}},[a("template",{slot:"title"},[a("div",[e._v("失败回调（"+e._s(e.errorCallback.length)+"）")])]),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"error",animation:"300",handle:".el-icon-rank"},model:{value:e.dataForm.callback,callback:function(t){e.$set(e.dataForm,"callback",t)},expression:"dataForm.callback"}},[a("transition-group",e._l(e.errorCallback,(function(t){return a("div",{key:t.name,staticClass:"handler"},[a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("el-tooltip",{attrs:{content:"是否启用","popper-class":"tooltip-question",placement:"top"}},[a("el-switch",{staticStyle:{margin:"0 5px"},attrs:{"active-value":!1,"inactive-value":!0},model:{value:t.disabled,callback:function(a){e.$set(t,"disabled",a)},expression:"handler.disabled"}})],1),e._v(" "),a("div",{staticClass:"handler-name",on:{click:function(a){return e.handleEditHandler(t)}}},[e._v("\n                                "+e._s(t.name)+"\n                              ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteHandler(t.id)}}},[e._v("\n                                -\n                              ")])],1)})),0)],1),e._v(" "),a("div",{staticClass:"handler new"},[a("div",{staticClass:"handler-name",on:{click:function(t){return e.handleAddHandler("error")}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")]),e._v("\n                            新增回调处理行为\n                          ")])])],2)],1),e._v(" "),a("handler-dialog",{ref:"handlerDialog",on:{confirm:e.handleUpdateEventData}})],1),e._v(" "),a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                        响应体\n                        "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")])],1)])])],2)],1),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"loading"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("其他配置")])]),e._v(" "),a("div",{staticClass:"config-wrapper"},[a("div",{staticClass:"config-wrapper-item"},[a("div",{staticClass:"config-title"},[e._v("Loading配置")]),e._v(" "),a("n-form",{attrs:{size:"mini","label-width":"120px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("启用Loading")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("请求响应之前，是否展示Loading动画")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-checkbox",{model:{value:e.dataForm.loadingConfig.enable,callback:function(t){e.$set(e.dataForm.loadingConfig,"enable",t)},expression:"dataForm.loadingConfig.enable"}})],2),e._v(" "),e.dataForm.loadingConfig.enable?[a("n-form-item",{attrs:{label:"文案"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.dataForm.loadingConfig.text,callback:function(t){e.$set(e.dataForm.loadingConfig,"text",t)},expression:"dataForm.loadingConfig.text"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"启用遮罩"}},[a("el-checkbox",{model:{value:e.dataForm.loadingConfig.showMask,callback:function(t){e.$set(e.dataForm.loadingConfig,"showMask",t)},expression:"dataForm.loadingConfig.showMask"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"遮罩背景色"}},[a("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.dataForm.loadingConfig.background,callback:function(t){e.$set(e.dataForm.loadingConfig,"background",t)},expression:"dataForm.loadingConfig.background"}})],1)]:e._e()],2)],1),e._v(" "),["api"].includes(e.dataForm.action)?a("div",{staticClass:"config-wrapper-item"},[a("div",{staticClass:"config-title"},[e._v("响应体配置")]),e._v(" "),a("n-form",{attrs:{size:"mini","label-width":"140px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("响应体类型")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("文件类型的响应体可以下载")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-radio-group",{staticClass:"api-button-group",attrs:{size:"small"},model:{value:e.dataForm.responseConfig.isBlob,callback:function(t){e.$set(e.dataForm.responseConfig,"isBlob",t)},expression:"dataForm.responseConfig.isBlob"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("普通类型")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("文件类型")])],1)],2),e._v(" "),e.dataForm.responseConfig.isBlob?[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("下载文件名")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("提供完整文件后缀名如：我的名单.xlsx")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-checkbox",{model:{value:e.dataForm.responseConfig.isUseHeaderFileName,callback:function(t){e.$set(e.dataForm.responseConfig,"isUseHeaderFileName",t)},expression:"dataForm.responseConfig.isUseHeaderFileName"}},[e._v("从Header中获取")]),e._v(" "),e.dataForm.responseConfig.isUseHeaderFileName?e._e():a("div",{staticClass:"value-input"},[void 0!==e.dataForm.responseConfig.fileName?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.dataForm.responseConfig.fileName),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.dataForm.responseConfig.fileName)},on:{click:function(t){return e.handleTagClick(e.dataForm.responseConfig,"fileName")},close:function(t){e.dataForm.responseConfig.fileName=void 0}}},[e._v("\n                                  "+e._s(e.formatTag(e.getElementName(e.dataForm.responseConfig.fileName),12))+"\n                                ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(t){return e.showInputDialog("text",e.dataForm.responseConfig,"fileName")}}},[e._v("文本\n                                  ")]),e._v(" "),a("el-button",{on:{click:function(t){return e.handleShowVariableSelect(e.dataForm.responseConfig,"fileName")}}},[e._v("变量\n                                  ")])],1)],1)],1)],2)]:e._e()],2)],1):e._e()])],2)],1)],1)]:e._e()],2)]),e._v(" "),a("div",{staticClass:"bottom"},[a("div",{staticClass:"selected"},[a("div",{staticStyle:{margin:"5px 0"}},[e._v("当前选择的动作："),e.actionName?a("el-tag",[e._v(e._s(e.actionName))]):e._e()],1),e._v(" "),e.actionName?e._e():a("div",{staticClass:"input input-empty"},[e._v("未选择")])])]),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("data-config-select",{ref:"dataConfigSelect",on:{confirm:e.handleDataConfigConfirm}}),e._v(" "),a("data-config-save",{ref:"dataConfigSave"}),e._v(" "),a("event-select",{ref:"eventSelect",on:{confirm:e.handleEventSelectConfirm}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},PAip:function(e,t,a){"use strict";a("LRkd")},PDzI:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"动画效果选择",visible:e.dialogVisible,width:"1000px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content"},e._l(e.animationList,(function(t){return a("div",{key:t.groupName,staticClass:"animation-group"},[a("div",{staticClass:"animation-group-name"},[e._v(e._s(t.groupName))]),e._v(" "),e._l(t.list,(function(t){return a("div",{key:t.name,staticClass:"animation-item ani-item",class:{"is-select":e.selected===t.name},on:{click:function(a){return e.handleSelect(t)}}},[e._v(e._s(t.name))])}))],2)})),0),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 认")])],1)])},i=[]},PHft:function(e,t,a){"use strict";a.r(t);var n=a("ybGJ"),i=a("q6yB");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"359ffb27",null);t.default=r.exports},PLBw:function(e,t,a){"use strict";a.r(t);var n=a("yClH"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},PTXG:function(e,t,a){},PYW5:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("pKu3")),r=n(a("Mqf6")),s=n(a("E0s0"));a("uD/U");var c=n(a("YLtl")),u=a("7Qib"),d=a("a+hW"),p={name:"PanelData",components:{VueJsonPretty:s.default,DataSetConfig:o.default},inject:["dndOptions"],mixins:[r.default],data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","widget"],dialogVisible:!1,dataVariables:void 0,apiRequest:void 0,sqlRequest:void 0,staticData:void 0,selectedPath:void 0,responseOptions:[],response:void 0,tableLoading:!1,activeDataType:""}},methods:{formatTag:u.formatTag,formatTip:u.formatTip,open:function(e){var t=this,a=e.dataVariables,n=e.apiRequest,i=e.sqlRequest,l=e.staticData;this.dataVariables=a?c.default.cloneDeep(a):[],this.staticData=c.default.cloneDeep(l)||void 0,this.apiRequest=c.default.cloneDeep(n)||void 0,this.sqlRequest=c.default.cloneDeep(i)||void 0,this.response=this.staticData||null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},handleGeneratePanelData:function(){return{dataVariables:this.dataVariables,apiRequest:this.apiRequest,sqlRequest:this.sqlRequest,staticData:this.staticData}},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l,o;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,l=a.sqlRequest,o=a.staticData,e.apiRequest=n,e.sqlRequest=l,e.staticData=o,e.loading=!0,setTimeout((function(){var t;if(!(null===(t=e.dataVariables.find((function(e){return"formData"===e.key})))||void 0===t?void 0:t.path).length)return e.$message.error("请配置变量映射 > 表单数据的数据路径！"),void(e.loading=!1);var a=e.handleGeneratePanelData();e.loading=!1,e.$emit("confirm",a),e.dialogVisible=!1}),100);case 6:case"end":return t.stop()}}),t)})))()},handleResponse:function(e){var t=e.response,a=e.responseOptions,n=e.isStatic;this.response=t,this.responseOptions=a,n&&(this.staticData=c.default.cloneDeep(t))},copyPath:function(){},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,d.getObjectTree)(e)},handleClearResponse:function(){this.response=null,this.responseOptions=[]},handleDrop:function(e){var t=e.target.dataset.key;this.dataVariables.find((function(e){return e.key===t})).path=(0,d.getPathList)(this.selectedPath)},getTip:function(e){if("formData"===e)return"表单数据，需传入对象类型的数据"}}};t.default=p},PaGO:function(e,t,a){"use strict";a.r(t);var n=a("fT6w"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},PdWV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[e.elementProps.dynamicColumn?a("div",{staticStyle:{"font-size":"12px",color:"#666",padding:"10px"}},[e._v("备注：当表格数据的列编码和下方配置的列编码匹配时配置才生效")]):e._e(),e._v(" "),a("div",{staticClass:"inner-content"},[a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("列标题")]),e._v(" "),a("span",{staticClass:"key"},[e._v("列编码")])],1),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300",handle:".el-icon-rank"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.key,staticClass:"content",style:{opacity:t.isHidden?"0.5":"1"}},[e.deleteMode?a("el-checkbox",{attrs:{label:t.key},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticClass:"key"},[e._v(e._s(t.key))]),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleDeleteColumn(t.key)}}},[e._v("删除\n            ")])],1)],1)})),0)],1)],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddColumn}},[e._v("\n        +\n      ")]),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],1)],e._v(" "),e.elementProps.dynamicColumn?e._e():[a("el-divider"),e._v(" "),a("HeaderGroupConfig",{attrs:{elementId:e.elementId,propKey:e.propKey,elementProps:e.elementProps},on:{update:e.handleUpdateHeaderGroup}})],e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"300",trigger:"manual","popper-class":"has-modal-popper",placement:"bottom","visible-arrow":!1,title:e.variableForm.isAdd?"新增":"编辑"},on:{"after-enter":e.handleShowModal,hide:e.handleHideModal},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"95px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"列标题",prop:"label"}},[a("el-input",{model:{value:e.variableForm.label,callback:function(t){e.$set(e.variableForm,"label","string"==typeof t?t.trim():t)},expression:"variableForm.label"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"列编码",prop:"key"}},[a("el-input",{model:{value:e.variableForm.key,callback:function(t){e.$set(e.variableForm,"key","string"==typeof t?t.trim():t)},expression:"variableForm.key"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"对齐方式",prop:"align"}},[a("el-button-group",[a("el-button",{attrs:{type:"left"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="left"}}},[e._v("左\n            ")]),e._v(" "),a("el-button",{attrs:{type:"center"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="center"}}},[e._v("\n              中\n            ")]),e._v(" "),a("el-button",{attrs:{type:"right"===e.variableForm.align?"primary":""},on:{click:function(t){e.variableForm.align="right"}}},[e._v("\n              右\n            ")])],1)],1),e._v(" "),a("n-form-item",{attrs:{label:"列固定",prop:"fixed"}},[a("el-button-group",[a("el-button",{attrs:{type:void 0===e.variableForm.fixed?"primary":""},on:{click:function(t){e.variableForm.fixed=void 0}}},[e._v("\n              不固定\n            ")]),e._v(" "),a("el-button",{attrs:{type:"left"===e.variableForm.fixed?"primary":""},on:{click:function(t){e.variableForm.fixed="left"}}},[e._v("左\n            ")]),e._v(" "),a("el-button",{attrs:{type:"right"===e.variableForm.fixed?"primary":""},on:{click:function(t){e.variableForm.fixed="right"}}},[e._v("\n              右\n            ")])],1)],1),e._v(" "),a("n-form-item",{attrs:{label:"列宽度",prop:"width"}},[a("el-input",{model:{value:e.variableForm.width,callback:function(t){e.$set(e.variableForm,"width","string"==typeof t?t.trim():t)},expression:"variableForm.width"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"列最小宽度",prop:"minWidth"}},[a("el-input",{model:{value:e.variableForm.minWidth,callback:function(t){e.$set(e.variableForm,"minWidth","string"==typeof t?t.trim():t)},expression:"variableForm.minWidth"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"列格式化",prop:"formatter"}},[e.variableForm.formatter?a("div",{staticClass:"formatter-item"},[a("el-button",{attrs:{disabled:e.variableForm.isUseSlot,type:"text"},on:{click:e.handleShowFormat}},[e._v(e._s(e.formatterLabel))]),e._v(" "),a("i",{staticClass:"iconfont el-icon-delete",staticStyle:{"margin-left":"10px"},on:{click:function(t){e.variableForm.formatter=void 0}}})],1):a("el-button",{attrs:{disabled:e.variableForm.isUseSlot,size:"mini",type:"primary"},on:{click:e.handleShowFormat}},[e._v("配置")])],1),e._v(" "),a("n-form-item",{attrs:{label:"开启列排序",prop:"sortable"}},[a("el-switch",{model:{value:e.variableForm.sortable,callback:function(t){e.$set(e.variableForm,"sortable",t)},expression:"variableForm.sortable"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"列隐藏",prop:"isHidden"}},[a("el-switch",{model:{value:e.variableForm.isHidden,callback:function(t){e.$set(e.variableForm,"isHidden",t)},expression:"variableForm.isHidden"}})],1),e._v(" "),a("n-form-item",{attrs:{prop:"isUseSlot"}},[a("template",{slot:"label"},[a("span",[e._v("开启列插槽")]),e._v(" "),a("el-tooltip",{attrs:{content:"开启列插槽可以自定义列的展示内容，但是列格式化会失效。注意：开启会影响性能","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{model:{value:e.variableForm.isUseSlot,callback:function(t){e.$set(e.variableForm,"isUseSlot",t)},expression:"variableForm.isUseSlot"}})],2)],1),e._v(" "),a("DataFormat",{ref:"dataFormat",on:{confirm:e.handleFormatterConfirm}}),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n        ")])],1)],1)])],2)},i=[]},PeIH:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB"));n(a("BvH3"));a("RQ3N");var r=n(a("asm4")),s=a("xBdn"),c=a("pZTy"),u=n(a("YLtl")),d=n(a("t2rG")),p=n(a("r5ug")),f=n(a("nBKl")),v=n(a("UeeE")),m=a("0O+R"),h=n(a("KEv7"));function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y=v.default.createInstance({id:"id",children:"children",pid:"parentId"}),_={components:{draggable:d.default,dataSelector:p.default,StaticConfig:f.default,nPopover:r.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!0},optionkey:{type:String}},data:function(){return{icons:c.icons,dataOrigin:"static",sourceMode:!1,variableForm:{isDefault:!1,label:"",value:void 0,icon:""},rules:{label:(0,s.getValidators)([{required:!0,message:"请输入显示值",include:s.required,trigger:"change"}]),value:(0,s.getValidators)([{required:!0,message:"请输入选项值",include:s.required,trigger:"change"}])},popoverVisible:!1,editMode:null,currentData:null,treeData:[],lastElementId:null,loading:!1,iconfonts:[],iconType:"default"}},computed:{checkStrictly:function(){return this.elementProps.checkStrictly},value:function(){return this.elementProps[this.propKey]},staticData:{get:function(){return this.elementProps.staticData},set:function(e){var t=g(g({},this.elementProps),{},{staticData:u.default.cloneDeep(e)});this.$emit("update",t)}}},methods:{checkChange:function(){var e=this.$refs.tree.getCheckedKeys(),t=u.default.cloneDeep(this.staticData||[]);y.forEach(t,(function(t){t.isDefault=e.includes(t.id)})),this.updateStaticData(t)},dataSelectUpdate:function(e){this.$emit("update",g(g({},e),{},{staticData:this.staticData}))},updateStaticData:function(e){var t=g(g({},this.elementProps),{},{staticData:e});this.$emit("update",t)},handleDataOriginChange:function(e){this.dataOrigin=e},handleAddOption:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.popoverVisible=!0,t.next=3,e.$nextTick();case 3:e.$refs.variableForm.resetFields(),e.variableForm={isDefault:!1,label:"",value:void 0,children:[],disabled:!1,icon:""},e.editMode="root",e.currentData=null;case 7:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=u.default.cloneDeep(e.staticData||[]),n=u.default.cloneDeep(e.variableForm),i=e.currentData;switch(e.editMode){case"root":n.id=(0,m.getRandomHexadecimal)(6),a.push(n),e.$refs.tree.append(n);break;case"add":n.id=(0,m.getRandomHexadecimal)(6);var l=y.findNode(a,(function(e){return e.id===i.id}));l.children?l.children.push(n):l.children=[n],e.$refs.tree.append(n,e.currentData.id);break;case"edit":y.forEach(a,(function(e){e.id===i.id&&Object.keys(n).forEach((function(t){"children"!==t&&(e[t]=n[t])}))})),Object.keys(n).forEach((function(t){"children"!==t&&(e.currentData[t]=n[t])}))}e.updateStaticData(u.default.cloneDeep(a)),e.handleSetChecked(u.default.cloneDeep(a)),e.popoverVisible=!1}}))},handleSetChecked:function(e){var t=this;this.$nextTick((function(){var a=[];y.forEach(e,(function(e){e.isDefault&&a.push(e.id)})),t.$refs.tree.setCheckedKeys(a)}))},handleSelectRegOpen:function(){this.$refs.selectRegModal.show()},handleSelectRegConfirm:function(e){this.variableForm=g({},e),this.$refs.selectRegModal.close()},handleStaticResponse:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.response,e.responseOptions,n){a.next=3;break}return a.abrupt("return");case 3:if(Array.isArray(n)){a.next=6;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 6:if(l=n[0],u.default.isObject(l)){a.next=10;break}return t.$message.error("数据格式不正确"),a.abrupt("return");case 10:t.treeData=u.default.cloneDeep(n),t.staticData=u.default.cloneDeep(n),t.sourceMode=!1;case 13:case"end":return a.stop()}}),a)})))()},cancel:function(){this.sourceMode=!1},edit:function(e,t){var a=this;return(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.popoverVisible=!0,e.next=3,a.$nextTick();case 3:a.$refs.variableForm.resetFields(),a.variableForm={id:t.id,isDefault:t.isDefault,label:t.label,value:t.value,children:t.children||[],disabled:t.disabled,icon:t.icon||""},a.currentData=t,a.editMode="edit";case 7:case"end":return e.stop()}}),e)})))()},append:function(e,t){var a=this;return(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.popoverVisible=!0,e.next=3,a.$nextTick();case 3:a.$refs.variableForm.resetFields(),a.variableForm={isDefault:!1,label:"",value:void 0,children:[],icon:""},a.currentData=t,a.editMode="add";case 7:case"end":return e.stop()}}),e)})))()},remove:function(e,t){this.$refs.tree.remove(t.id),this.updateStaticData(this.treeData)},iconChange:function(e){this.variableForm.icon=e},handleShownPopover:function(){var e=this;this.$nextTick((function(){e.$refs.referenceBtn.$el.click()}))},handleDropChange:function(e,t,a){var n=u.default.cloneDeep(this.staticData||[]),i=y.findNode(n,(function(e){return e.id===t.key})),l=y.findNode(n,(function(t){return t.id===e.key}));switch(y.removeNode(n,(function(t){return t.id===e.key})),a){case"inner":i.children?i.children.push(l):i.children=[l];break;case"before":y.insertBefore(n,l,i);break;case"after":y.insertAfter(n,i,l)}this.updateStaticData(u.default.cloneDeep(n)),this.handleSetChecked(u.default.cloneDeep(n))},handleGetIconfont:function(){var e=this;this.loading=!0,(0,h.default)({url:"".concat(this.$store.state.CODE.lowCodeStore.appSourcePrefix,"apps/").concat(this.$route.query.id,"/iconfont/iconfont.json"),method:"GET",header:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;e.iconfonts=a.glyphs.map((function(e){return"".concat(a.font_family," ").concat(a.css_prefix_text).concat(e.font_class)}))})).finally((function(){e.loading=!1}))}},mounted:function(){this.handleGetIconfont();var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest;this.dataOrigin=t||a?"dynamic":"static",this.handleSetChecked(this.treeData)},watch:{staticData:{deep:!0,immediate:!0,handler:function(e){this.lastElementId!==this.elementProps.elementId&&(this.lastElementId=this.elementProps.elementId,this.treeData=u.default.cloneDeep(e))}}}};t.default=_},Pgv8:function(e,t,a){"use strict";a.r(t);var n=a("7vla"),i=a("tUMS");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("uPBN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5ca4e879",null);t.default=r.exports},PpFL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("YLtl")),l=n(a("slWK")),o=a("7Qib"),r=a("uzoN"),s={name:"ImageSelect",data:function(){return{dialogVisible:!1,loading:!1,imageGroupList:[],imageList:[],defaultSelectId:0,imageUploadAction:"".concat(r.uploadPrefix,"/").concat(this.$route.query.id,"/images"),headers:{"snc-token":JSON.parse(window.localStorage.getItem("loginKey")||"{}")["snc-token"]},selectedImageList:[],isShowManage:!0}},methods:{getImageUrl:o.getImageUrl,open:function(){this.handleGetImageGroupList(),this.dialogVisible=!0},handleClose:function(e){this.sourceType="image",this.loading=!1,this.dialogVisible=!1,e()},isSelected:function(e){return this.defaultSelectId===e.id},handleSelect:function(e){e&&(this.imageList=e.images,this.defaultSelectId=e.id)},handleGetImageGroupList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.loading=!0,this.$http({url:l.default.appSourceImageGroupList,data:{appId:+this.$route.query.id}}).then((function(a){e.imageGroupList=a.data;var n=e.imageGroupList.find((function(t){return t.id===e.defaultSelectId}))||i.default.first(e.imageGroupList);!0===t&&(n=i.default.last(e.imageGroupList)),e.handleSelect(n)})).finally((function(){e.loading=!1}))},handleSelectImage:function(e,t){this.isShowManage&&(this.selectedImageList=[e])},handleConfirm:function(){var e=this.selectedImageList[0];e?(this.$emit("confirm",e.name),this.dialogVisible=!1):this.$message.error("请选择图片")}}};t.default=s},PzUa:function(e,t,a){var n=a("FyFM");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9ddd74c8",n,!0,{})},Q1rM:function(e,t,a){var n=a("HvMV");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("0b0b0e99",n,!0,{})},QEiX:function(e,t,a){var n=a("yzbp");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("79315b8e",n,!0,{})},QIvs:function(e,t,a){"use strict";a.r(t);var n=a("2vS9"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"QL+e":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("/jrh"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={name:"ConfigSwitch",props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String},optionkey:{type:String}},data:function(){return{requiredArr:[]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},isConfigVisible:function(){if(["autoFetch"].includes(this.optionkey)){var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest;return t||a}return!0},config:function(){return l.default[this.optionkey]||{on:!0,off:!1}}}};t.default=s},QR8l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"MoreTypeDropdown",props:{types:{type:Array,default:function(){return[{label:"null",value:null},{label:"true",value:!0},{label:"false",value:!1},{label:"空文本",value:""},{label:"空数组",value:[]},{label:"空对象",value:{}}]}},size:{type:String,default:"mini"}},methods:{handleChange:function(e){this.$emit("change",e)}}};t.default=n},"QS+E":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={components:{},props:{value:{type:Object,default:!0},placeholder:{type:String},pickerOptions:{type:Object,default:function(){return{}}}},data:function(){return{}},created:function(){},mounted:function(){},methods:{},computed:{},watch:{}};t.default=n},QWNE:function(e,t,a){"use strict";a.r(t);var n=a("7gdO"),i=a("3KFY");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("oI7/");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"26b14806",null);t.default=r.exports},QcO3:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("YLtl")),l={name:"htmlTemplate",data:function(){return{dialogVisible:!1,htmlTemplateList:[{label:"标签",html:'<span class="el-tag el-tag--primary el-tag--light">标签</span>',code:'return `<span class="el-tag el-tag--primary el-tag--light">${cellValue}</span>`'},{label:"a链接",html:'<a href="#">http://www.xxx.com</a>',code:'return `<a href="${cellValue}" target="_black">${cellValue}</a>`'}],selectedRow:null}},methods:{open:function(){this.dialogVisible=!0},handleClose:function(e){this.clear(),e()},clear:function(){this.selectedRow=null;var e=this.$refs.xTable;e.clearRadioRow(),e.clearCurrentRow(),this.dialogVisible=!1},confirm:function(){this.selectedRow?(this.$emit("confirm",this.selectedRow),this.clear()):this.$message.error("请选择一个模板")},handleRadioChange:function(e){var t=e.row;this.$refs.xTable.setCurrentRow(t),this.selectedRow=i.default.cloneDeep(t)},handleCellClick:function(e){var t=e.row;this.$refs.xTable.setRadioRow(t),this.selectedRow=i.default.cloneDeep(t)}}};t.default=l},QeuU:function(e,t,a){var n=a("+fn/");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("1aca2f24",n,!0,{})},QmTp:function(e,t,a){"use strict";a("YKD9")},QnOf:function(e,t,a){var n=a("2lXE");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("588e1662",n,!0,{})},Qsv3:function(e,t,a){"use strict";a.r(t);var n=a("UBEa"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},R1oh:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("YLtl")),r=n(a("r5ug")),s=n(a("Wk/A")),c=n(a("cGt5")),u=a("ZDQs"),d=a("8SHQ"),p=a("tgb1"),f=a("7C5+");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={inject:(0,l.default)(f.pageInject),components:{dataSelector:r.default,Select:s.default,formatter:c.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!0}},data:function(){return{popoverVisible:!1,formatVisible:!1,useFormat:!1,rowInfo:{},xFields:[],yFields:[],formatOption:{},xPositionOptions:[{label:"左",value:"start"},{label:"中",value:"center"},{label:"右",value:"end"}],YPositionOptions:[{label:"上",value:"end"},{label:"中",value:"center"},{label:"下",value:"start"}],positionOptions:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"},{label:"数据中间",value:"inside"}],sizeOptions:[{label:"小",value:"small"},{label:"中",value:"medium"},{label:"大",value:"large"}],symbolOptions:[{label:"圆",value:"circle"},{label:"矩形",value:"rect"},{label:"圆角矩形",value:"roundRect"},{label:"三角形",value:"triangle"},{label:"钻石",value:"diamond"},{label:"圆钉",value:"pin"},{label:"箭头",value:"arrow"},{label:"无",value:"none"}],formatTips:d.formatTips}},computed:{dataType:{get:function(){return this.elementProps.dataType},set:function(e){var t=m(m({},this.elementProps),{},{dataType:e}),a=this.elementProps,n=a.elementType,i=a.elementVersion;if("dynamic"!==e){var l=p.getPropsValues.call(this,{elementType:n,elementVersion:i}),o=l.staticData,r=l.dataVariables;t.staticData=o,t.dataVariables=r}else{var s=(0,p.getConfig)(n,i),c=s.dynamicRequestData,u=s.yFieldsMap;t.staticData=c,t.dynamicVariables=p.getPropsValues.call(this,{elementType:n,elementVersion:i}).dynamicVariables,t.dataVariables=this.elementProps.dataVariables.map((function(e){return"yAxis"===e.key&&(e.fields=u),e}))}this.$emit("update",t)}},showDataType:function(){return Object.prototype.hasOwnProperty.call(this.elementProps,"dataType")&&this.elementProps.dynamicVariables},dataVariables:{get:function(){return this.elementProps.dataVariables},set:function(e){this.$emit("update",m(m({},this.elementProps),{},{dataVariables:e}))}},xSetting:{get:function(){return this.elementProps.xSetting},set:function(e){this.$emit("update",m(m({},this.elementProps),{},{xSetting:e}))}},ySetting:{get:function(){return this.elementProps.ySetting},set:function(e){this.$emit("update",m(m({},this.elementProps),{},{ySetting:e}))}},chartType:function(){return u.chartType[this.elementProps.elementType]},preset:function(){var e=this.elementProps,t=e.elementType,n=e.elementVersion;return a("K1Nn")("./".concat(t,"/").concat(n,"/watch-props.js")).yField_tpl}},watch:{dataVariables:{deep:!0,immediate:!0,handler:function(e){var t,a;this.xFieldsIndex=e.findIndex((function(e){return"xAxis"===e.key})),this.xFields=(null===(t=e[this.xFieldsIndex])||void 0===t?void 0:t.fields)||[],this.yFieldsIndex=e.findIndex((function(e){return"yAxis"===e.key})),this.yFields=(null===(a=e[this.yFieldsIndex])||void 0===a?void 0:a.fields)||[]}}},methods:{addXFields:function(){var e="key"+(this.xFields.length+1);this.xFields.push(m(m({},o.default.cloneDeep(this.preset)),{},{key:e,value:e})),this.dataVariables[this.xFieldsIndex].fields=o.default.cloneDeep(this.xFields)},deleteXItem:function(e){this.xFields.splice(e,1),this.dataVariables[this.xFieldsIndex].fields=o.default.cloneDeep(this.xFields)},addYFields:function(){var e="key"+(this.yFields.length+1);this.yFields.push(m(m({},o.default.cloneDeep(this.preset)),{},{key:e,value:e})),this.dataVariables[this.yFieldsIndex].fields=o.default.cloneDeep(this.yFields)},deleteYItem:function(e){this.yFields.splice(e,1),this.dataVariables[this.yFieldsIndex].fields=o.default.cloneDeep(this.yFields)},openFormatter:function(){this.formatOption=o.default.cloneDeep(this.xSetting.formatOption),this.formatVisible=!0},formatterConfirm:function(e){this.xSetting=m(m({},this.xSetting),e)},dataSelectUpdate:function(e){this.$emit("update",e)},rowEdit:function(e){this.rowInfo=o.default.cloneDeep(e)},setData:function(e,t){for(var a in t)e[a]=t[a]}},mounted:function(){this.useFormat=!!this.ySetting.formatter}};t.default=h},R8uL:function(e,t,a){},RIvN:function(e,t,a){"use strict";a("kFLa")},RKlf:function(e,t,a){var n=a("pT+E");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("5adcd222",n,!0,{})},Rfuc:function(e,t,a){var n=a("ttPp");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2834158a",n,!0,{})},"Rg/V":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择编排",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"dialog-content"},[a("n-form",{staticClass:"data-select-form",attrs:{model:e.queryForm,size:"mini",inline:"","label-with":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"100px"},on:{change:e.handleResetCondition},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[a("el-option",{attrs:{label:"编排名称",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"描述",value:"description"}}),e._v(" "),a("el-option",{attrs:{label:"场景",value:"sceneCode"}}),e._v(" "),a("el-option",{attrs:{label:"标签",value:"labelName"}}),e._v(" "),a("el-option",{attrs:{label:"创建人",value:"createUser"}})],1)],1),e._v(" "),["name","description","createUser"].includes(e.searchType)?a("n-form-item",{attrs:{label:""}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.queryForm.condition[e.searchType],callback:function(t){e.$set(e.queryForm.condition,e.searchType,t)},expression:"queryForm.condition[searchType]"}})],1):"labelName"===e.searchType?a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"178px"},attrs:{filterable:"","default-first-option":"",placeholder:"请选择"},model:{value:e.queryForm.condition.labelName,callback:function(t){e.$set(e.queryForm.condition,"labelName",t)},expression:"queryForm.condition.labelName"}},e._l(e.labelNameList,(function(e){return a("el-option",{key:e.labelTitle,attrs:{label:e.labelTitle,value:e.labelTitle}})})),1)],1):"sceneCode"===e.searchType?a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"178px"},attrs:{filterable:"","default-first-option":"",placeholder:"请选择"},model:{value:e.queryForm.condition.sceneCode,callback:function(t){e.$set(e.queryForm.condition,"sceneCode",t)},expression:"queryForm.condition.sceneCode"}},e._l(e.sceneList,(function(e){return a("el-option",{key:e.sceneCode,attrs:{label:e.sceneName,value:e.sceneCode}})})),1)],1):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSearch(!0)}}},[e._v("\n        重置\n      ")])],1),e._v(" "),a("div",{staticClass:"data-table"},[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":"",size:"mini",height:"410px"},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.name===t.row.name?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"orchestrationId",label:"编排ID",width:"80px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"编排名称","min-width":"150px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"description",label:"描述","min-width":"100px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"scenes",label:"场景","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.scenes||[],(function(t){return a("el-tag",{key:t.sceneCode,staticStyle:{margin:"2px"}},[e._v(e._s(t.sceneName))])}))}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"labels",label:"标签","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.labels||[],(function(t){return a("el-tag",{key:t.labelId,staticStyle:{margin:"2px"}},[e._v(e._s(t.labelTitle))])}))}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"createUser",label:"创建人",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.createUser?a("span",[e._v(e._s(t.row.createUser.alias))]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},RqOX:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sql-code"},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"codeEditor",staticClass:"highlight-code"}),e._v(" "),e.resizable?a("ChangeHeight",{on:{heightChange:e.handleHeightChange}}):e._e()],1)},i=[]},RwIM:function(e,t,a){"use strict";a.r(t);var n=a("TdN6"),i=a("FaoN");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("WMa+");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"65bd8d36",null);t.default=r.exports},"S+/m":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sql-config"},[a("n-form",{ref:"dataForm",staticClass:"data-select-form",attrs:{"label-position":"top",model:e.formData,rules:e.rules,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[e.pureFunction&&!e.defaultArguments.length?a("n-form-item",{staticClass:"sql-form-item inline",attrs:{label:"名称",prop:"name"}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary"},on:{click:e.handleShowJsCodeSelect}},[e._v("选择已存高级变量")])],1)]):e._e(),e._v(" "),a("n-form-item",{staticClass:"sql-form-item",class:{"is-hide-label":!e.pureFunction},staticStyle:{"margin-bottom":"16px"},attrs:{label:"JS",prop:"code"}},[a("el-button",{staticClass:"test-btn",attrs:{size:"mini",type:"primary"},on:{click:e.handleTest}},[e._v("测试")]),e._v(" "),e.isJsFormat?e._e():a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"left"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:e._s(e.emptyTips)},slot:"content"}),e._v(" "),a("i",{staticClass:"el-icon-question test-btn tooltip"})]),e._v(" "),a("div",{staticClass:"empty-code",domProps:{innerHTML:e._s(e.templateText)}}),e._v(" "),a("div",{staticClass:"code-wrapper",class:{"is-show-log":e.isShowLog}},[a("js-code",{ref:"jsCode",staticClass:"sql-code",attrs:{"params-data":e.paramsData,resizable:!0,"custom-class":e.isJsFormat,useType:e.useType},on:{"focus-change":e.focusChange,screenChange:function(t){e.isShowLog=!1},heightChange:e.heightChange},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}}),e._v(" "),e.isShowLog?a("div",{staticClass:"log-wrapper",class:{"custom-class":e.isJsFormat},style:e.logWrapperHeight?"height: "+e.logWrapperHeight+"px":""},[a("div",[a("el-button",{staticClass:"clear-btn",attrs:{size:"mini",disabled:!e.logList.length},on:{click:e.handleClearLog}},[e._v("清空日志")]),e._v(" "),a("el-button",{staticClass:"clear-btn",attrs:{size:"mini"},on:{click:function(t){e.isShowLog=!1}}},[e._v("关闭")])],1),e._v(" "),a("div",{staticClass:"log-list"},e._l(e.logList,(function(t,n){return a("div",{key:n,staticClass:"log-item"},[e._v(e._s(t))])})),0)]):e._e()],1)],1),e._v(" "),a("n-form-item",{attrs:{label:""}},[a("div",{staticClass:"params-config"},[a("n-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.paramsData,border:""}},[a("n-table-column",{attrs:{prop:"key",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{readonly:e.isDefaultArgument(t.row.key)},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.isDefaultArgument(t.row.key)?a("div",{staticClass:"value-input"},[a("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[a("div",{staticStyle:{"white-space":"nowrap"},attrs:{slot:"content"},domProps:{innerHTML:e._s(e.defaultArgDesc(t.row.key).desc)},slot:"content"}),e._v(" "),a("el-tag",{staticClass:"value-tag",attrs:{"disable-transitions":""}},[e._v("\n                    "+e._s(e.formatTag(e.defaultArgDesc(t.row.key).name,12))+"\n                  ")])],1)],1):e._e(),e._v(" "),e.isDefaultArgument(t.row.key)?e._e():a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",placement:"top"}},[a("div",{staticStyle:{"white-space":"nowrap"},attrs:{slot:"content"},domProps:{innerHTML:e._s(e.isInnerParams(t.row)?e.innerParamsDesc(t.row.value):e.formatTip(t.row.value))},slot:"content"}),e._v(" "),a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                    "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                  ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                    ")]),e._v(" "),e.pureFunction||e.isJsFormat?e._e():a("el-button",{on:{click:function(a){return e.handleShowFunctionSelect(t.row,"value")}}},[e._v("动作\n                    ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowUtilsSelect(t.row,"value")}}},[e._v("工具函数\n                    ")])],1)],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"test",label:"测试值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[e.isShowTest(t.row)?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.isInnerParams(t.row)?"内置参数，不可更改":t.row.test),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:!e.isInnerParams(t.row),"disable-transitions":""},on:{click:function(a){return e.handleTagClick(t.row,"test")},close:function(e){t.row.test=void 0}}},[e._v("\n                    "+e._s(e.isInnerParams(t.row)?"内置参数，不可更改":e.formatTag(t.row.test))+"\n                  ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"test")}}},[e._v("文本\n                    ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("number",t.row,"test")}}},[e._v("数值\n                    ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("object",t.row,"test")}}},[e._v("对象\n                    ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.test=e}}})],1)],1)]}}])}),e._v(" "),e.argumentsAddable?a("n-table-column",{attrs:{width:"180",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddParams}},[e._v("+")]),e._v(" "),e.isDefaultArgument(t.row.key)?e._e():a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("\n                  -\n                ")])])]}}],null,!1,2063265277)}):e._e()],1)],1)])],1),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("utils-select",{ref:"utilsSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("function-select",{ref:"functionSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}}),e._v(" "),a("JsCodeSelect",{ref:"jsCodeSelect",on:{confirm:e.handleJsCodeSelectConfirm}})],1)},i=[]},SAdy:function(e,t,a){"use strict";a("OdLh")},SI83:function(e,t,a){"use strict";a("bVe2")},SMyj:function(e,t,a){},SNTc:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},areaStyleOpacity:{get:function(){return this.elementProps.areaStyleOpacity},set:function(e){var t=o(o({},this.elementProps),{},{areaStyleOpacity:e});this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=r},SUNM:function(e,t,a){"use strict";a.r(t);var n=a("GmPM"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},SUPm:function(e,t,a){"use strict";a.r(t);var n=a("/oe6"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},SeiD:function(e,t,a){"use strict";a.r(t);var n=a("Oh0I"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},SkkS:function(e,t,a){"use strict";a.r(t);var n=a("VoIJ"),i=a("FqkX");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Tc/F");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2cb67d92",null);t.default=r.exports},Ssf0:function(e,t,a){"use strict";a("e6/+")},SzEv:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"source-manage",attrs:{"custom-class":"low-code-dialog",title:"图片选择",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1200px",top:"5vh","before-close":e.handleClose}},[a("div",{staticClass:"dialog-content"},[a("div",{staticClass:"pane-body"},[a("div",{staticClass:"group-list"},[a("n-tree",{ref:"nodeTree",staticClass:"api-group-tree",attrs:{data:e.imageGroupList,"node-key":"id","expand-on-click-node":!0,"default-expand-all":"","highlight-current":"",draggable:!1,"icon-class":"icon-right",props:{children:"children"}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return a("div",{staticClass:"tree-node",class:{"is-selected":e.isSelected(n)},on:{click:function(t){return t.stopPropagation(),e.handleSelect(n)}}},[a("div",{staticClass:"node-name"},[n.rename?a("div",[a("el-input",{attrs:{placeholder:"请输入分组名"},on:{blur:function(t){return e.handleRename(n,n.name)}},model:{value:n.name,callback:function(t){e.$set(n,"name",t)},expression:"data.name"}})],1):a("span",[e._v(e._s(n.name))])])])}}])})],1),e._v(" "),a("div",{staticClass:"panel-body-right"},[e.imageList.length?e._l(e.imageList,(function(t){return a("div",{key:t,staticClass:"image-item",attrs:{title:t.originalName},on:{click:function(a){return e.handleSelectImage(t,a)}}},[e.isShowManage?[a("img",{staticClass:"image",attrs:{src:e.getImageUrl(t.name)}}),e._v(" "),a("div",{staticClass:"name-wrap"},[a("el-checkbox",{attrs:{value:e.selectedImageList.some((function(e){return e.id===t.id}))}}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.originalName))])],1)]:[a("el-image",{staticClass:"image",attrs:{src:e.getImageUrl(t.name),lazy:"",fit:"cover","preview-src-list":[e.getImageUrl(t.name)]}}),e._v(" "),a("div",{staticClass:"name"},[e._v(e._s(t.originalName))])]],2)})):a("n-empty",{attrs:{description:"暂无数据"}})],2)])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确 定")])],1)])},i=[]},"T+Y3":function(e,t,a){var n=a("B3e+");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("52c76f34",n,!0,{})},"T/DR":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"block_content"},[e._l(e.value,(function(t,n){return a("div",{key:""+t.type+n,class:["block","clearfix",{"hide-block":!0===e.hideMyBlock[n]}]},[a("span",{staticClass:"json-key"},[["object","array"].includes(t.type)?a("i",{staticClass:"collapse-down el-icon-arrow-down",on:{click:function(t){return e.closeBlock(n,t)}}}):e._e(),e._v(" "),"string"==typeof t.name?a("el-input",{staticClass:"key-input",attrs:{title:e.formatTip(t.name),type:"text"},on:{blur:function(a){return e.keyInputBlur(t,a)}},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}):e._e()],1),e._v(" "),a("span",{staticClass:"json-val"},["object"===t.type?[a("json-view",{model:{value:t.childParams,callback:function(a){e.$set(t,"childParams",a)},expression:"item.childParams"}})]:e._e(),e._v(" "),"array"===t.type?[a("array-view",{model:{value:t.childParams,callback:function(a){e.$set(t,"childParams",a)},expression:"item.childParams"}})]:e._e(),e._v(" "),["object","array"].includes(t.type)?e._e():[a("span",{staticClass:"val"},["variable"===t.type||e.isValidateVariable(t.remark)?[t.remark.length>6?a("el-tag",{staticClass:"value-tag",attrs:{title:e.formatTip(t.remark),closable:"","disable-transitions":""},on:{click:function(a){return e.handleShowVariableSelect(t,"remark")},close:function(e){t.remark="app.$b"}}},[e._v("\n              "+e._s(e.formatTag(t.remark))+"\n            ")]):a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t,"remark")}}},[e._v("选择变量\n            ")]),e._v(" "),t.remark.length>6&&e.getElementName(t.remark)?a("el-tag",{staticClass:"value-tag",staticStyle:{"margin-left":"10px"},attrs:{title:e.getElementName(t.remark),type:e.getTagType(t.remark)}},[e._v(e._s(e.formatTag(e.getElementName(t.remark),12)))]):e._e()]:e._e(),e._v(" "),"string"!==t.type||e.isValidateVariable(t.remark)?e._e():a("el-input",{staticClass:"val-input",attrs:{title:e.formatTip(t.remark),type:"text"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}}),e._v(" "),"number"===t.type?a("el-input",{staticClass:"val-input",attrs:{title:e.formatTip(t.remark),type:"number"},on:{input:function(a){return e.numberInputChange(t)}},model:{value:t.remark,callback:function(a){e.$set(t,"remark",e._n(a))},expression:"item.remark"}}):e._e(),e._v(" "),"boolean"===t.type?a("el-select",{staticClass:"val-input",attrs:{title:e.formatTip(t.remark),name:"value"},model:{value:t.remark,callback:function(a){e.$set(t,"remark",a)},expression:"item.remark"}},[a("el-option",{attrs:{value:!0,label:"true"}}),e._v(" "),a("el-option",{attrs:{value:!1,label:"false"}})],1):e._e()],2)]],2),e._v(" "),a("div",{staticClass:"tools"},["object"===t.type?a("i",{staticClass:"i-type"},[e._v(e._s("{"+t.childParams.length+"}"))]):e._e(),e._v(" "),"array"===t.type?a("i",{staticClass:"i-type"},[e._v(e._s("["+t.childParams.length+"]"))]):e._e(),e._v(" "),a("el-select",{staticClass:"tools-types",on:{change:function(a){return e.itemTypeChange(t)}},model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"item.type"}},e._l(e.formats,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1),e._v(" "),e.editorProvide.showButtons?a("i",{staticClass:"del-btn",attrs:{title:"新增同级节点"},on:{click:e.addItem}},[a("i",{staticClass:"add-btn-primary"},[e._v("+")])]):e._e(),e._v(" "),e.editorProvide.showButtons?a("i",{staticClass:"del-btn",on:{click:function(a){return e.delItem(e.value,t,n)}}},[a("i",{staticClass:"add-btn-primary"},[e._v("-")])]):e._e()],1)])})),e._v(" "),!e.value.length&&e.editorProvide.showButtons?a("div",{staticClass:"block add-key",on:{click:e.addItem}},[a("i",{staticClass:"add-btn-primary",attrs:{title:"新增子节点"}},[e._v("+")])]):e._e()],2)},i=[]},T0tg:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("KQm4")),r=n(a("YLtl")),s=a("7Qib"),c=n(a("L0Hc")),u=n(a("t2rG")),d=n(a("E0s0")),p=n(a("Mqf6")),f=a("a+hW"),v=n(a("0hJt")),m=a("7C5+"),h=a("8SHQ"),b={components:{draggable:u.default,VueJsonPretty:d.default,jsFormat:c.default},inject:(0,o.default)(m.pageInject),mixins:[p.default],props:{data:{type:Object,require:!0},activeDataType:{type:String,require:!0},elementProps:{type:Object,require:!0},staticData:{type:Object,require:!0},dataMapping:{type:Array,require:!0}},data:function(){return{tips:"支持JS原生语法，使用“参数名”进行取值, 使用return返回结果，示例JS：\n  return data",dragVal:[],allField:[],xField:[],yField:[],soureData:[],active:"response",editIndex:-1,selectedPath:"",defaultArguments:[{key:"data",value:void 0,test:void 0,name:"源数据",desc:"源数据",definedTest:!1}],chartInstance:null}},mounted:function(){this.handleInitDnD()},beforeDestroy:function(){var e;null===(e=this.chartInstance)||void 0===e||e.destroy()},methods:{jsFormatOpen:function(e,t){this.editIndex=t,this.$refs.jsFormat.open({id:e.replace(h.FUNCTION_FLAG,"")})},deleteJsFormat:function(e){this.dataMapping[e].formatCode="",this.init()},deleteSourcePath:function(e){this.dataMapping[e].sourcePath=""},configSelectChange:function(e,t){this.dataMapping[t].mappingPath=r.default.cloneDeep(e),this.init()},jsFormatConfirm:function(e){this.dataMapping[this.editIndex].formatCode="".concat(h.FUNCTION_FLAG).concat(e),this.init()},handleDrop:function(e){var t=e.target.dataset.key;this.dataMapping[t].sourcePath=(0,f.getPathList)(this.selectedPath),this.init()},addMapping:function(){this.dataMapping.push({sourcePath:[],mappingPath:[],formatCode:""}),this.dataMapping=r.default.cloneDeep(this.dataMapping)},deleteMapping:function(e){this.dataMapping.splice(e,1)},hidePrefix:function(e){if(e instanceof Array)return e.slice(1).join("/")},showLastPath:function(e){return e[e.length-1]},init:(0,s.debounce)((0,l.default)(i.default.mark((function e(){var t=this;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:this.responseData&&a.e(6).then(a.bind(null,"ma/q")).then((function(e){var a=t.chartOption,n=t.dataMapping,i=r.default.cloneDeep(a);n.forEach((function(e){var a=e.sourcePath,n=e.mappingPath,l=e.formatCode;if(a.length&&n.length){var o,s=r.default.get({response:t.responseData},a);o=l?v.default.getFuncValueByParams({functionId:l,extraParams:[{key:"data",value:s}],vueThis:t}):s,r.default.set(i,n,o)}})),t.chartInstance?t.chartInstance.update(i):(t.chartInstance=new e[t.elementProps.type]("antv-chart-preview-demo",i),t.chartInstance.render())}));case 3:case"end":return e.stop()}}),e,this)}))),100)},computed:{responseData:function(){var e=this.activeDataType,t=this.staticData;return["api","sql"].includes(e)?this.data:t},chartOption:function(){return v.default.getObjectVariables(this.elementProps.chartConfigId,[],this)},chartConfigSelectOption:function(){return(0,f.getObjectTree)(this.chartOption)}},watch:{}};t.default=b},T4wa:function(e,t,a){var n=a("jivD");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("5564c560",n,!0,{})},T9eG:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I"));n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{widthOptions:{unit:[{label:"px",value:""}]},lengthOptions:{unit:[{label:"px",value:""},{label:"%",value:"%"}]}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=s},TJTA:function(e,t,a){"use strict";a("qc44")},TMjU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=a("vK6H");function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{options:[{label:"文件",value:"file"},{label:"图片",value:"image"},{label:"视频",value:"video"}],extOption:l.extOption}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{getType:function(e){return this.value.type===e?"primary":"default"},radioChange:function(e){this.value.type=e,this.value.ext=[]}}};t.default=s},TUx0:function(e,t,a){},TV9y:function(e,t,a){},"Tc/F":function(e,t,a){"use strict";a("w+6O")},TdN6:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.elementProps.showControl?a("div",{staticClass:"variable-input"},[a("div",{staticClass:"content",class:{"is-show-detail":e.isShowDetail},on:{click:function(t){e.isShowDetail=!e.isShowDetail}}},[a("div",{staticClass:"label"},[a("i",{staticClass:"arrow-icon iconfont icon-right"}),e._v(" "+e._s(e.name)+"\n    ")])]),e._v(" "),e.isShowDetail?a("div",{staticClass:"inner-content"},[e._m(0),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.type+""+n,staticClass:"content"},[a("el-select",{model:{value:t.type,callback:function(a){e.$set(t,"type",a)},expression:"btn.type"}},[a("el-option",{attrs:{label:"文字",value:"text"}}),e._v(" "),a("el-option",{attrs:{label:"图标",value:"icon"}})],1),e._v(" "),"text"===t.type?a("el-input",{model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"btn.label"}}):e._e(),e._v(" "),"icon"===t.type?a("el-input",{model:{value:t.icon,callback:function(a){e.$set(t,"icon",a)},expression:"btn.icon"}}):e._e(),e._v(" "),a("div",{staticClass:"config"},[a("i",{staticClass:"iconfont icon-shanchu8",on:{click:function(t){return e.handleDeleteColumn(n)}}})])],1)})),0)],1),e._v(" "),a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"content add",on:{click:e.handleAddColumn}},[a("i",{staticClass:"iconfont el-icon-circle-plus-outline"}),e._v("\n      添加按钮\n    ")])],1):e._e()]):e._e()},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"title"},[a("span",[e._v("类型")]),a("span",[e._v("标题")])])}]},Tf9I:function(e,t,a){"use strict";a("V/Ln")},TjKm:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=a("xBdn"),r=n(a("YLtl")),s=n(a("t2rG")),c=a("0O+R"),u=a("cCei"),d=a("mtVH"),p=a("7C5+");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={header:"",key:"",lazy:!0,disabled:!1,hidden:!1,active:!1,showArrow:!0},h={components:{draggable:s.default},inject:["dndOptions"].concat((0,l.default)(p.pageInject)),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:r.default.cloneDeep(m),rules:{header:(0,o.getValidators)([{message:"请输入面板标题",include:o.required,trigger:"change"}]),key:(0,o.getValidators)([{message:"请输入面板编码",include:o.required,trigger:"change"}])},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[]}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,c.getNodeByElementId)(this.layoutData,this.elementProps.elementId)},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=v(v({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{errorToast:function(){this.$message.error("至少要保留一个")},doDelete:function(){var e=this;if(this.selectedList.length===this.value.length)return this.errorToast();this.value=this.value.filter((function(t){return!e.selectedList.includes(t.key)}));var t=this.selectedList.map((function(t){return e.currentElement.children.find((function(a){return e.getElementPropsById(a.elementId).slotName===t})).elementId}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementIdList:t}),this.dndOptions.selectedId=this.currentElement.elementId,this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.key})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleEditColumn:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(v(v({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){var t=this;if(1===this.value.length)return this.errorToast();var a=this.value[e].key,n=this.currentElement.children.find((function(e){return t.getElementPropsById(e.elementId).slotName===a}));this._storeDispatch(u.DELETE_LAYOUT_DATA,{elementId:n.elementId}),this.dndOptions.selectedId=this.currentElement.elementId,this.value.splice(e,1),this.value=(0,l.default)(this.value)},handleAddColumn:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=r.default.cloneDeep(m),this.variableForm.isAdd=!0,this.variableForm.key="pane".concat((0,c.getRandomHexadecimal)(6)),this.edtingIndex=void 0},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=r.default.cloneDeep(e.value);if(void 0===e.edtingIndex){var n=r.default.cloneDeep(e.variableForm);if(a.some((function(e){return e.key===n.key})))return void e.$message.error("编码不能重复！");delete n.isAdd;var l={elementId:"",elementType:"slot",elementVersion:(0,d.getLastVersion)("slot"),elementName:n.header,defaultProps:{slotName:n.key},children:[]};c.buildNewWidget.call(e,l,e.currentElement.elementId,"center"),a.push(n);var o=v(v({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",o)}else{var s=r.default.cloneDeep(e.variableForm);delete s.isAdd;var p=a[e.edtingIndex].key,f=s.key;if(p!==f&&a.some((function(e){return e.key===f})))return void e.$message.error("编码不能重复！");var m=s.header,h=e.currentElement.children.find((function(t){return e.getElementPropsById(t.elementId).slotName===p})),b=[];b.push((0,i.default)({},h.elementId,{slotName:f,elementName:m})),e._storeCommit(u.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:b}),a[e.edtingIndex]=s;var g=v(v({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",g)}e.popoverVisible=!1}}))},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=h},TjuW:function(e,t,a){},"Tn+e":function(e,t,a){var n=a("yMNJ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f4abee34",n,!0,{})},ToIJ:function(e,t,a){"use strict";a.r(t);var n=a("+9Pu"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},TslF:function(e,t,a){"use strict";a.r(t);var n=a("KNDQ"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Tuwp:function(e,t,a){var n=a("Us2b");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("c33f68ce",n,!0,{})},TwQD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{on:{change:e.switchChange},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),e.isChecked?a("el-popover",{attrs:{placement:"right",width:"250",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{"label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:"导出图片"}},[a("el-switch",{model:{value:e.value.saveAsImage,callback:function(t){e.$set(e.value,"saveAsImage",t)},expression:"value.saveAsImage"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据视图"}},[a("el-switch",{model:{value:e.value.dataView,callback:function(t){e.$set(e.value,"dataView",t)},expression:"value.dataView"}})],1),e._v(" "),e.linBarType?a("el-form-item",{attrs:{label:"动态类型切换"}},[a("el-switch",{model:{value:e.value.magicType,callback:function(t){e.$set(e.value,"magicType",t)},expression:"value.magicType"}})],1):e._e(),e._v(" "),e.linBarType?a("el-form-item",{attrs:{label:"数据区域缩放"}},[a("el-switch",{model:{value:e.value.dataZoom,callback:function(t){e.$set(e.value,"dataZoom",t)},expression:"value.dataZoom"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"重置"}},[a("el-switch",{model:{value:e.value.restore,callback:function(t){e.$set(e.value,"restore",t)},expression:"value.restore"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排布方式"}},[a("el-radio-group",{model:{value:e.value.orient,callback:function(t){e.$set(e.value,"orient",t)},expression:"value.orient"}},[a("el-radio-button",{attrs:{label:"horizontal"}},[e._v("横向")]),e._v(" "),a("el-radio-button",{attrs:{label:"vertical"}},[e._v("纵向")])],1)],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1):e._e()],1)},i=[]},TwdA:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{prop:e.propKey}},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.name))]),e._v(" "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],2)},i=[]},Tx5Z:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("ODXe")),s=n(a("KQm4")),c=n(a("GhP2")),u=n(a("Vakw")),d=n(a("I5d0")),p=n(a("ggmQ")),f=n(a("hTh9")),v=a("xBdn"),m=n(a("YLtl")),h=n(a("KEv7")),b=a("a+hW"),g=n(a("oRZJ")),y=a("7Qib"),_=a("7C5+"),k=n(a("slWK"));function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={name:"DevopsConfig",inject:(0,s.default)(_.pageInject),components:{GatewayDataSelect:c.default,CustomApiDataSelect:f.default,ScriptData:u.default,OrchestrationData:d.default,SncflowerData:p.default},mixins:[g.default],props:{apiRequest:{type:Object,required:!0,default:function(){return{url:"",method:"POST",type:"script",paramsData:[],bodyData:[{key:"",value:void 0,test:void 0,desc:void 0}],headersData:[],apiDetail:void 0}}},callbackId:{type:String},responseOptions:{type:Array},emitEvent:{type:Object,required:!1}},data:function(){return{loading:!1,activeCollapse:["config"],activeParamsName:"bodyData",rules:{url:(0,v.getValidators)([{message:"请选择",include:v.required,trigger:"change"}])},variableRowDetail:null,types:[{label:"操作",value:"script"},{label:"编排",value:"orchestration"},{label:"调度",value:"sncflower"}]}},computed:{dynamicProps:function(){return this.getStore().dynamicProps},currentParamsData:function(){return this.apiRequest[this.activeParamsName]},paramsSource:{get:function(){return{bodyData:Object.fromEntries(this.apiRequest.bodyData.map((function(e){return[[e.key],e.value]}))),paramsData:Object.fromEntries(this.apiRequest.paramsData.map((function(e){return[[e.key],e.value]}))),headersData:Object.fromEntries(this.apiRequest.headersData.map((function(e){return[[e.key],e.value]})))}},set:function(e){this.apiRequest[this.activeParamsName]=Object.entries(e).map((function(e){var t=(0,r.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:(0,y.isValidateVariable)(n)?void 0:JSON.parse(JSON.stringify(void 0===n?null:n,(function(e,t){return(0,y.isValidateVariable)(t)?null:t})))}}))}},title:function(){switch(this.apiRequest.type){case"script":return"操作名称：";case"orchestration":return"编排名称：";case"sncflower":return"调度名称："}},currentName:function(){var e,t,a;switch(this.apiRequest.type){case"script":return null===(e=this.apiRequest.apiDetail)||void 0===e?void 0:e.scriptName;case"orchestration":return null===(t=this.apiRequest.apiDetail)||void 0===t?void 0:t.name;case"sncflower":return null===(a=this.apiRequest.apiDetail)||void 0===a?void 0:a.name}}},watch:{apiRequest:{handler:function(e,t){var a,n,i;if(!m.default.isEqual(e,t)){var l=O(O({},e),{},{bodyData:null===(a=e.bodyData)||void 0===a?void 0:a.map((function(e){return O(O({},e),{},{value:e.value,test:e.test})})),paramsData:null===(n=e.paramsData)||void 0===n?void 0:n.map((function(e){return O(O({},e),{},{value:e.value,test:e.test})})),headersData:null===(i=e.headersData)||void 0===i?void 0:i.map((function(e){return O(O({},e),{},{value:e.value,test:e.test})}))});this.$emit("update:apiRequest",l)}},deep:!0,immediate:!0}},methods:{isFile:function(e){return e instanceof File},selectFile:function(e){this.$refs["fileRef"+e].click()},fileChange:function(e,t){var a=(0,r.default)(e.target.files,1)[0];this.currentParamsData[t].test=a,e.target.value=""},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId,emitEvent:this.emitEvent})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;if(n&&(this.$set(a,n,e),"snc-token"===a.key)){var l=window.localStorage.getItem("loginKey");if(l){var o,r=null===(o=JSON.parse(l))||void 0===o?void 0:o["snc-token"];this.$set(a,"test",r)}}null==i||i(e)},handleAddParams:function(){this.currentParamsData.push({key:"",value:void 0,test:void 0})},handleDeleteParams:function(e){var t=this.currentParamsData;if(1===t.length)return t[0].key="",t[0].value=void 0,void(t[0].test=void 0);t.splice(e,1)},handleGetScriptId:function(){var e=this;return this.$emit("response",{response:null,responseOptions:[]}),this.loading=!0,new Promise((function(t,a){var n,i;(0,h.default)({url:k.default.atmScriptList,method:"POST",data:{params:{condition:{isBuilt:null===(n=e.apiRequest.apiDetail)||void 0===n?void 0:n.isBuilt,scriptName:null===(i=e.apiRequest.apiDetail)||void 0===i?void 0:i.scriptName},pagination:{pagenum:1,pagesize:1}}},headers:(0,y.getCommonHeaders)()}).then((function(e){var a=e.data;t(a.data.records[0].scriptId)})).catch((function(t){e.loading=!1,a(t)}))}))},handleGetOrchestrationId:function(){var e=this;return this.$emit("response",{response:null,responseOptions:[]}),this.loading=!0,new Promise((function(t,a){var n;(0,h.default)({url:k.default.atmOrchestrationList,method:"POST",data:{params:{condition:{executeType:1,name:null===(n=e.apiRequest.apiDetail)||void 0===n?void 0:n.name},pagination:{pagenum:1,pagesize:1}}},headers:(0,y.getCommonHeaders)()}).then((function(e){var a=e.data;t(a.data.records[0].orchestrationId)})).catch((function(t){e.loading=!1,a(t)}))}))},handleGetWorkflowId:function(){var e=this;return this.$emit("response",{response:null,responseOptions:[]}),this.loading=!0,new Promise((function(t,a){var n;(0,h.default)({url:k.default.atmSncflowerList,method:"POST",data:{params:{condition:{name:null===(n=e.apiRequest.apiDetail)||void 0===n?void 0:n.name},pagination:{pagenum:1,pagesize:1}}},headers:(0,y.getCommonHeaders)()}).then((function(e){var a=e.data;t(a.data.records[0].id)})).catch((function(t){e.loading=!1,a(t)}))}))},handleFetch:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=b.getApiRequestParams.call(e,e.apiRequest),t.prev=1,t.t0=e.apiRequest.type,t.next="script"===t.t0?5:"orchestration"===t.t0?9:"sncflower"===t.t0?13:17;break;case 5:return t.next=7,e.handleGetScriptId();case 7:return a.data.params.entity.layoutId=t.sent,t.abrupt("break",17);case 9:return t.next=11,e.handleGetOrchestrationId();case 11:return a.data.params.orchestrationId=t.sent,t.abrupt("break",17);case 13:return t.next=15,e.handleGetWorkflowId();case 15:return a.data.params.workflowRunBean.workflowId=t.sent,t.abrupt("break",17);case 17:t.next=24;break;case 19:return t.prev=19,t.t1=t.catch(1),e.loading=!1,e.$message.error("接口测试失败！"),t.abrupt("return");case 24:console.log(a),(0,h.default)({url:a.url,method:a.method,data:a.data,params:a.params,headers:a.headers}).then((function(t){e.$emit("response",{response:t.data,responseOptions:(0,b.getObjectTree)(t.data)})})).catch((function(t){e.$message.error("接口测试失败！")})).finally((function(){e.loading=!1}));case 26:case"end":return t.stop()}}),t,null,[[1,19]])})))()},handleShowDevopsDataSelect:function(){this.$refs["".concat(this.apiRequest.type,"Data")].open(this.apiRequest.apiDetail)},handleSelectConfirm:function(e){var t=e.apiRequest,a=e.apiDetail;this.apiRequest=m.default.cloneDeep(O(O({},t),{},{apiDetail:a})),this.$emit("update:apiRequest",this.apiRequest)},changeType:function(e){this.apiRequest.type=e,this.apiRequest.url="",this.apiRequest.apiDetail=void 0}}};t.default=w},U61s:function(e,t,a){var n=a("0IgR");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4ba8e474",n,!0,{})},U7sq:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.options=void 0;t.options=[{value:"Line",label:"折线图"},{value:"Area",label:"面积图"},{value:"Column",label:"柱状图"},{value:"Bar",label:"条形图"},{value:"Pie",label:"饼图"},{value:"Gauge",label:"仪表盘"},{value:"Scatter",label:"散点图"},{value:"DualAxes",label:"双轴图"},{value:"Liquid",label:"水波图"},{value:"Radar",label:"雷达图"},{value:"WordCloud",label:"词云图"},{value:"Funnel",label:"漏斗图"},{value:"Bullet",label:"子弹图"},{value:"Histogram",label:"直方图"},{value:"Venn",label:"Venn"},{value:"Rose",label:"玫瑰图"},{value:"TinyLine",label:"迷你折线图"},{value:"TinyArea",label:"迷你面积图"},{value:"TinyColumn",label:"迷你柱形图"},{value:"Sunburst",label:"旭日图"},{value:"Stock",label:"股票图"},{value:"RingProgress",label:"进度环图"},{value:"Progress",label:"进度条图"},{value:"Box",label:"箱型图"},{value:"Heatmap",label:"热力图"},{value:"Waterfall",label:"瀑布图"},{value:"RadialBar",label:"玉珏图"},{value:"BidirectionalBar",label:"对称条形图"},{value:"Sankey",label:"桑基图"},{value:"Treemap",label:"矩阵树图"},{value:"Violin",label:"小提琴图"},{value:"CirclePacking",label:"Circle packing"}]},U7zl:function(e,t,a){},UBEL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("U8pU")),l=n(a("rePB")),o=n(a("YLtl"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c="rgba(30, 144, 255, 1)",u={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},vue:{type:String}},data:function(){return{isUseGradient:!1,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgb(255, 120, 0)"]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=s(s({},this.elementProps),{},(0,l.default)({},this.propKey,e));this.$emit("update",t)}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){this.isUseGradient="object"===(0,i.default)(e[this.elementProps.type].strokeColor)}}},methods:{handleIsUseGradientChange:function(e){var t=this.value[this.elementProps.type].strokeColor;t=e?"line"===this.elementProps.type?{from:c,to:c}:{"0%":c,"100%":c}:c;var a=o.default.cloneDeep(this.value);this.value=s(s({},a),{},(0,l.default)({},this.elementProps.type,s(s({},a[this.elementProps.type]),{},{strokeColor:o.default.cloneDeep(t)})))}}};t.default=u},UBEa:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("YLtl")),r=n(a("r5ug")),s=n(a("Wk/A")),c=a("ZDQs"),u=a("8SHQ"),d=a("tgb1"),p=a("7C5+");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={inject:(0,l.default)(p.pageInject),components:{dataSelector:r.default,Select:s.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!0}},data:function(){return{popoverVisible:!1,useFormat:!1,rowInfo:{},xFields:[],yFields:[],formatOption:{},xPositionOptions:[{label:"左",value:"start"},{label:"中",value:"center"},{label:"右",value:"end"}],YPositionOptions:[{label:"上",value:"end"},{label:"中",value:"center"},{label:"下",value:"start"}],positionOptions:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"},{label:"数据中间",value:"inside"}],sizeOptions:[{label:"小",value:"small"},{label:"中",value:"medium"},{label:"大",value:"large"}],symbolOptions:[{label:"圆",value:"circle"},{label:"矩形",value:"rect"},{label:"圆角矩形",value:"roundRect"},{label:"三角形",value:"triangle"},{label:"钻石",value:"diamond"},{label:"圆钉",value:"pin"},{label:"箭头",value:"arrow"},{label:"无",value:"none"}],formatTips:u.formatTips}},computed:{dataType:{get:function(){return this.elementProps.dataType},set:function(e){var t=v(v({},this.elementProps),{},{dataType:e}),a=this.elementProps,n=a.elementType,i=a.elementVersion;if("dynamic"===e){var l=(0,d.getConfig)(n,i),o=l.dynamicRequestData,r=l.yFieldsMap;t.staticData=o,t.dynamicVariables=d.getPropsValues.call(this,{elementType:n,elementVersion:i}).dynamicVariables,t.dataVariables=this.elementProps.dataVariables.map((function(e){return"yAxis"===e.key&&(e.fields=r),e}))}else{var s=d.getPropsValues.call(this,{elementType:n,elementVersion:i}),c=s.staticData,u=s.dataVariables;t.staticData=c,t.dataVariables=u}this.$emit("update",t)}},showDataType:function(){return Object.prototype.hasOwnProperty.call(this.elementProps,"dataType")&&this.elementProps.dynamicVariables},dataVariables:{get:function(){return this.elementProps.dataVariables},set:function(e){this.$emit("update",v(v({},this.elementProps),{},{dataVariables:e}))}},xSetting:{get:function(){return this.elementProps.xSetting},set:function(e){this.$emit("update",v(v({},this.elementProps),{},{xSetting:e}))}},ySetting:{get:function(){return this.elementProps.ySetting},set:function(e){this.$emit("update",v(v({},this.elementProps),{},{ySetting:e}))}},chartType:function(){return c.chartType[this.elementProps.elementType]},preset:function(){var e=this.elementProps,t=e.elementType,n=e.elementVersion;return a("K1Nn")("./".concat(t,"/").concat(n,"/watch-props.js")).yField_tpl}},watch:{dataVariables:{deep:!0,immediate:!0,handler:function(e){var t,a;this.xFieldsIndex=e.findIndex((function(e){return"xAxis"===e.key})),this.xFields=(null===(t=e[this.xFieldsIndex])||void 0===t?void 0:t.fields)||[],this.yFieldsIndex=e.findIndex((function(e){return"yAxis"===e.key})),this.yFields=(null===(a=e[this.yFieldsIndex])||void 0===a?void 0:a.fields)||[]}}},methods:{addXFields:function(){var e="key"+(this.xFields.length+1);this.xFields.push(v(v({},o.default.cloneDeep(this.preset)),{},{name:e})),this.dataVariables[this.xFieldsIndex].fields=o.default.cloneDeep(this.xFields)},deleteXItem:function(e){this.xFields.splice(e,1),this.dataVariables[this.xFieldsIndex].fields=o.default.cloneDeep(this.xFields)},addYFields:function(){var e="key"+(this.yFields.length+1);this.yFields.push(v(v({},o.default.cloneDeep(this.preset)),{},{key:e,value:e})),this.dataVariables[this.yFieldsIndex].fields=o.default.cloneDeep(this.yFields)},deleteYItem:function(e){this.yFields.splice(e,1),this.dataVariables[this.yFieldsIndex].fields=o.default.cloneDeep(this.yFields)},dataSelectUpdate:function(e){this.$emit("update",e)},rowEdit:function(e){this.rowInfo=o.default.cloneDeep(e)},setData:function(e,t){for(var a in t)e[a]=t[a]}},mounted:function(){this.useFormat=!!this.ySetting.formatter}};t.default=m},UDYz:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"layout-placeholder",class:{"select-mode":e.isShowType},attrs:{"data-zone":e.elementId+"_"+e.elementType}},[e.isShowType?a("div",{staticClass:"select-layout"},[a("div",{staticClass:"select-layout-title"},[e._v("选择页面布局")]),e._v(" "),a("div",{staticClass:"select-layout-desc"},[e._v("\n      (默认流式布局，可直接拖拽组件进行使用)\n    ")]),e._v(" "),a("div",{staticClass:"select-layout-button"},[a("div",{staticClass:"select-layout-button-item"},[a("span",{staticClass:"item-text"},[e._v("流式布局")]),e._v(" "),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"video",on:{click:function(t){return e.chooseType("normal")}}},[a("video",{attrs:{autoplay:"autoplay",loop:"loop",muted:"",src:e.$getImgPrefix("/video/1.mp4")},domProps:{muted:!0}})])]),e._v(" "),a("div",{staticClass:"select-layout-button-item"},[a("span",{staticClass:"item-text"},[e._v("可拖拽布局")]),e._v(" "),a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"video",on:{click:function(t){return e.chooseType("dnd")}}},[a("video",{attrs:{autoplay:"autoplay",loop:"loop",muted:"",src:e.$getImgPrefix("/video/2.mp4")},domProps:{muted:!0}})])])])]):a("span",{staticClass:"empty-text"},[e._v("\n    "+e._s(e.emptyText)+"\n  ")])])},i=[]},UGjd:function(e,t,a){"use strict";a.r(t);var n=a("DfwP"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},UKdE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart-field-selector"},[a("el-row",[a("el-col",{attrs:{span:12}},[e.isStaticData?e._e():[a("div",{staticClass:"chart-field-title"},[e._v("数据体路径")]),e._v(" "),a("div",{staticClass:"data-path drop-zone-path",attrs:{"data-key":"sourcePath"}},[e.selectedDataPath&&e.selectedDataPath.length?a("n-tooltip",{attrs:{value:e.hidePrefix(e.selectedDataPath)}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(t){e.selectedDataPath="",e.init()}}},[e._v(e._s(e.showLastPath(e.selectedDataPath)))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)],e._v(" "),e.isDynamic?a("el-row",[a("div",{staticClass:"chart-field-title"},[e._v("变量映射")]),e._v(" "),a("n-table",{staticStyle:{"margin-top":"10px",width:"calc(100% - 15px)"},attrs:{size:"mini",data:e.showDynamicVariables,border:""}},[a("n-table-column",{attrs:{label:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"variable-label"},[a("span",{staticClass:"label",class:{require:n.require}},[e._v(e._s(n.label))]),e._v(" "),n.desc?a("el-tooltip",{attrs:{effect:"dark",content:n.desc,placement:"top"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)]}}],null,!1,953190779)}),e._v(" "),a("n-table-column",{attrs:{prop:"key",label:"编码"}}),e._v(" "),a("n-table-column",{attrs:{label:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}],null,!1,1589887621)})],1)],1):e._e(),e._v(" "),e.isDynamic?e._e():[a("div",{staticClass:"chart-field-title"},[e._v("已提取字段")]),e._v(" "),a("div",{staticClass:"data-path field-content"},[a("draggable",{attrs:{group:"itxst",move:e.moveTag,animation:"300",draggable:".filed-item"},model:{value:e.allField,callback:function(t){e.allField=t},expression:"allField"}},[a("transition-group",e._l(e.allField,(function(t){return a("el-tag",{key:t,staticClass:"filed-item"},[e._v("\n                "+e._s(t)+"\n              ")])})),1)],1),e._v(" "),e.allField.length?e._e():a("span",{staticClass:"empty-tips"},[e._v(e._s(e.selectedDataPath?"可用字段为空":"请先选取数据体路径"))])],1),e._v(" "),["gauge","radar"].includes(e.chartType)?e._e():a("el-row",[a("div",{staticClass:"chart-field-title"},[e._v(e._s(e.xTitle[e.chartType])+"(最多选一个)")]),e._v(" "),a("div",{staticClass:"field-area",attrs:{to:"xField"}},[a("draggable",{attrs:{group:"itxst",animation:"300",draggable:".filed-item"},model:{value:e.xField,callback:function(t){e.xField=t},expression:"xField"}},[a("transition-group",e._l(e.xField,(function(t){return a("el-tag",{key:t.key,staticClass:"filed-item",attrs:{closable:""},on:{close:function(t){return e.xField.splice(e.index,1)}}},[e._v("\n                  "+e._s(t.key)+"\n                ")])})),1),a("span",{staticClass:"filed-item"})],1),e._v(" "),e.xField.length?e._e():a("span",{staticClass:"empty-tips"},[e._v("拖拽字段至框内")])],1)])],e._v(" "),["radar"].includes(e.chartType)?a("el-row",[a("div",{staticClass:"chart-field-title"},[e._v("\n          "+e._s(e.xTitle[e.chartType])+"\n          "),a("el-button",{attrs:{type:"text"},on:{click:e.addXFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("添加类目字段")])],1),e._v(" "),a("div",{staticClass:"field-area"},[e._l(e.xField,(function(t,n){return a("div",{key:n,staticClass:"filed-item cursorNormal"},[a("el-input",{staticClass:"name-input",attrs:{clearable:"",size:"mini",placeholder:"输入类目名字"},model:{value:t.name,callback:function(a){e.$set(t,"name",a)},expression:"item.name"}}),e._v(" "),a("el-switch",{staticClass:"max-switch",model:{value:t.useMax,callback:function(a){e.$set(t,"useMax",a)},expression:"item.useMax"}}),e._v(" "),t.useMax?a("el-input-number",{attrs:{size:"mini"},model:{value:t.max,callback:function(a){e.$set(t,"max",a)},expression:"item.max"}}):a("span",{staticClass:"max-desc"},[e._v("不设置最大值")]),e._v(" "),a("i",{staticClass:"el-icon-error",on:{click:function(t){return e.xField.splice(n,1)}}})],1)})),e._v(" "),e.xField.length?e._e():a("span",{staticClass:"empty-tips"},[e._v("请添加类目字段")])],2)]):e._e(),e._v(" "),e.isDynamic?e._e():a("el-row",[a("div",{staticClass:"chart-field-title"},[e._v(e._s(e.yTitle[e.chartType]))]),e._v(" "),a("div",{staticClass:"field-area"},[a("el-form",{staticClass:"y-field-form",attrs:{"label-width":"120px",to:"yField"}},[a("draggable",{attrs:{group:"itxst",animation:"300",draggable:".filed-item"},model:{value:e.yField,callback:function(t){e.yField=t},expression:"yField"}},[a("transition-group",[["line","bar","gauge","scatter","radar"].includes(e.chartType)?e._l(e.yField,(function(t,n){return a("el-form-item",{key:t.key,attrs:{label:t.key,title:t.key}},[a("el-input",{attrs:{placeholder:"请输入该字段对应的图例名称"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"item.value"}}),e._v(" "),a("i",{staticClass:"el-icon-error",on:{click:function(t){return e.yField.splice(n,1)}}})],1)})):e._l(e.yField,(function(t){return a("el-tag",{key:t.key,staticClass:"filed-item",attrs:{closable:""},on:{close:function(t){return e.yField.splice(e.index,1)}}},[e._v("\n                    "+e._s(t.key)+"\n                  ")])}))],2),e._v(" "),a("span",{staticClass:"filed-item"})],1)],1),e._v(" "),e.yField.length?e._e():a("span",{staticClass:"empty-tips"},[e._v("拖拽字段至框内")])],1)])],2),e._v(" "),a("el-col",{attrs:{span:12}},[e.showResponse?a("el-radio-group",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("el-radio-button",{attrs:{label:"response"}},[e._v("响应体")]),e._v(" "),a("el-radio-button",{attrs:{label:"preview"},on:{click:e.init}},[e._v("预览")])],1):e._e(),e._v(" "),a("div",{staticClass:"field-area chart-demo-box"},["response"===e.active&&e.showResponse?[e.data?[a("vue-json-pretty",{staticClass:"json-pretty no-select",attrs:{path:"response",data:e.data,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}})]:a("span",{staticClass:"empty-tips"},[e._v("点击上方测试按钮")])]:e._e(),e._v(" "),"preview"!==e.active&&e.showResponse?e._e():[e.chartRender?a("chart-demo",{attrs:{type:e.chartType,currentProps:Object.assign({},e.currentProps,{dataVariables:e.dataVariables,dynamicVariables:e.dynamicVariables}),data:e.soureData,xField:e.xField,yField:e.yField}}):a("span",{staticClass:"empty-tips"},[e._v(e._s(e.selectedDataPath?"当前数据路径无数据":"需要先选择响应体中的映射字段"))])]],2)],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1)},i=[]},ULPY:function(e,t,a){"use strict";a("BqHU")},UOw8:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{buttonTypes:[{label:"主要",value:"primary"},{label:"成功",value:"success"},{label:"信息",value:"info"},{label:"警告",value:"warning"},{label:"危险",value:"danger"}]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=r},URRq:function(e,t,a){var n=a("FB16");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2c9ae20a",n,!0,{})},USmc:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{on:{change:e.switchChange},model:{value:e.isChecked,callback:function(t){e.isChecked=t},expression:"isChecked"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),e.value?a("el-popover",{attrs:{"popper-class":"setting-popover",placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{"label-position":"left","label-width":"120px"}},["showTrigger"===e.optionkey?a("el-form-item",{attrs:{label:"数据提示触发"}},[a("el-radio-group",{model:{value:e.value.trigger,callback:function(t){e.$set(e.value,"trigger",t)},expression:"value.trigger"}},[a("el-radio-button",{attrs:{label:"item"}},[e._v("数据线")]),e._v(" "),a("el-radio-button",{attrs:{label:"axis"}},[e._v("坐标轴")])],1)],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"格式化"}},[a("el-switch",{on:{change:e.formatChange},model:{value:e.useFormat,callback:function(t){e.useFormat=t},expression:"useFormat"}})],1),e._v(" "),e.useFormat?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:e.value.formatter,callback:function(t){e.$set(e.value,"formatter",t)},expression:"value.formatter"}})],1):e._e()],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1):e._e()],1)},i=[]},UV2i:function(e,t,a){"use strict";a.r(t);var n=a("s5yv"),i=a("SUNM");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ULPY");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"49e530d8",null);t.default=r.exports},UWEy:function(e,t,a){},UllI:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[a("div",{staticClass:"inner-content"},[a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("面板标题")]),e._v(" "),a("span",{staticClass:"key"},[e._v("默认展开")])],1),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300",handle:".el-icon-rank"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.key,staticClass:"content",style:{opacity:t.hidden?"0.5":"1"}},[e.deleteMode?a("el-checkbox",{attrs:{label:t.key},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.header))]),e._v(" "),a("span",{staticClass:"key"},[a("el-switch",{model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"col.active"}})],1),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDeleteColumn(n)}}},[e._v("删除\n            ")])],1)],1)})),0)],1)],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticClass:"add-reg-exp-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleAddColumn}},[e._v("\n      +\n    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"300",trigger:"manual",title:e.variableForm.isAdd?"新增":"编辑"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"面板标题",required:"",prop:"header"}},[a("el-input",{model:{value:e.variableForm.header,callback:function(t){e.$set(e.variableForm,"header","string"==typeof t?t.trim():t)},expression:"variableForm.header"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"标签编码",required:"",prop:"key"}},[a("el-input",{model:{value:e.variableForm.key,callback:function(t){e.$set(e.variableForm,"key","string"==typeof t?t.trim():t)},expression:"variableForm.key"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"是否隐藏",prop:"hidden"}},[a("el-switch",{model:{value:e.variableForm.hidden,callback:function(t){e.$set(e.variableForm,"hidden",t)},expression:"variableForm.hidden"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"是否禁用",prop:"disabled"}},[a("el-switch",{model:{value:e.variableForm.disabled,callback:function(t){e.$set(e.variableForm,"disabled",t)},expression:"variableForm.disabled"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"默认展开",prop:"active"}},[a("el-switch",{model:{value:e.variableForm.active,callback:function(t){e.$set(e.variableForm,"active",t)},expression:"variableForm.active"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"显示图标",prop:"showArrow"}},[a("el-switch",{model:{value:e.variableForm.showArrow,callback:function(t){e.$set(e.variableForm,"showArrow",t)},expression:"variableForm.showArrow"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"内容延迟加载",prop:"lazy"}},[a("el-switch",{model:{value:e.variableForm.lazy,callback:function(t){e.$set(e.variableForm,"lazy",t)},expression:"variableForm.lazy"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n        ")])],1)],1)])],2)},i=[]},UqNq:function(e,t,a){"use strict";a.r(t);var n=a("I3oX"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Us2b:function(e,t,a){},UxLn:function(e,t,a){"use strict";a("YuJK")},"V/Ln":function(e,t,a){var n=a("B9v/");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("37b136aa",n,!0,{})},V2Pg:function(e,t,a){"use strict";a("2XoS")},VCma:function(e,t,a){var n=a("nH62");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2d309e4d",n,!0,{})},VIkJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择数据集",visible:e.dialogVisible,width:"1000px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("n-form",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select-form",attrs:{"label-position":"top",model:e.queryForm,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("div",{staticClass:"table-search"},[a("el-select",{staticStyle:{"margin-right":"10px",width:"300px"},attrs:{placeholder:"请选择"},on:{change:function(t){return e.handleSearch(!1)}},model:{value:e.queryForm.condition.type,callback:function(t){e.$set(e.queryForm.condition,"type",t)},expression:"queryForm.condition.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"输入名称查询"},model:{value:e.queryForm.condition.name,callback:function(t){e.$set(e.queryForm.condition,"name",t)},expression:"queryForm.condition.name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}})],1)]),e._v(" "),a("n-form-item",[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.id===t.row.id?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("n-table-column",{attrs:{prop:"typeLabel",label:"类型"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},VJuu:function(e,t,a){},VLHT:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config"},[a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v("数据配置")]),e._v(" "),a("div",{staticClass:"value"},[a("el-button-group",[a("el-button",{attrs:{disabled:e.dataInfo,size:"mini",type:"static"===e.type?"primary":""},on:{click:function(t){e.type="static"}}},[e._v("\n          数据集\n          "),a("el-tooltip",{attrs:{content:"可配置静态表格列及表格数据","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px",color:"black","font-size":"14px"}})])],1),e._v(" "),a("el-button",{attrs:{disabled:e.dataInfo,size:"mini",type:"dynamic"===e.type?"primary":""},on:{click:function(t){e.type="dynamic"}}},[e._v("\n          动态表格\n          "),a("el-tooltip",{attrs:{content:"可配置动态表格列及表格数据","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px",color:"black","font-size":"14px"}})])],1)],1)],1)]),e._v(" "),e.dataInfo?a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v("当前配置")]),e._v(" "),a("div",{staticClass:"value"},[a("el-button",{attrs:{type:"text",loading:e.loading},on:{click:e.handleShowConfig}},[e._v(e._s(e.dataInfo))]),e._v(" "),a("div",{staticClass:"data-tools",on:{click:e.handleDelete}},[a("i",{staticClass:"iconfont icon-delete"})])],1)]):a("div",{staticClass:"config-item"},[a("div",{staticClass:"label"},[e._v(e._s("static"===e.type?"数据集":"动态表格"))]),e._v(" "),a("div",{staticClass:"value"},[a("el-button",{attrs:{size:"mini",type:"primary",loading:e.loading},on:{click:e.handleShowConfig}},[e._v("配置")])],1)]),e._v(" "),a("table-data",{ref:"tableData",on:{confirm:e.handleConfirm}}),e._v(" "),a("column-data",{ref:"columnData",on:{confirm:e.handleConfirm}})],1)},i=[]},VRVB:function(e,t,a){var n=a("46sa");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("b0d8a79a",n,!0,{})},VTQD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-wrapper"},[a(e.currentElement,e._b({tag:"component",on:{update:e.updateElementProps}},"component",e.$props,!1))],1)},i=[]},VU57:function(e,t,a){var n=a("pU9Y");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("09ee8187",n,!0,{})},VYYq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("Upload",{attrs:{action:e.uploadAction,title:"点击上传图片"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},on:{click:function(t){return e.$refs.imageSelect.open()}}},[e._v("图片库选择")])],1),e._v(" "),a("ImageSelect",{ref:"imageSelect",on:{confirm:function(t){return e.value=t}}})],1)},i=[]},Vakw:function(e,t,a){"use strict";a.r(t);var n=a("vcH4"),i=a("7fyo");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("668E");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6cbd1ff3",null);t.default=r.exports},VbZI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{inputValue:void 0}},computed:{value:{get:function(){return this.elementProps[this.propKey]}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){l.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{handleChange:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}};t.default=s},VoIJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.use,callback:function(t){e.$set(e.value,"use",t)},expression:"value.use"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"350",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"60px"}},[a("el-form-item",{staticStyle:{"margin-bottom":"10px"},attrs:{label:"指针颜色"}},[a("el-radio-group",{model:{value:e.value.colorType,callback:function(t){e.$set(e.value,"colorType",t)},expression:"value.colorType"}},[a("el-radio-button",{attrs:{label:"custom"}},[e._v("自定义颜色")]),e._v(" "),a("el-radio-button",{attrs:{label:"progress"}},[e._v("跟随进度条")])],1)],1),e._v(" "),"custom"===e.value.colorType?a("el-form-item",{attrs:{label:"选择颜色"}},[a("el-color-picker",{model:{value:e.value.color,callback:function(t){e.$set(e.value,"color",t)},expression:"value.color"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"指针宽度"}},[a("range-selector",{attrs:{options:e.widthOptions},model:{value:e.value.width,callback:function(t){e.$set(e.value,"width",t)},expression:"value.width"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"指针长度"}},[a("range-selector",{attrs:{options:e.lengthOptions},model:{value:e.value.length,callback:function(t){e.$set(e.value,"length",t)},expression:"value.length"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},VpH0:function(e,t,a){var n=a("jxwP");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("56d45ed4",n,!0,{})},VtNT:function(e,t,a){"use strict";a("Xr6G")},Vu9R:function(e,t,a){"use strict";a.r(t);var n=a("dk6U"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"W/ip":function(e,t,a){"use strict";a.r(t);var n=a("BOFC"),i=a("wXoR");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("lwVN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"aa61de78",null);t.default=r.exports},W2vz:function(e,t,a){"use strict";a.r(t);var n=a("sfOV"),i=a("UGjd");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("AhhK");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"c2183c48",null);t.default=r.exports},W4PF:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{DefaultTimePicker:n(a("PHft")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=r},W5FL:function(e,t,a){"use strict";a.r(t);var n=a("HGUk"),i=a("6jNF");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7gor");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"a4beb352",null);t.default=r.exports},W6gx:function(e,t,a){var n=a("ZWL9");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4ef6eae3",n,!0,{})},WFyv:function(e,t,a){"use strict";a("oUdZ")},WIOS:function(e,t,a){"use strict";a.r(t);var n=a("vzZL"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"WMa+":function(e,t,a){"use strict";a("5oC1")},WROV:function(e,t,a){},Wo2n:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4"));n(a("BvH3"));a("RQ3N");var o=n(a("asm4")),r=a("xBdn"),s=n(a("YLtl")),c=n(a("t2rG")),u=a("0O+R"),d=a("cCei"),p=a("mtVH"),f=n(a("KEv7")),v=a("pZTy"),m=a("7C5+");function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={title:"",subTitle:"",key:"",disabled:!1,description:"",icon:"",status:void 0,active:!1},y={components:{draggable:c.default,nPopover:o.default},inject:["dndOptions"].concat((0,l.default)(m.pageInject)),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{icons:v.icons,variableForm:s.default.cloneDeep(g),rules:{title:(0,r.getValidators)([{message:"请输入标题",include:r.required,trigger:"change"}])},popoverVisible:!1,edtingIndex:void 0,deleteMode:!1,isSelectAll:!1,isIndeterminate:!1,selectedList:[],loading:!1,iconfonts:[],iconType:"default"}},computed:{layoutData:function(){return this.getStore().layoutData},currentElement:function(){return(0,u.getNodeByElementId)(this.layoutData,this.elementProps.elementId)},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t,a=b(b({},this.elementProps),{},(t={},(0,i.default)(t,this.propKey,e),(0,i.default)(t,"stepLength",e.length),t));this.$emit("update",a)}}},methods:{errorToast:function(){this.$message.error("至少要保留一个")},doDelete:function(){var e=this;if(this.selectedList.length===this.value.length)return this.errorToast();this.value=this.value.filter((function(t){return!e.selectedList.includes(t.key)}));var t=this.selectedList.map((function(t){return e.currentElement.children.find((function(a){return e.getElementPropsById(a.elementId).slotName===t})).elementId}));this._storeDispatch(d.DELETE_LAYOUT_DATA,{elementIdList:t}),this.dndOptions.selectedId=this.currentElement.elementId,this.handleCheckAllChange(!1),this.deleteMode=!1},handleCheckAllChange:function(e){this.selectedList=e?this.value.map((function(e){return e.key})):[],this.isIndeterminate=!1},radioChange:function(){var e=this.selectedList.length;this.isSelectAll=e===this.value.length,this.isIndeterminate=e>0&&e<this.value.length},handleEditColumn:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=s.default.cloneDeep(b(b({},t),{},{isAdd:!1})),this.edtingIndex=e},handleDeleteColumn:function(e){var t=this;if(1===this.value.length)return this.errorToast();var a=this.value[e].key,n=this.currentElement.children.find((function(e){return t.getElementPropsById(e.elementId).slotName===a}));this._storeDispatch(d.DELETE_LAYOUT_DATA,{elementId:n.elementId}),this.dndOptions.selectedId=this.currentElement.elementId,this.value.splice(e,1),this.value=(0,l.default)(this.value)},handleAddColumn:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=s.default.cloneDeep(g),this.variableForm.isAdd=!0,this.variableForm.key="step".concat((0,u.getRandomHexadecimal)(6)),this.edtingIndex=void 0},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=s.default.cloneDeep(e.value);if(void 0===e.edtingIndex){var n=s.default.cloneDeep(e.variableForm);if(a.some((function(e){return e.key===n.key})))return void e.$message.error("编码不能重复！");delete n.isAdd;var l={elementId:"",elementType:"slot",elementVersion:(0,p.getLastVersion)("slot"),elementName:n.title,defaultProps:{slotName:n.key},children:[]};u.buildNewWidget.call(e,l,e.currentElement.elementId,"center"),n.active&&a.forEach((function(e){return e.active=!1})),a.push(n);var o=b(b({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",o)}else{var r=s.default.cloneDeep(e.variableForm);delete r.isAdd;var c=a[e.edtingIndex].key,f=r.key;if(c!==f&&a.some((function(e){return e.key===f})))return void e.$message.error("编码不能重复！");var v=r.title,m=e.currentElement.children.find((function(t){return e.getElementPropsById(t.elementId).slotName===c})),h=[];h.push((0,i.default)({},m.elementId,{slotName:f,elementName:v})),e._storeCommit(d.UPDATE_DYNAMIC_PROPS,{dynamicPropsList:h}),r.active&&a.forEach((function(e){return e.active=!1})),a[e.edtingIndex]=r;var g=b(b({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",g)}e.popoverVisible=!1}}))},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},handleFormActiveChange:function(e){e&&this.value.forEach((function(e){e.active=!1}))},handleActiveChange:function(e){this.value.forEach((function(t){t.active=t.key===e.key&&e.active})),this.value=(0,l.default)(this.value)},iconChange:function(e){this.variableForm.icon=e},handleShownPopover:function(){var e=this;this.$nextTick((function(){e.$refs.referenceBtn.$el.click()}))},handleGetIconfont:function(){var e=this;this.loading=!0,(0,f.default)({url:"".concat(this.$store.state.CODE.lowCodeStore.appSourcePrefix,"apps/").concat(this.$route.query.id,"/iconfont/iconfont.json"),method:"GET",header:{"Content-Type":"application/json"}}).then((function(t){var a=t.data;e.iconfonts=a.glyphs.map((function(e){return"".concat(a.font_family," ").concat(a.css_prefix_text).concat(e.font_class)}))})).finally((function(){e.loading=!1}))}},mounted:function(){this.handleGetIconfont()}};t.default=y},"WoD+":function(e,t,a){},Woa4:function(e,t,a){"use strict";a.r(t);var n=a("QcO3"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},WrHJ:function(e,t,a){"use strict";a("pxMt")},WzwS:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"variable-input"},[a("div",{staticClass:"inner-content"},[a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"title"},[e.deleteMode?a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.isSelectAll,callback:function(t){e.isSelectAll=t},expression:"isSelectAll"}}):e._e(),e._v(" "),a("span",{staticClass:"col-title"},[e._v("标签标题")]),e._v(" "),a("span",{staticClass:"key"},[e._v("默认选中")])],1),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"column",animation:"300",handle:".el-icon-rank"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("transition-group",e._l(e.value,(function(t,n){return a("div",{key:t.key,staticClass:"content",style:{opacity:t.hidden?"0.5":"1"}},[e.deleteMode?a("el-checkbox",{attrs:{label:t.key},on:{change:e.radioChange},model:{value:e.selectedList,callback:function(t){e.selectedList=t},expression:"selectedList"}}):e._e(),e._v(" "),a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t.label))]),e._v(" "),a("span",{staticClass:"key"},[a("el-switch",{on:{change:function(a){return e.handleActiveChange(t)}},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"col.active"}})],1),e._v(" "),a("div",{staticClass:"caozuo"},[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEditColumn(n,t)}}},[e._v("编辑\n            ")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleDeleteColumn(n)}}},[e._v("删除\n            ")])],1)],1)})),0)],1)],1),e._v(" "),e.deleteMode?[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.deleteMode=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:e.doDelete}},[e._v("删除")])]:[a("div",{staticClass:"add-reg-exp-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleAddColumn}},[e._v("\n      +\n    ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){e.deleteMode=!0}}},[e._v("批量删除")])],e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"400",trigger:"manual",title:e.variableForm.isAdd?"新增":"编辑"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,"label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"标签标题",required:"",prop:"label"}},[a("el-input",{model:{value:e.variableForm.label,callback:function(t){e.$set(e.variableForm,"label","string"==typeof t?t.trim():t)},expression:"variableForm.label"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"标签编码",required:"",prop:"key"}},[a("el-input",{model:{value:e.variableForm.key,callback:function(t){e.$set(e.variableForm,"key","string"==typeof t?t.trim():t)},expression:"variableForm.key"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"可关闭",prop:"closable"}},[a("el-switch",{model:{value:e.variableForm.closable,callback:function(t){e.$set(e.variableForm,"closable",t)},expression:"variableForm.closable"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"是否隐藏",prop:"hidden"}},[a("el-switch",{model:{value:e.variableForm.hidden,callback:function(t){e.$set(e.variableForm,"hidden",t)},expression:"variableForm.hidden"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"默认选中",prop:"active"}},[a("el-switch",{on:{change:e.handleFormActiveChange},model:{value:e.variableForm.active,callback:function(t){e.$set(e.variableForm,"active",t)},expression:"variableForm.active"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"内容延迟加载",prop:"lazy"}},[a("el-switch",{model:{value:e.variableForm.lazy,callback:function(t){e.$set(e.variableForm,"lazy",t)},expression:"variableForm.lazy"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"显示标记",prop:"showBadge"}},[a("el-switch",{model:{value:e.variableForm.showBadge,callback:function(t){e.$set(e.variableForm,"showBadge",t)},expression:"variableForm.showBadge"}})],1),e._v(" "),e.variableForm.showBadge?a("n-form-item",{attrs:{label:"标记内容",prop:"badgeMessage"}},[a("el-input",{attrs:{placeholder:"请输入数字/文本"},model:{value:e.variableForm.badgeMessage,callback:function(t){e.$set(e.variableForm,"badgeMessage","string"==typeof t?t.trim():t)},expression:"variableForm.badgeMessage"}})],1):e._e(),e._v(" "),e.variableForm.showBadge?a("n-form-item",{attrs:{label:"标记主题",prop:"badgeType"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.variableForm.badgeType,callback:function(t){e.$set(e.variableForm,"badgeType",t)},expression:"variableForm.badgeType"}},[a("el-radio-button",{attrs:{label:"primary"}},[e._v("默认")]),e._v(" "),a("el-radio-button",{attrs:{label:"success"}},[e._v("成功")]),e._v(" "),a("el-radio-button",{attrs:{label:"warning"}},[e._v("警告")]),e._v(" "),a("el-radio-button",{attrs:{label:"danger"}},[e._v("危险")]),e._v(" "),a("el-radio-button",{attrs:{label:"info"}},[e._v("信息")])],1)],1):e._e()],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消\n        ")])],1)],1)])],2)},i=[]},X2Mc:function(e,t,a){"use strict";a.r(t);var n=a("nhym"),i=a("MXap");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("6i9v");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"479fe4d3",null);t.default=r.exports},X7xy:function(e,t,a){"use strict";a.r(t);var n=a("PYW5"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},X85D:function(e,t,a){var n={"./v1/watch-props.js":"VW+m"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="X85D"},XCFL:function(e,t,a){"use strict";a.r(t);var n=a("aSd5"),i=a("BUxJ");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("H7so");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6b9c3cd0",null);t.default=r.exports},XDLv:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I")),o=(n(a("YLtl")),a("8SHQ"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{widthOptions:{unit:[{label:"px",value:""}]},formatTips:o.formatTips}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=s(s({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=c},XEnp:function(e,t,a){"use strict";a.r(t);var n=a("MICF"),i=a("jK5c");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("AGW1");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);t.default=r.exports},XJEo:function(e,t,a){var n=a("36hs");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("11f52f82",n,!0,{})},XN6s:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl")),o=n(a("r5ug")),r=n(a("Wk/A")),s=a("8SHQ");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={components:{dataSelector:o.default,Select:r.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},multiple:{type:Boolean,default:!0}},data:function(){return{rowInfo:{},xFields:[],yFields:[],sortTypes:[{label:"升序",value:"ascending"},{label:"倒序",value:"descending"},{label:"无",value:"none"}],formatTips:s.formatTips}},computed:{dataVariables:{get:function(){return this.elementProps.dataVariables},set:function(e){this.$emit("update",u(u({},this.elementProps),{},{dataVariables:e}))}},ySetting:{get:function(){return this.elementProps.ySetting},set:function(e){this.$emit("update",u(u({},this.elementProps),{},{ySetting:e}))}},preset:function(){var e=this.elementProps.elementVersion;return a("X85D")("./".concat(e,"/watch-props.js")).yField_tpl},positionOptions:function(){var e=this.elementProps,t=e.elementType,a=e.orient;return"pie-chart"===t?[{label:"扇区外侧",value:"outside"},{label:"扇区内部",value:"inside"},{label:"中心",value:"center"}]:"funnel-chart"===t?"vertical"===a?[{label:"左",value:"left"},{label:"右",value:"right"},{label:"内部",value:"inside"}]:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"内部",value:"inside"}]:[{label:"左",value:"left"},{label:"右",value:"right"},{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"内部",value:"inside"}]}},watch:{dataVariables:{deep:!0,immediate:!0,handler:function(e){var t,a;this.xFieldsIndex=e.findIndex((function(e){return"xAxis"===e.key})),this.xFields=(null===(t=e[this.xFieldsIndex])||void 0===t?void 0:t.fields)||[],this.yFieldsIndex=e.findIndex((function(e){return"yAxis"===e.key})),this.yFields=(null===(a=e[this.yFieldsIndex])||void 0===a?void 0:a.fields)||[]}}},methods:{addXFields:function(){var e="key"+(this.xFields.length+1);this.xFields.push(u(u({},l.default.cloneDeep(this.preset)),{},{key:e,value:e})),this.dataVariables[this.xFieldsIndex].fields=l.default.cloneDeep(this.xFields)},deleteXItem:function(e){this.xFields.splice(e,1),this.dataVariables[this.xFieldsIndex].fields=l.default.cloneDeep(this.xFields)},addYFields:function(){var e="key"+(this.yFields.length+1);this.yFields.push(u(u({},l.default.cloneDeep(this.preset)),{},{key:e,value:e})),this.dataVariables[this.yFieldsIndex].fields=l.default.cloneDeep(this.yFields)},deleteYItem:function(e){this.yFields.splice(e,1),this.dataVariables[this.yFieldsIndex].fields=l.default.cloneDeep(this.yFields)},dataSelectUpdate:function(e){this.$emit("update",e)},rowEdit:function(e){this.rowInfo=l.default.cloneDeep(e)},setData:function(e,t){for(var a in t)e[a]=t[a]}}};t.default=d},XOGy:function(e,t,a){"use strict";a.r(t);var n=a("ZELP"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},XRXH:function(e,t,a){"use strict";a.r(t);var n=a("MH6/"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},XS9B:function(e,t,a){"use strict";a.r(t);var n=a("I1We"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},XYBb:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("ODXe")),o=n(a("KAmc"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"CustomApiDataSelect",data:function(){return{dialogVisible:!1,loading:!1,dataList:[],selectedRow:null}},methods:{open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?this.handleGetServeDetail():this.$message.error("请选择数据源")},handleGetServeDetail:function(){var e=this.selectedRow,t=Object.entries(e.requestBody||{}).map((function(e){var t=(0,l.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}})),a={apiRequest:{url:"/app-data".concat(e.path),method:"POST",type:5,paramsData:[],bodyData:t.length?t:[{key:"",value:void 0,test:void 0}],headersData:[]},response:null,apiInfo:this.selectedRow};this.$emit("confirm",a),this.dialogVisible=!1},handleSearch:function(){var e=this;this.loading=!0,this.$http({url:o.default.apiDesignListPublished,data:{appId:+this.$route.query.id}}).then((function(t){e.dataList=t.data.map((function(t){return s(s({},t),{},{path:"/app".concat(e.$route.query.id,"/").concat(t.path)})}))})).finally((function(){e.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e}}};t.default=c},XaNM:function(e,t,a){"use strict";a.r(t);var n=a("a+ka"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Xcjf:function(e,t,a){"use strict";a.r(t);var n=a("S+/m"),i=a("/x3O");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("OFTo");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"02768dd4",null);t.default=r.exports},XiVM:function(e,t,a){},Xr6G:function(e,t,a){var n=a("cCBw");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("60354b80",n,!0,{})},"Y+GU":function(e,t,a){"use strict";a.r(t);var n=a("pBHh"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},Y9xT:function(e,t,a){"use strict";a.r(t);var n=a("VLHT"),i=a("A+84");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("+MoL");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5d4b621c",null);t.default=r.exports},YAZN:function(e,t,a){"use strict";a("JEj6")},YCv3:function(e,t,a){"use strict";a("T4wa")},YKD9:function(e,t,a){var n=a("UWEy");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f3379ea0",n,!0,{})},YLUf:function(e,t,a){var n=a("zY5q");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("8f3257f4",n,!0,{})},YOg1:function(e,t,a){var n=a("nf33");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("3e4019c6",n,!0,{})},YSWw:function(e,t,a){"use strict";a.r(t);var n=a("2xn5"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},YUkg:function(e,t,a){var n=a("tJ7m");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4b8d2d98",n,!0,{})},YVoK:function(e,t,a){},YjCU:function(e,t,a){"use strict";a("lIVo")},Ymby:function(e,t,a){"use strict";a("sXni")},Ymyd:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl")),o=a("7Qib");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={name:"ConfigObject",props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String},optionkey:{type:String},types:{type:Array}},data:function(){return{requiredArr:[],target:{value:void 0}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=s(s({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){l.default.isEqual(e,t)||(this.target.value=l.default.cloneDeep(e))}}},methods:{showInputDialog:function(e,t,a,n,i){this.$refs.inputDialog.open({type:e,data:t,key:a,from:n,attrOptions:i,callbackId:this.callbackId})},handleInputResponse:function(e){this.value=l.default.cloneDeep(e)},getContent:function(e){return(0,o.formatTip)(e)},getType:function(e){switch(e){case"string":return"text";case"css":return"css";case"array":return"object";default:return e}},getTypeName:function(e){switch(e){case"string":return"文本";case"number":return"数值";case"object":return"对象";default:return e}}}};t.default=c},YuJK:function(e,t,a){var n=a("svdr");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("6ba41fed",n,!0,{})},YuYM:function(e,t,a){},Yvo7:function(e,t,a){var n=a("0b32");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("78052a21",n,!0,{})},Yybz:function(e,t,a){"use strict";a.r(t);var n=a("lCTG"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"Z/Ay":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item",attrs:{label:"使用指引"}},[a("div",[a("el-button",{attrs:{size:"mini"},on:{click:e.download}},[e._v("下载模板和教程 "),a("i",{staticClass:"el-icon-download"})])],1)]),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"加载模式"}},[a("el-switch",{attrs:{"active-text":"外部","inactive-text":"内部","active-value":"outer","inactive-value":"inner"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),e._v(" "),"inner"===e.type?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[e._v("\n      "+e._s(e.name)),a("n-tooltip",{attrs:{value:e.tips1}})],1),e._v(" "),a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.appList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],2):"outer"===e.type?a("n-form-item",{staticClass:"config-item",attrs:{error:e.appUrlError,"show-message":!1}},[a("template",{slot:"label"},[e._v("\n      组件url"),a("n-tooltip",{staticStyle:{"margin-left":"27px"},attrs:{value:e.tips1}})],1),e._v(" "),a("el-select",{attrs:{"allow-create":"",placeholder:"请输入或选择url",filterable:"",clearable:""},model:{value:e.appUrl,callback:function(t){e.appUrl="string"==typeof t?t.trim():t},expression:"appUrl"}},e._l(e.urlHistory,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],2):e._e(),e._v(" "),e.source?a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[e._v("\n      模块名称"),a("n-tooltip",{staticStyle:{"margin-left":"17px"},attrs:{value:e.tips2}})],1),e._v(" "),a("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.componentsLoading,expression:"componentsLoading"}],attrs:{filterable:"",placeholder:"请选择"},on:{change:e.initSetting},model:{value:e.moduleName,callback:function(t){e.moduleName=t},expression:"moduleName"}},e._l(e.componentsOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],2):e._e(),e._v(" "),e.source&&e.moduleName?[a("n-form-item",{staticClass:"config-item",attrs:{label:"参数配置"}},[a("div",[e.propsData.length?a("el-button",{attrs:{type:"primary"},on:{click:e.setPropsInitVal}},[e._v("设置初始值")]):e._e(),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.refreshSetting}},[e._v("更新")])],1)]),e._v(" "),a("div",{staticClass:"props-wrap"},[a("n-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.propsData}},e._l(e.columns1,(function(t){return a("n-table-column",{key:t.key,attrs:{prop:t.key,label:t.name,width:"auto"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(t.format?t.format(a.row,t.key):void 0!==a.row[t.key]?a.row[t.key]:"--"))]}}],null,!0)})})),1)],1)]:e._e(),e._v(" "),a("el-dialog",{staticClass:"props-setting-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,width:"1000px",title:"参数配置",visible:e.paramsDialogVisible},on:{"update:visible":function(t){e.paramsDialogVisible=t}}},[a("n-table",{staticClass:"props-setting-table",staticStyle:{width:"100%"},attrs:{border:"",data:e.dialogPropsData}},e._l(e.columns2,(function(t){return a("n-table-column",{key:t.key,attrs:{prop:t.key,label:t.name,width:t.width||e.auto},scopedSlots:e._u([{key:"default",fn:function(n){return["defaultValue"===t.key?[a("value-input",{attrs:{value:n.row.defaultValue.value,type:n.row.defaultValue.type},on:{showInputDialog:function(t){e.currentIndex=n.$index,e.showInputDialog.apply(void 0,t)},remove:function(e){n.row.defaultValue.value=void 0}}})]:"desc"===t.key?[a("el-input",{attrs:{placeholder:"请输入参数描述"},model:{value:n.row.desc,callback:function(t){e.$set(n.row,"desc",t)},expression:"scope.row.desc"}})]:[e._v("\n            "+e._s(t.format?t.format(n.row,t.key):void 0!==n.row[t.key]?n.row[t.key]:"--")+"\n          ")]]}}],null,!0)})})),1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.paramsDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 认")])],1)],1)],2)},i=[]},Z1mO:function(e,t,a){"use strict";a.r(t);var n=a("tAZm"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ZB1s:function(e,t,a){},ZELP:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("Xcjf")),r=a("8SHQ"),s=n(a("YLtl")),c={name:"DataFormat",components:{JsConfig:o.default},data:function(){return{dialogVisible:!1,functionId:void 0,defaultArguments:[]}},methods:{open:function(e){var t=e.formatter,a=e.defaultArguments;if(t){var n=s.default.cloneDeep(t);this.functionId=n.id.split(r.FUNCTION_FLAG)[1]}this.defaultArguments=a||[],this.dialogVisible=!0},handleClose:function(e){this.clear(),e()},clear:function(){this.functionId=void 0,this.dialogVisible=!1},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.jsConfig.confirm();case 2:a={id:"".concat(r.FUNCTION_FLAG).concat(e.functionId)},e.$emit("confirm",a),e.clear();case 5:case"end":return t.stop()}}),t)})))()}}};t.default=c},ZGJ8:function(e,t,a){"use strict";a.r(t);var n=a("UKdE"),i=a("B2r/");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Kysn");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0a761728",null);t.default=r.exports},ZGnw:function(e,t,a){"use strict";a.r(t);var n=a("Nyj9"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ZKN4:function(e,t,a){var n=a("Bq8B");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4a1b05e7",n,!0,{})},"ZQd+":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-auto-upload"},[a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n      "+e._s(e.name)+"\n      "),a("el-tooltip",{attrs:{content:e.autoTip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:""}},[a("el-radio-group",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[a("el-radio-button",{attrs:{label:"manual"}},[e._v("手动")]),e._v(" "),a("el-radio-button",{attrs:{label:"auto"}},[e._v("自动")])],1)],1)],1),e._v(" "),"auto"===e.value?[a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v("上传配置")]),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.openUploadData}},[e._v(e._s(e.elementProps.apiRequest?"API请求":"配置"))]),e._v(" "),a("upload-data",{ref:"uploadData",on:{confirm:e.handleConfirm}})],1)],1),e._v(" "),a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v("最大上传文件数")]),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:""}},[a("el-input-number",{attrs:{min:1},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}})],1)],1)]:e._e()],2)},i=[]},ZV00:function(e,t,a){"use strict";a.r(t);var n=a("Tx5Z"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ZWL9:function(e,t,a){},ZZR3:function(e,t,a){"use strict";a.r(t);var n=a("F1fH"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ZaTH:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"html模板",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"600px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content"},[a("vxe-table",{ref:"xTable",staticStyle:{width:"100%"},attrs:{data:e.htmlTemplateList,border:"","highlight-current-row":""},on:{"cell-click":e.handleCellClick,"radio-change":e.handleRadioChange}},[a("vxe-table-column",{attrs:{type:"radio",width:"42px",align:"center"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"label",title:"类型"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"html",type:"html",title:"示例"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},ZcLU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=a("0O+R"),r=a("ZQwl"),s=a("vu0G"),c=a("7C5+");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"ConfigSwitch",inject:(0,l.default)(c.pageInject),props:{propKey:{type:String},name:{type:String},optionkey:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String}},data:function(){return{requiredArr:[]}},computed:{layoutData:function(){return this.getStore().layoutData},dynamicProps:function(){return this.getStore().dynamicProps},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=this,a=d(d({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",a);var n=(0,o.getNodeByElementId)(this.layoutData,this.elementProps.elementId);if(!0==("cell"===this.optionkey))o.treeUtil.forEach(n.children,(function(a){["slot"].includes(a.elementType)&&["data"].includes(t.getElementPropsById(a.elementId).slotType)&&r.globalEmit.call(t,s.PROPS,{elementId:a.elementId,data:{isVisible:e}})}));else o.treeUtil.forEach(n.children,(function(a){t.getElementPropsById(a.elementId).slotName===t.optionkey&&r.globalEmit.call(t,s.PROPS,{elementId:a.elementId,data:{isVisible:e}})}))}}},methods:{getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=p},Ze3F:function(e,t,a){"use strict";a.r(t);var n=a("lUsD"),i=a("xomr");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("3Jar");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6a3edf0a",null);t.default=r.exports},ZoP3:function(e,t,a){"use strict";a.r(t);var n=a("CSqF"),i=a("k6ZJ");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("oUOh");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5c130258",null);t.default=r.exports},ZqeW:function(e,t,a){"use strict";a.r(t);var n=a("oP3w"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ZwTP:function(e,t,a){"use strict";a.r(t);var n=a("ozlh"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"a+ka":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("EBht"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{options:l.default,colorStr:""}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{getType:function(e){return this.value.mode===e?"primary":"default"},inputChange:function(){this.value.color=this.colorStr.split(";")},itemClick:function(e){this.value.color=e,this.$refs.btn.click(),this.initColorStr()},showFilter:function(e){return e.slice(0,6)},initColorStr:function(){this.colorStr=this.value.color.join(";")}},created:function(){this.value.color.length||(this.value.color=l.default[0]),this.initColorStr()}};t.default=s},"a1/k":function(e,t,a){var n=a("yP8U");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("0767aed7",n,!0,{})},a5bw:function(e,t,a){"use strict";a("ya4G")},a5qb:function(e,t,a){},a7ij:function(e,t,a){"use strict";a.r(t);var n=a("82G0"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},aAvS:function(e,t,a){"use strict";a("YOg1")},aDwm:function(e,t,a){var n=a("oXr6");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("275a25b1",n,!0,{})},aJrR:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appList=void 0;var n=Object.keys(window.projectConfigs.imports).filter((function(e){return e.startsWith("@project")})).map((function(e){return{label:e,value:e}}));t.appList=n},aSd5:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.options,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getType(t.value)},on:{click:function(a){e.value=t.value}}},[a("span",[e._v("\n          "+e._s(t.label)+"\n        ")]),e._v(" "),t.tips?a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:t.tips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)})),1)],1)])},i=[]},aZ8R:function(e,t,a){"use strict";a.r(t);var n=a("50yw"),i=a("7Byl");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("YAZN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"ae6e7490",null);t.default=r.exports},aaFF:function(e,t,a){},aauP:function(e,t,a){"use strict";a.r(t);var n=a("i1rF"),i=a("Y+GU");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("O2/U");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"a9f5b978",null);t.default=r.exports},"ac+S":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),a("div",{staticClass:"container"},[a("el-checkbox",{model:{value:e.value.all,callback:function(t){e.$set(e.value,"all",t)},expression:"value.all"}},[e._v("不限")]),e._v(" "),e.value.all?e._e():[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.options,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getType(t.value)},on:{click:function(a){return e.radioChange(t.value)}}},[a("span",[e._v("\n            "+e._s(t.label)+"\n          ")]),e._v(" "),t.tips?a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:t.tips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]):e._e()],1)})),1),e._v(" "),a("el-checkbox-group",{model:{value:e.value.ext,callback:function(t){e.$set(e.value,"ext",t)},expression:"value.ext"}},e._l(e.extOption[e.value.type],(function(e){return a("el-checkbox",{key:e,attrs:{label:e}})})),1),e._v(" "),a("div",{staticClass:"extra-tips"},[e._v("\n        其他更多类型用英文逗号（,）分隔,如：jpg,png\n      ")]),e._v(" "),a("el-input",{attrs:{placeholder:"输入上传格式",clearable:""},model:{value:e.value.extra,callback:function(t){e.$set(e.value,"extra",t)},expression:"value.extra"}})]],2)])},i=[]},"anZ+":function(e,t,a){"use strict";a.r(t);var n=a("uhT7"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},auxZ:function(e,t,a){var n=a("ZB1s");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("3c022b5a",n,!0,{})},awxD:function(e,t,a){var n=a("mzYy");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("6b5a5fd9",n,!0,{})},"b6/j":function(e,t,a){"use strict";a.r(t);var n=a("T/DR"),i=a("Gzea");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("uqdE");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"7080a8a0",null);t.default=r.exports},bAXp:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-select",{staticClass:"button-type-select",model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.buttonTypes,(function(t){return a("el-option",{key:t.value,staticClass:"option-item",attrs:{label:t.label,value:t.value}},[a("el-button",{staticClass:"button-item",attrs:{type:t.value}},[e._v(e._s(t.label))])],1)})),1)],1)},i=[]},bL37:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={name:"ChangeHeight",data:function(){return{lastY:0,movedHeight:0}},mounted:function(){window.addEventListener("mouseup",this.mouseUp)},beforeDestroy:function(){window.removeEventListener("mouseup",this.mouseUp)},methods:{mouseDown:function(e){window.addEventListener("mousemove",this.mouseMove),this.lastY=e.screenY},mouseMove:function(e){this.movedHeight=e.screenY-this.lastY,this.$emit("heightChange",{height:this.movedHeight}),e.stopPropagation(),e.preventDefault()},mouseUp:function(){this.lastY=0,this.movedHeight=0,window.removeEventListener("mousemove",this.mouseMove),this.$emit("clearEvent")}}};t.default=n},bT2I:function(e,t,a){"use strict";a.r(t);var n=a("Dy2g"),i=a("e1i+");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("9SUb");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"4d9c3093",null);t.default=r.exports},bT5V:function(e,t,a){"use strict";a("Hefq")},bUHm:function(e,t,a){},bVe2:function(e,t,a){var n=a("MeFE");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e4a46282",n,!0,{})},bd9F:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=[{groupName:"attention_seekers",list:[{name:"bounce",animationName:"bounce"},{name:"flash",animationName:"flash"},{name:"pulse",animationName:"pulse"},{name:"rubberBand",animationName:"rubberBand"},{name:"shakeX",animationName:"shakeX"},{name:"shakeY",animationName:"shakeY"},{name:"headShake",animationName:"headShake"},{name:"swing",animationName:"swing"},{name:"tada",animationName:"tada"},{name:"wobble",animationName:"wobble"},{name:"jello",animationName:"jello"},{name:"heartBeat",animationName:"heartBeat"}]},{groupName:"back_entrances",list:[{name:"backInDown",animationName:"backInDown"},{name:"backInLeft",animationName:"backInLeft"},{name:"backInRight",animationName:"backInRight"},{name:"backInUp",animationName:"backInUp"}]},{groupName:"back_exits",list:[{name:"backOutDown",animationName:"backOutDown"},{name:"backOutLeft",animationName:"backOutLeft"},{name:"backOutRight",animationName:"backOutRight"},{name:"backOutUp",animationName:"backOutUp"}]},{groupName:"bouncing_entrances",list:[{name:"bounceIn",animationName:"bounceIn"},{name:"bounceInDown",animationName:"bounceInDown"},{name:"bounceInLeft",animationName:"bounceInLeft"},{name:"bounceInRight",animationName:"bounceInRight"},{name:"bounceInUp",animationName:"bounceInUp"}]},{groupName:"bouncing_exits",list:[{name:"bounceOut",animationName:"bounceOut"},{name:"bounceOutDown",animationName:"bounceOutDown"},{name:"bounceOutLeft",animationName:"bounceOutLeft"},{name:"bounceOutRight",animationName:"bounceOutRight"},{name:"bounceOutUp",animationName:"bounceOutUp"}]},{groupName:"fading_entrances",list:[{name:"fadeIn",animationName:"fadeIn"},{name:"fadeInDown",animationName:"fadeInDown"},{name:"fadeInDownBig",animationName:"fadeInDownBig"},{name:"fadeInLeft",animationName:"fadeInLeft"},{name:"fadeInLeftBig",animationName:"fadeInLeftBig"},{name:"fadeInRight",animationName:"fadeInRight"},{name:"fadeInRightBig",animationName:"fadeInRightBig"},{name:"fadeInUp",animationName:"fadeInUp"},{name:"fadeInUpBig",animationName:"fadeInUpBig"},{name:"fadeInTopLeft",animationName:"fadeInTopLeft"},{name:"fadeInTopRight",animationName:"fadeInTopRight"},{name:"fadeInBottomLeft",animationName:"fadeInBottomLeft"},{name:"fadeInBottomRight",animationName:"fadeInBottomRight"}]},{groupName:"fading_exits",list:[{name:"fadeOut",animationName:"fadeOut"},{name:"fadeOutDown",animationName:"fadeOutDown"},{name:"fadeOutDownBig",animationName:"fadeOutDownBig"},{name:"fadeOutLeft",animationName:"fadeOutLeft"},{name:"fadeOutLeftBig",animationName:"fadeOutLeftBig"},{name:"fadeOutRight",animationName:"fadeOutRight"},{name:"fadeOutRightBig",animationName:"fadeOutRightBig"},{name:"fadeOutUp",animationName:"fadeOutUp"},{name:"fadeOutUpBig",animationName:"fadeOutUpBig"},{name:"fadeOutTopLeft",animationName:"fadeOutTopLeft"},{name:"fadeOutTopRight",animationName:"fadeOutTopRight"},{name:"fadeOutBottomRight",animationName:"fadeOutBottomRight"},{name:"fadeOutBottomLeft",animationName:"fadeOutBottomLeft"}]},{groupName:"flippers",list:[{name:"flip",animationName:"flip"},{name:"flipInX",animationName:"flipInX"},{name:"flipInY",animationName:"flipInY"},{name:"flipOutX",animationName:"flipOutX"},{name:"flipOutY",animationName:"flipOutY"}]},{groupName:"lightspeed",list:[{name:"lightSpeedInRight",animationName:"lightSpeedInRight"},{name:"lightSpeedInLeft",animationName:"lightSpeedInLeft"},{name:"lightSpeedOutRight",animationName:"lightSpeedOutRight"},{name:"lightSpeedOutLeft",animationName:"lightSpeedOutLeft"}]},{groupName:"rotating_entrances",list:[{name:"rotateIn",animationName:"rotateIn"},{name:"rotateInDownLeft",animationName:"rotateInDownLeft"},{name:"rotateInDownRight",animationName:"rotateInDownRight"},{name:"rotateInUpLeft",animationName:"rotateInUpLeft"},{name:"rotateInUpRight",animationName:"rotateInUpRight"}]},{groupName:"rotating_exits",list:[{name:"rotateOut",animationName:"rotateOut"},{name:"rotateOutDownLeft",animationName:"rotateOutDownLeft"},{name:"rotateOutDownRight",animationName:"rotateOutDownRight"},{name:"rotateOutUpLeft",animationName:"rotateOutUpLeft"},{name:"rotateOutUpRight",animationName:"rotateOutUpRight"}]},{groupName:"specials",list:[{name:"hinge",animationName:"hinge"},{name:"jackInTheBox",animationName:"jackInTheBox"},{name:"rollIn",animationName:"rollIn"},{name:"rollOut",animationName:"rollOut"}]},{groupName:"zooming_entrances",list:[{name:"zoomIn",animationName:"zoomIn"},{name:"zoomInDown",animationName:"zoomInDown"},{name:"zoomInLeft",animationName:"zoomInLeft"},{name:"zoomInRight",animationName:"zoomInRight"},{name:"zoomInUp",animationName:"zoomInUp"}]},{groupName:"zooming_exits",list:[{name:"zoomOut",animationName:"zoomOut"},{name:"zoomOutDown",animationName:"zoomOutDown"},{name:"zoomOutLeft",animationName:"zoomOutLeft"},{name:"zoomOutRight",animationName:"zoomOutRight"},{name:"zoomOutUp",animationName:"zoomOutUp"}]},{groupName:"sliding_entrances",list:[{name:"slideInDown",animationName:"slideInDown"},{name:"slideInLeft",animationName:"slideInLeft"},{name:"slideInRight",animationName:"slideInRight"},{name:"slideInUp",animationName:"slideInUp"}]},{groupName:"sliding_exits",list:[{name:"slideOutDown",animationName:"slideOutDown"},{name:"slideOutLeft",animationName:"slideOutLeft"},{name:"slideOutRight",animationName:"slideOutRight"},{name:"slideOutUp",animationName:"slideOutUp"}]}]},"bg/w":function(e,t,a){"use strict";a.r(t);var n=a("P0rb"),i=a("zPZJ");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("2CnR");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"483eb0a6",null);t.default=r.exports},biw6:function(e,t,a){"use strict";a.r(t);var n=a("8nSg"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},bozR:function(e,t,a){"use strict";a("uu6e")},"c+Xd":function(e,t,a){"use strict";a.r(t);var n=a("lX2M"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},c5J2:function(e,t,a){"use strict";a.r(t);var n=a("E+1J"),i=a("NLaK");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Ymby");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"497ee625",null);t.default=r.exports},c5KY:function(e,t,a){"use strict";a("iLhr")},c7JL:function(e,t,a){"use strict";a.r(t);var n=a("RqOX"),i=a("eHMt");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7IPi");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6e43ac1a",null);t.default=r.exports},cCBw:function(e,t,a){},cCEh:function(e,t,a){var n=a("9xsT");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("27c71e3c",n,!0,{})},cGt5:function(e,t,a){"use strict";a.r(t);var n=a("oyxG"),i=a("2MEm");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("HSbX");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"9f672ff2",null);t.default=r.exports},cNg0:function(e,t,a){"use strict";a.r(t);var n=a("8Fqj"),i=a("ToIJ");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("E90p");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"f537838c",null);t.default=r.exports},cQcQ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("t2rG")),r=a("cCei"),s=a("7C5+");function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={inject:(0,l.default)(s.pageInject),components:{draggable:o.default},props:{elementId:{type:String},propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{isShowDetail:!1}},computed:{eventsData:{get:function(){return this.getStore().eventsData},set:function(e){this._storeCommit(r.UPDATE_EVENTS_DATA,{eventsData:e})}},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=u(u({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{handleDeleteColumn:function(e){this.value.splice(e,1),this.value=(0,l.default)(this.value)},handleAddColumn:function(){this.value=[].concat((0,l.default)(this.value),[{label:"",key:"",type:"text",icon:"",events:[]}])}}};t.default=d},cUvL:function(e,t,a){"use strict";a.r(t);var n=a("v414"),i=a("594K");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("WFyv");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"01959d42",null);t.default=r.exports},ci18:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},splitArea:{get:function(){return this.elementProps.splitArea},set:function(e){var t=o(o({},this.elementProps),{},{splitArea:e});this.$emit("update",t)}},splitLine:{get:function(){return this.elementProps.splitLine},set:function(e){var t=o(o({},this.elementProps),{},{splitLine:e});this.$emit("update",t)}},axisLine:{get:function(){return this.elementProps.axisLine},set:function(e){var t=o(o({},this.elementProps),{},{axisLine:e});this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=r},cpcO:function(e,t,a){"use strict";a.r(t);var n=a("ZaTH"),i=a("Woa4");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("aAvS");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"45ee2726",null);t.default=r.exports},cuKp:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{min:0}}},tip:{type:String}},data:function(){return{requiredArr:[],inputValue:void 0}},computed:{value:{get:function(){return this.elementProps[this.propKey]}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){l.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{handleChange:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}};t.default=s},cunc:function(e,t,a){"use strict";a.r(t);var n=a("f/95"),i=a("5BCi");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("7zFL");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"1f753c76",null);t.default=r.exports},cxhU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"JsonView",mixins:[n(a("oRZJ")).default],props:{value:{type:[Object,Array]}},inject:["editorProvide","callbackId"],data:function(){return{formats:[{label:"变量",value:"variable"},{label:"文本",value:"string"},{label:"数值",value:"number"},{label:"布尔",value:"boolean"},{label:"对象",value:"object"},{label:"数组",value:"array"}],hideMyBlock:{},variableRowDetail:null}},components:{"array-view":function(){return a.e(79).then(a.bind(null,"ZkUh"))}},methods:{delItem:function(e,t,a){this.value.splice(a,1),this.hideMyBlock[a]&&(this.hideMyBlock[a]=!1),this.$emit("input",this.value)},closeBlock:function(e,t){this.$set(this.hideMyBlock,e,!this.hideMyBlock[e])},addItem:function(){this.editorProvide.addItem(this)},newItem:function(e){var t={name:e.key,type:e.type};"array"===e.type||"object"===e.type?(t.childParams=e.val,t.remark=null):(t.childParams=null,t.remark=e.val),t.name?(this.value.push(t),this.$emit("input",this.value)):this.$message.error("请输入Key")},keyInputBlur:function(e,t){e.name.length<=0&&(this.$message.error("请输入Key"),e.name="null",t.target.focus())},onDragEnd:function(){this.$emit("input",this.value)},itemTypeChange:function(e){"array"!==e.type&&"object"!==e.type||(e.childParams=[],e.remark=null),"boolean"===e.type&&(e.remark=!0),"string"===e.type&&(e.remark=""),"number"===e.type&&(e.remark=0),"variable"===e.type&&(e.remark="app.$b")},numberInputChange:function(e){e.remark||(e.remark=0)},handleShowVariableSelect:function(e,t,a){this.editorProvide.handleShowVariableSelect(e,t,a)}}};t.default=i},d1zq:function(e,t,a){},d3P4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"30px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType,"clear-static":!1},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse,"tab-click":e.handleTabClick}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("chart-field-selector",{ref:"chartFieldSelector",attrs:{data:e.responseData,currentProps:e.elementProps,dynamicVariables:e.dynamicVariables,staticData:e.staticData,activeDataType:e.activeDataType,dataVariables:e.dataVariables}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},dAg2:function(e,t,a){},dEwR:function(e,t,a){"use strict";a.r(t);var n=a("QR8l"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},dOQX:function(e,t,a){"use strict";a("awxD")},dPrq:function(e,t,a){"use strict";a("uSQC")},diaI:function(e,t,a){"use strict";a.r(t);var n=a("ArtP"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},dk6U:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{Select:n(a("Wk/A")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{options:[{label:"px",value:""},{label:"%",value:"%"}]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},isChecked:function(){return!!this.value}},methods:{switchChange:function(e){this.value=!!e&&{barGap:{value:30,unit:"%"},barCategoryGap:{value:20,unit:"%"}}}},mounted:function(){}};t.default=r},drQw:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-form-item",{staticClass:"widget-config-item",attrs:{label:e.name}},[a("el-button-group",{staticClass:"flex-button-group",model:{value:e.value.mode,callback:function(t){e.$set(e.value,"mode",t)},expression:"value.mode"}},[a("el-button",{staticClass:"config-item-button",attrs:{size:"mini",type:e.getType("preset")},on:{click:function(t){e.value.mode="preset"}}},[e._v("预设套色")]),e._v(" "),a("el-button",{staticClass:"config-item-button",attrs:{size:"mini",type:e.getType("custom")},on:{click:function(t){e.value.mode="custom"}}},[e._v("自定义颜色")])],1)],1),e._v(" "),"custom"===e.value.mode?a("el-form-item",{staticClass:"widget-config-item",attrs:{label:"自定义颜色"}},[a("el-input",{attrs:{placeholder:"颜色请用英文逗号隔开"},on:{change:e.inputChange},model:{value:e.colorStr,callback:function(t){e.colorStr=t},expression:"colorStr"}})],1):a("el-form-item",{staticClass:"widget-config-item",attrs:{label:"套色选择"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"color-wall"},e._l(e.showFilter(e.value.color),(function(e){return a("span",{key:e,staticClass:"color-item",style:{backgroundColor:e}})})),0),e._v(" "),a("el-popover",{attrs:{placement:"left-start",trigger:"click"}},[e._l(e.options,(function(t,n){return a("div",{key:n,staticClass:"color-wall",on:{click:function(a){return e.itemClick(t)}}},e._l(e.showFilter(t),(function(e){return a("span",{key:e,staticClass:"color-item",style:{backgroundColor:e}})})),0)})),e._v(" "),a("span",{ref:"btn",staticClass:"el-icon-arrow-down",attrs:{slot:"reference"},slot:"reference"})],2)],1)])],1)},i=[]},drWP:function(e,t,a){},"e+dz":function(e,t,a){},"e1i+":function(e,t,a){"use strict";a.r(t);var n=a("KN4V"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},e5Hp:function(e,t,a){"use strict";a("QEiX")},"e6/+":function(e,t,a){var n=a("+l95");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("1047f05c",n,!0,{})},e9HS:function(e,t,a){"use strict";a.r(t);var n=a("FvN/"),i=a("lCbR");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("YCv3");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"598a555d",null);t.default=r.exports},eBPg:function(e,t,a){},eHMt:function(e,t,a){"use strict";a.r(t);var n=a("KGRj"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ePCx:function(e,t,a){var n=a("HXXI");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("19be9c08",n,!0,{})},eRZV:function(e,t,a){"use strict";a("ud/O")},eT0g:function(e,t,a){var n={"./antv-type-select/index.vue":"3eZo","./app-select/index.vue":"mPP0","./button-type-select/index.vue":"ABiM","./chart-options-overwrite/index.vue":"nvB6","./collapse-data-input/index.vue":"nZBj","./color-picker/index.vue":"j3jw","./column-input/index.vue":"5yxy","./config-bar-gap/index.vue":"qztl","./config-calendar-group/index.vue":"kLyJ","./config-chart-axisLine/index.vue":"0BhY","./config-chart-axisTick/index.vue":"IMhQ","./config-chart-data-zoom/index.vue":"L6Fj","./config-chart-data/index.vue":"DNvC","./config-chart-grid/index.vue":"t2eH","./config-chart-line-toolbox/index.vue":"t155","./config-chart-line-tooltip/index.vue":"L+M7","./config-chart-pointer/index.vue":"SkkS","./config-chart-progress/index.vue":"6Qjt","./config-chart-splitLine/index.vue":"Ba/h","./config-chart-theme/index.vue":"OaBa","./config-data/index.vue":"r5ug","./config-form/index.vue":"fQxe","./config-gauge-chart-color/index.vue":"UV2i","./config-gauge-chart-data/index.vue":"GCF+","./config-object/index.vue":"1xlb","./config-options/index.vue":"MfHH","./config-pagination/index.vue":"W2vz","./config-pie-chart-data/index.vue":"ATd5","./config-radar-chart-areaStyle/index.vue":"ATBX","./config-radar-chart-data/index.vue":"M7LT","./config-radar-chart-gridSetting/index.vue":"DarP","./config-rate-text/index.vue":"aZ8R","./config-rich-input/index.vue":"W/ip","./config-slot-props/index.vue":"D2s3","./config-slot-switch/index.vue":"9YdU","./config-switch/index.vue":"EGCN","./config-table/index.vue":"Y9xT","./config-tree-options/index.vue":"uTMH","./config-upload-mode/index.vue":"vRLV","./control-column-input/index.vue":"RwIM","./date-format/index.vue":"c5J2","./date-time-picker/index.vue":"sA+7","./date-time-range-picker/index.vue":"FkmK","./element-name-input/index.vue":"Hlk/","./export-funcs/index.vue":"Ofum","./format-function/index.vue":"vJTX","./funnel-chart-orient/index.vue":"m9c6","./icon-select/index.vue":"QWNE","./image-uploader/index.vue":"vAJe","./input-number/index.vue":"tLrT","./input-select/index.vue":"v182","./input/index.vue":"MYOU","./layout-type-select/index.vue":"X2Mc","./merge-cells-config/index.vue":"Pgv8","./page-select/index.vue":"we1S","./pie-chart-type/index.vue":"q+Gl","./progress-config/index.vue":"9nSg","./radio-group-button/index.vue":"XCFL","./radio-group/index.vue":"DXhS","./range-select/index.vue":"e9HS","./reg-exp-config/index.vue":"t1Ba","./select/index.vue":"2E/L","./slot-rules/index.vue":"zYB5","./steps-config/index.vue":"fRBN","./steps-data-input/index.vue":"4Ug3","./style-name-input/index.vue":"aauP","./tabs-data-input/index.vue":"Hdgw","./textarea/index.vue":"s4zU","./type-select/index.vue":"lVDb","./type/index.vue":"johU","./upload-type/index.vue":"JZBR","./variables-input/index.vue":"ILnk"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=l,e.exports=i,i.id="eT0g"},ejqO:function(e,t,a){"use strict";a("yDSD")},elWl:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"应用变量管理",visible:e.dialogVisible,width:"1000px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"app-variables"},[a("el-button",{staticStyle:{margin:"0 0 15px 0"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增\n    ")]),e._v(" "),e.dialogVisible?a("vxe-table",{ref:"xTable",attrs:{size:"mini",data:e.dataList,border:"","show-overflow":"","header-cell-class-name":"header-cell","row-id":"key","radio-config":e.isManage?void 0:{trigger:"row",highlight:!0}}},[e.isManage?e._e():a("vxe-table-column",{attrs:{type:"radio",title:"选择",align:"center",width:"60"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"变量编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"desc",title:"变量名","min-width":"100px"}}),e._v(" "),a("vxe-table-column",{attrs:{title:"默认值",field:"defaultValue"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(e.getDefaultValue(n.defaultValue)))])]}}],null,!1,3805519123)}),e._v(" "),a("vxe-table-column",{attrs:{title:"操作",width:"100px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleEdit(n)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(t){return e.handleDelete(n)}}},[e._v("删除\n          ")])]}}],null,!1,1083762825)})],1):e._e()],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.isManage?a("el-button",{on:{click:e.cancel}},[e._v("关 闭")]):a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 认")])],1),e._v(" "),a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:e.detail.id?"编辑":"新增",visible:e.editVisible,width:"1000px",top:"5vh"},on:{"update:visible":function(t){e.editVisible=t}}},[a("n-form",{ref:"editForm",attrs:{"label-position":"left",rules:e.rules,model:e.detail,"label-width":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"变量编码",prop:"key"}},[a("el-input",{attrs:{disabled:e.detail.id},model:{value:e.detail.key,callback:function(t){e.$set(e.detail,"key",t)},expression:"detail.key"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"变量名",prop:"desc"}},[a("el-input",{model:{value:e.detail.desc,callback:function(t){e.$set(e.detail,"desc",t)},expression:"detail.desc"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"默认值",prop:"defaultValue"}},[void 0!==e.detail.defaultValue?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.detail.defaultValue),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.detail.defaultValue)},on:{click:function(t){return e.handleTagClick(e.detail,"defaultValue")},close:function(t){e.detail.defaultValue=void 0}}},[e._v("\n            "+e._s(e.formatTag(e.getElementName(e.detail.defaultValue),12))+"\n          ")])],1):[a("el-button-group",{staticClass:"default-value"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("text",e.detail,"defaultValue")}}},[e._v("文本")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("object",e.detail,"defaultValue")}}},[e._v("对象")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(t){return e.detail.defaultValue=t}}})]],2)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleEditConfirm}},[e._v("确 认")])],1)],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}})],1)},i=[]},eog6:function(e,t,a){"use strict";a.r(t);var n=a("wXBn"),i=a("euWx");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0f752f10",null);t.default=r.exports},eq38:function(e,t,a){"use strict";a.r(t);var n=a("l9wy"),i=a("EWWx");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("8uEy");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"1e6ec64a",null);t.default=r.exports},euWx:function(e,t,a){"use strict";a.r(t);var n=a("L63Y"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"f/95":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"low-code-dialog",title:"新增属性",width:"340px","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,visible:e.popoverVisible,top:"15vh"},on:{"update:visible":function(t){e.popoverVisible=t}}},[e.popoverVisible?a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",staticClass:"data-form",attrs:{model:e.formData,inline:"","label-width":"60px"},nativeOn:{submit:function(e){e.preventDefault()}}},[e.needName?a("n-form-item",{attrs:{label:"Key",prop:"keyName"}},[a("el-input",{staticStyle:{width:"180px"},attrs:{type:"text",placeholder:"Key"},model:{value:e.formData.keyName,callback:function(t){e.$set(e.formData,"keyName",t)},expression:"formData.keyName"}})],1):e._e(),e._v(" "),a("n-form-item",{attrs:{label:"值类型"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{"popper-append-to-body":!1},on:{change:function(t){e.formData.valName=void 0}},model:{value:e.formatSelected,callback:function(t){e.formatSelected=t},expression:"formatSelected"}},e._l(e.formats,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1)],1),e._v(" "),"variable"===e.formatSelected?[a("n-form-item",{attrs:{label:"Value"}},[a("div",{staticClass:"value-input-wrapper"},[void 0!==e.formData.valName?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.formData.valName),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.formData.valName)},on:{click:function(t){return e.handleShowVariableSelect(e.formData,"valName")},close:function(t){e.formData.valName=void 0}}},[e._v("\n                "+e._s(e.formatTag(e.getElementName(e.formData.valName),12))+"\n              ")])],1):a("el-button",{on:{click:function(t){return e.handleShowVariableSelect(e.formData,"valName")}}},[e._v("选择变量\n            ")])],1)])]:e._e(),e._v(" "),["array","object","variable"].includes(e.formatSelected)?e._e():[a("n-form-item",{attrs:{label:"Value",prop:"valName"}},[a("div",{staticClass:"value-input-wrapper"},["string"===e.formatSelected?a("el-input",{staticStyle:{width:"180px"},attrs:{type:"text",placeholder:"value"},model:{value:e.formData.valName,callback:function(t){e.$set(e.formData,"valName",t)},expression:"formData.valName"}}):e._e(),e._v(" "),"number"===e.formatSelected?a("el-input",{staticStyle:{width:"180px"},attrs:{type:"number",placeholder:"value"},on:{change:e.dealNumber},model:{value:e.formData.valName,callback:function(t){e.$set(e.formData,"valName",t)},expression:"formData.valName"}}):e._e(),e._v(" "),"boolean"===e.formatSelected?a("el-select",{staticStyle:{width:"180px"},on:{change:e.dealBoolean},model:{value:e.formData.valName,callback:function(t){e.$set(e.formData,"valName",t)},expression:"formData.valName"}},[a("el-option",{attrs:{value:!0,label:"true"}}),e._v(" "),a("el-option",{attrs:{value:!1,label:"false"}})],1):e._e()],1)])]],2),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v("确认 ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:e.cancel}},[e._v("取消 ")])],1)],1):e._e(),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}})],1)},i=[]},f2Rq:function(e,t,a){"use strict";a.r(t);var n=a("LHOp"),i=a("Hx/y");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("4SL/");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"f07417f0",null);t.default=r.exports},fBAO:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择数据源",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"dialog-content"},[a("div",{staticClass:"data-table"},[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow===t.row?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"API名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"path",label:"API路径"}}),e._v(" "),a("n-table-column",{attrs:{prop:"description",label:"API描述"}})],1)],1)]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},fBsw:function(e,t,a){},fCvg:function(e,t,a){"use strict";a("nrVO")},fLQt:function(e,t,a){var n=a("6o/s");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("099fe7f6",n,!0,{})},fQxe:function(e,t,a){"use strict";a.r(t);var n=a("F6Ld"),i=a("ZGnw");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("PAip");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6f61b1b6",null);t.default=r.exports},fRBN:function(e,t,a){"use strict";a.r(t);var n=a("Fbfl"),i=a("XRXH");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("e5Hp");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"973e4d92",null);t.default=r.exports},fT6w:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=(n(a("YLtl")),{name:"DataSelect",components:{},inject:["dndOptions"],props:{useType:{type:String,default:""},elementProps:{type:Object},title:{type:String},tips:{type:String,default:"支持JS原生语法，使用“参数名”进行取值, 使用return返回结果，示例JS：\n  return {\n    data: Array(10).fill(0).map((item, index) => ({ number: index * 1000 , scales: '名字' + index })),\n    padding: 'auto',\n    xField: 'number',\n    yField: 'scales',\n  }"},defaultArguments:{type:Object,default:[]}},data:function(){return{loading:!1,activeCollapse:["config"],dialogVisible:!1,apiRequest:void 0,sqlRequest:void 0,staticData:void 0}},computed:{},methods:{open:function(e){var t=e.id;this.chartConfigId=t,this.response=null,this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.jsConfig.confirm();case 2:e.$emit("confirm",e.chartConfigId),e.dialogVisible=!1;case 4:case"end":return t.stop()}}),t)})))()}}});t.default=o},fYpo:function(e,t,a){},fj9K:function(e,t,a){"use strict";a.r(t);var n=a("psk4"),i=a("OBbu");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("TJTA");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"49892caa",null);t.default=r.exports},fkDv:function(e,t,a){var n=a("H29j");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("751820ca",n,!0,{})},fs2b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择高级变量",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("n-form",{ref:"dataForm",staticClass:"data-form",attrs:{model:e.dataForm,"label-width":"80px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"条件查询"}},[a("div",{staticClass:"search-item"},[a("el-input",{staticStyle:{margin:"0 10px"},attrs:{placeholder:"请输入名称查询",clearable:""},on:{clear:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")])],1)]),e._v(" "),a("n-form-item",{attrs:{label:"变量列表"}},[a("n-table",{attrs:{data:e.functionList.filter((function(e){return e.isShow})),border:"","highlight-current-row":"","max-height":"550px",size:"mini"},on:{"row-click":e.handleRowClick}},[e.isManage?e._e():a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getIsSelected(t.row)?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}],null,!1,3362594668)}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"高级变量名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"code",label:"代码","show-overflow-tooltip":""}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},g2nQ:function(e,t,a){var n=a("qdJ5");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("c5efc888",n,!0,{})},g9be:function(e,t,a){"use strict";a.r(t);var n=a("elWl"),i=a("uRSU");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("gyqF");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"01eccda4",null);t.default=r.exports},gLIa:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{isChecked:!1}},computed:{value:{get:function(){return this.getOpt()},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},maxValue:function(){return this.elementProps.maxValue}},methods:{handleInputing:function(e,t){var a=this.value;a[t]=e,this.value=a},switchChange:function(e){this.value=e?this.getOpt(!0):[]},getOpt:function(e){var t=this.elementProps[this.propKey];return t.length||e?new Array(this.maxValue).fill(0).map((function(e,a){return t[a]||""})):[]}},mounted:function(){this.value.length&&(this.isChecked=!0)}};t.default=r},gTNI:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"50%"}},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("变量映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[["dataList"].includes(n.key)?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(" "),a("span",[e._v(e._s(n.label))]),e._v(" "),a("el-tooltip",{attrs:{content:e.getTip(n.key),"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}])})],1)],2)],1),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"widget"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("组件映射")])]),e._v(" "),a("vxe-table",{ref:"dataColumnTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.widgetVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"key",title:"变量名","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"value-input"},[n.key?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(n.key),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(n.key)},on:{click:function(t){return e.handleShowVariableSelect(n,"key")},close:function(e){n.key=void 0}}},[e._v("\n                                "+e._s(e.formatTag(e.getElementName(n.key),12))+"\n                              ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button",{on:{click:function(t){return e.handleShowVariableSelect(n,"key")}}},[e._v("点击选择组件变量")])],1)],1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"变量值"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-id":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{title:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row,i=t.rowIndex;return[a("div",{staticClass:"control-col"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddWidget}},[e._v("+")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(t){return e.handleDeleteWidget(n,i)}}},[e._v("-")])])])]}}])})],1)],2)],1)],1),e._v(" "),a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),"static"!==e.activeDataType?[a("el-button",{attrs:{size:"mini"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()]:e._e()],2)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")])],1)])])])],2)],1)],1),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},gUec:function(e,t,a){"use strict";a("KLQl")},"gZZ+":function(e,t,a){"use strict";a.r(t);var n=a("71hE"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},gerd:function(e,t,a){"use strict";a.r(t);var n=a("ZcLU"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ggmQ:function(e,t,a){"use strict";a.r(t);var n=a("iTbU"),i=a("anZ+");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("81XA");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"b76db922",null);t.default=r.exports},gxrq:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("ODXe")),s=n(a("KQm4")),c=n(a("fj9K")),u=n(a("L0Hc")),d=a("8SHQ"),p=a("U7sq"),f=n(a("vDqi")),v=a("7C5+"),m=a("0O+R"),h=a("cCei");a("7Qib");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={inject:(0,s.default)(v.pageInject),props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{options:p.options}},components:{antvChartData:c.default,jsFormat:u.default},computed:{value:{get:function(){return this.elementProps[this.propKey]}},dataInfo:function(){var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest,n=e.staticData;switch(!0){case!!t:return"API数据集";case!!a:return"SQL数据集";case!!n:return"静态数据集";default:return}},documentUrl:function(){var e=this.value,t="";return Array.prototype.forEach.call(e,(function(e,a){/[A-Z]/.test(e)?t+=(0===a?"":"-")+e.toLocaleLowerCase():t+=e})),"https://g2plot.antv.vision/zh/docs/api/plots/".concat(t)}},methods:{typeChange:function(e){var t=this;Promise.all([this.getConfig(e),this.getMockData(e)]).then((function(a){var n,i=(0,r.default)(a,2),l=i[0].data,c=i[1].data,u=(0,m.getRandomHexadecimal)(12),p=g(g({},t.elementProps),{},(n={},(0,o.default)(n,t.propKey,e),(0,o.default)(n,"chartConfigId","".concat(d.FUNCTION_FLAG).concat(u)),(0,o.default)(n,"apiRequest",void 0),(0,o.default)(n,"sqlRequest",void 0),(0,o.default)(n,"staticData",c),(0,o.default)(n,"dataMapping",[{sourcePath:["response","data"],mappingPath:["Gauge","Liquid"].includes(e)?["percent"]:["data"],formatCode:""}]),n)),f={id:u,name:"func",code:l,paramsData:[{key:""}]};t._storeCommit(h.UPDATE_FUNCTIONS_DATA,{functionsData:[].concat((0,s.default)(t.getStore().functionsData),[f])}),t.$emit("update",p)}))},getConfig:function(e){return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.default)({url:"".concat(d.STATIC_PREFIX,"/antv-chart-config/").concat(e,".js")});case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getMockData:function(e){return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.default)({url:"".concat(d.STATIC_PREFIX,"/antv-chart-data/").concat(e,".json")});case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},dataOpen:function(){this.$refs.antvChartData.open(this.elementProps)},chartConfigOpen:function(){this.$refs.jsFormat.open({id:this.elementProps.chartConfigId.replace(d.FUNCTION_FLAG,"")})},chartConfigConfirm:function(e){var t=g(g({},this.elementProps),{},{chartConfigId:"".concat(d.FUNCTION_FLAG).concat(e)});this.$emit("update",t)},chartDataConfirm:function(e){this.$emit("update",g(g({},this.elementProps),e))},jumpUrl:function(){window.open(this.documentUrl)}}};t.default=y},gyqF:function(e,t,a){"use strict";a("g2nQ")},"h+77":function(e,t,a){"use strict";a.r(t);var n=a("VTQD"),i=a("5Pl3");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"51e74f67",null);t.default=r.exports},"h/PM":function(e,t,a){"use strict";a.r(t);var n=a("miQ4"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},h0Zp:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("YLtl")),r=a("7C5+");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={name:"JsCodeSelect",inject:(0,l.default)(r.pageInject),data:function(){return{dialogVisible:!1,dataForm:{},functionList:[],selectedFunction:null,keyword:""}},computed:{functionsData:function(){return this.getStore().functionsData}},methods:{open:function(){this.handleUpdateFunctionList(),this.dialogVisible=!0},clear:function(){this.selectedFunction=null,this.functionList=[],this.keyword="",this.dialogVisible=!1},handleClose:function(e){this.clear(),e()},confirm:function(){if(this.selectedFunction){var e=o.default.cloneDeep(this.selectedFunction);delete e.isShow,this.$emit("confirm",e),this.clear()}else this.$message.error("请选择高级变量！")},handleUpdateFunctionList:function(){this.functionList=this.functionsData.map((function(e){return c(c({},e),{},{isShow:!0})}))},handleRowClick:function(e,t,a){this.selectedFunction=e},getIsSelected:function(e){return this.selectedFunction===e},handleSearch:function(){var e=this;this.functionList=this.functionList.map((function(t){return c(c({},t),{},{isShow:!e.keyword||t.name.includes(e.keyword)})}))}}};t.default=u},h1Ik:function(e,t,a){"use strict";a.r(t);var n=a("50fI"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},h6le:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={mixins:[n(a("oRZJ")).default],components:{},props:["value","type"],data:function(){return{}},created:function(){},mounted:function(){},methods:{showInputDialog:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];this.$emit("showInputDialog",t)},jsFunc:function(){this.showInputDialog("function",{value:""},"value","function")}},computed:{},watch:{}};t.default=i},hFDq:function(e,t,a){var n=a("6jG3");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("0aa2d6df",n,!0,{})},hKR8:function(e,t,a){"use strict";a.r(t);var n=a("9Exx"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},hRhz:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("6QsX")),o=n(a("50CN"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{tableData:l.default,columnData:o.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String}},data:function(){return{loading:!1,type:"static"}},computed:{dataInfo:function(){var e=this.elementProps,t=e.apiRequest,a=e.sqlRequest,n=e.staticData;switch(!0){case!!t:return"API数据集";case!!a:return"SQL数据集";case!!n:return"静态数据集";default:return}}},watch:{"elementProps.dynamicColumn":{handler:function(e,t){this.type=e?"dynamic":"static"},immediate:!0}},methods:{handleShowConfig:function(){var e=this,t="static"===this.type?"tableData":"columnData";this.loading=!0,setTimeout((function(){e.$refs[t].open({dataColumn:e.elementProps.dataColumn,dynamicColumn:e.elementProps.dynamicColumn,dataVariables:e.elementProps.dataVariables,apiRequest:e.elementProps.apiRequest,sqlRequest:e.elementProps.sqlRequest,staticData:e.elementProps.staticData}),setTimeout((function(){e.loading=!1}),100)}),100)},handleConfirm:function(e){this.$emit("update",s(s({},this.elementProps),e)),this.type=e.dynamicColumn?"dynamic":"static"},handleDelete:function(){var e,t,a={apiRequest:void 0,sqlRequest:void 0,staticData:void 0,dynamicColumn:void 0,dataVariables:null===(e=this.elementProps.dataVariables)||void 0===e?void 0:e.map((function(e){return s(s({},e),{},{path:[]})})),dataColumn:null===(t=this.elementProps.dataColumn)||void 0===t?void 0:t.map((function(e){return s(s({},e),{},{path:[]})}))};this.$emit("update",s(s({},this.elementProps),a))}}};t.default=c},hTh9:function(e,t,a){"use strict";a.r(t);var n=a("fBAO"),i=a("0LjL");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Tf9I");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"27f78c96",null);t.default=r.exports},hXZn:function(e,t,a){var n=a("KYRP");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("44b18e98",n,!0,{})},hYFU:function(e,t,a){"use strict";a.r(t);var n=a("iPb9"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},heZr:function(e,t,a){},hraq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"json-code"},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"codeEditor",staticClass:"highlight-code"}),e._v(" "),e.resizable?a("ChangeHeight",{on:{heightChange:e.handleHeightChange}}):e._e()],1)},i=[]},hvaP:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=n(a("rePB")),s=n(a("KQm4")),c=a("aJrR"),u=n(a("slWK")),d=n(a("ExK1")),p=n(a("oRZJ")),f=n(a("ZQwl")),v=a("vu0G"),m=n(a("YLtl")),h=n(a("Wk/A")),b=a("7C5+");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={inject:(0,s.default)(b.pageInject),mixins:[p.default],props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String},tip:{type:String}},data:function(){return{appList:c.appList,componentsOptions:[],componentsLoading:!1,appUrlError:!1,columns1:[{name:"参数名",key:"name"},{name:"参数描述",key:"desc"},{name:"是否必传",key:"required",format:function(e,t){var a=e[t];return void 0!==a&&a}}],columns2:[{name:"参数名",key:"name"},{name:"参数描述",key:"desc"},{name:"参数类型",key:"type"},{name:"是否必传",key:"required",format:function(e,t){var a=e[t];return void 0!==a&&a}},{name:"默认值",key:"default"},{name:"初始值",key:"defaultValue",width:"260px"}],paramsDialogVisible:!1,currentIndex:-1,dialogPropsData:[],tips1:"按es module规范暴露组件的js脚本",tips2:"组件模块支持按需加载, 建议使用\n\nexport const xx = () => import('xxx')"}},components:{valueInput:d.default,Select:h.default},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=y(y({},this.elementProps),{},(0,r.default)({},this.propKey,e));this.$emit("update",t)}},propsData:{get:function(){return this.elementProps.propsData}},pageData:function(){var e=this.getStore().layoutData.elementId;return this.$store.state.CODE.lowCodeStore.pageData.filter((function(t){return"page"===t.elementType&&t.elementId!==e}))},pageInfo:function(){var e=this;return this.$store.state.CODE.lowCodeStore.pageData.find((function(t){return t.elementId===e.value}))}},watch:{},methods:{refreshSetting:function(){var e=this;this.$confirm("用此操作来更新页面容器的参数和事件,但会覆盖当前设置的默认值, 是否继续?","提示",{closeOnClickModal:!1,confirmButtonText:"继续",cancelButtonText:"取消",type:"warning"}).then((function(){e.initSetting(!0),e.$message.success("已更新")}))},setPropsInitVal:function(){this.dialogPropsData=m.default.cloneDeep(this.propsData),this.paramsDialogVisible=!0},confirm:function(){var e=y(y({},this.elementProps),{},{propsData:this.dialogPropsData,props:this.getProps(this.dialogPropsData)});this.$emit("update",e),this.paramsDialogVisible=!1},initSetting:function(){var e=arguments,t=this;return(0,o.default)(i.default.mark((function a(){var n,o,r,s,c,d,p,m,h,b,g,_,k,C,O;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],a.next=3,t.$nextTick();case 3:return a.next=5,rootApp.$http({url:u.default.appPageDesignPageConfig,data:{pageDesignId:Number(t.pageInfo.pageDesignId)}});case 5:o=a.sent,r=o.data,s=r.reduce((function(e,t){return e[t.type]=t.config,e}),{}),c=s[2],d=JSON.parse(c)[t.value],p=d.dynamicVariables,m=void 0===p?{}:p,h=d.eventsData,b=void 0===h?[]:h,g=d.exportFunctions,_=void 0===g?[]:g,k=Object.entries(m||{}).filter((function(e){var t=(0,l.default)(e,2);t[0];return t[1].isEntry})).map((function(e){var t=(0,l.default)(e,2),a=t[0],n=t[1];return{name:a,type:"*",desc:n.desc,defaultValue:{type:"",value:n.value}}})),C=_.map((function(e){return{name:e.customName,fn:e.id}})),O=y(y({},t.elementProps),{},{propsData:k,eventsData:b,props:t.getProps(k),fnsData:C}),t.$emit("update",O,{pushHistory:n}),t.$nextTick((function(){f.default.$emit(v.BIND_EVENTS)}));case 14:case"end":return a.stop()}}),a)})))()},getProps:function(e){return e.reduce((function(e,t){var a=t.defaultValue,n=a.type,i=a.value;return e[t.name]="function"===n?function(){var e;try{e=new Function(i)()}catch(t){e=i,console.warn(t)}return e}():i,e}),{})},handleInputResponse:function(e,t){this.dialogPropsData[this.currentIndex].defaultValue={value:e,type:t}},jumpToPage:function(){var e=this,t=this.pageData.find((function(t){return t.elementId===e.value}));f.default.$emit(v.SWITCH_PAGE,t)}}};t.default=_},hy2s:function(e,t,a){"use strict";a("zJAP")},"i+wt":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.use,callback:function(t){e.$set(e.value,"use",t)},expression:"value.use"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"90px"}},[a("el-form-item",{attrs:{label:"分割段数"}},[a("el-input-number",{attrs:{min:0,max:100},model:{value:e.value.splitNumber,callback:function(t){e.$set(e.value,"splitNumber",t)},expression:"value.splitNumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"刻度标签"}},[a("el-switch",{model:{value:e.value.axisLabelShow,callback:function(t){e.$set(e.value,"axisLabelShow",t)},expression:"value.axisLabelShow"}})],1),e._v(" "),e.value.axisLabelShow?[a("el-form-item",{attrs:{label:"格式化"}},[a("el-switch",{model:{value:e.value.axisLabelUseFormat,callback:function(t){e.$set(e.value,"axisLabelUseFormat",t)},expression:"value.axisLabelUseFormat"}})],1),e._v(" "),e.value.axisLabelUseFormat?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{model:{value:e.value.axisLabelFormatter,callback:function(t){e.$set(e.value,"axisLabelFormatter",t)},expression:"value.axisLabelFormatter"}})],1):e._e()]:e._e()],2),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},i1rF:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n    "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-input",{attrs:{placeholder:e.placeholder,clearable:""},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue="string"==typeof t?t.trim():t},expression:"inputValue"}})],1)],1)},i=[]},i2iI:function(e,t,a){var n=a("TjuW");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("09c4a93c",n,!0,{})},iHGE:function(e,t,a){"use strict";a("kzdx")},iJDE:function(e,t,a){var n=a("YVoK");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("656aa85f",n,!0,{})},iLhr:function(e,t,a){var n=a("0VpS");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4f341cdc",n,!0,{})},iPb9:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+"));n(a("BvH3"));a("RQ3N");var o=n(a("asm4")),r=a("xBdn"),s=n(a("YLtl")),c=n(a("UeeE")),u=a("0O+R"),d=c.default.createInstance({id:"field",children:"children",pid:"parentField"}),p={components:{nPopover:o.default},props:{elementId:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:!1,variableForm:{label:"",isLeaf:!1,field:"",align:"left"},rules:{label:(0,r.getValidators)([{required:!0,message:"请输入分组标题",include:r.required,trigger:"change"}]),field:(0,r.getValidators)([{required:!0,message:"请选择数据列",include:r.required,trigger:"change"}])},popoverVisible:!1,editMode:null,currentData:null,treeData:[],lastElementId:null,loading:!1}},computed:{value:{get:function(){return this.elementProps.tableHeaderGroup},set:function(e){this.$emit("update",e)}},column:function(){return this.elementProps.dataColumn}},methods:{handleAddOption:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.popoverVisible=!0,t.next=3,e.$nextTick();case 3:e.$refs.variableForm.resetFields(),e.variableForm={label:"",children:[],isLeaf:!1,field:"",align:"left"},e.editMode="root",e.currentData=null;case 7:case"end":return t.stop()}}),t)})))()},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=s.default.cloneDeep(e.value||[]),n=s.default.cloneDeep(e.variableForm),i=e.currentData;switch(e.editMode){case"root":n.id=(0,u.getRandomHexadecimal)(6),a.push(n),e.$refs.tree.append(n);break;case"add":n.id=(0,u.getRandomHexadecimal)(6);var l=d.findNode(a,(function(e){return e.id===i.id}));l.children?l.children.push(n):l.children=[n],e.$refs.tree.append(n,e.currentData.id);break;case"edit":d.forEach(a,(function(e){e.id===i.id&&Object.keys(n).forEach((function(t){"children"!==t&&(e[t]=n[t])}))})),Object.keys(n).forEach((function(t){"children"!==t&&(e.currentData[t]=n[t])}))}e.popoverVisible=!1,e.value=s.default.cloneDeep(a)}}))},edit:function(e,t){var a=this;return(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.popoverVisible=!0,e.next=3,a.$nextTick();case 3:a.$refs.variableForm.resetFields(),a.variableForm={id:t.id,field:t.field,label:t.label,children:t.children||[],isLeaf:t.isLeaf,align:t.align},a.currentData=t,a.editMode="edit";case 7:case"end":return e.stop()}}),e)})))()},append:function(e,t){var a=this;return(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.popoverVisible=!0,e.next=3,a.$nextTick();case 3:a.$refs.variableForm.resetFields(),a.variableForm={label:"",children:[],isLeaf:!1,field:"",align:"left"},a.currentData=t,a.editMode="add";case 7:case"end":return e.stop()}}),e)})))()},remove:function(e,t){this.$refs.tree.remove(t.id),this.value=s.default.cloneDeep(this.treeData)},handleShownPopover:function(){var e=this;this.$nextTick((function(){e.$refs.referenceBtn.$el.click()}))},allowDrop:function(e,t,a){return!t.data.isLeaf},handleDropChange:function(e,t,a){var n=s.default.cloneDeep(this.value),i=d.findNode(n,(function(e){return e.id===t.key})),l=d.findNode(n,(function(t){return t.id===e.key}));switch(d.removeNode(n,(function(t){return t.id===e.key})),a){case"inner":i.children?i.children.push(l):i.children=[l];break;case"before":d.insertBefore(n,l,i);break;case"after":d.insertAfter(n,i,l)}this.value=s.default.cloneDeep(n)},isDisabledField:function(e){return!!d.findNode(this.treeData,(function(t){return t.field===e}))},handleAddRules:function(){this.treeData=s.default.cloneDeep(this.value),this.dialogVisible=!0},handleEditRules:function(){this.treeData=s.default.cloneDeep(this.value),this.dialogVisible=!0},handleDeleteRules:function(){this.value=[]},beforeClose:function(e){this.dialogVisible=!1,e()},beforeSaveClose:function(e){this.popoverVisible=!1,e()},handleFieldChange:function(e){var t;e&&(this.variableForm.label=null===(t=this.column.find((function(t){return t.key===e})))||void 0===t?void 0:t.label)}}};t.default=p},iREq:function(e,t,a){var n=a("I3VX");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("95fa1e20",n,!0,{})},iTbU:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择调度",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"dialog-content"},[a("n-form",{staticClass:"data-select-form",attrs:{model:e.queryForm,size:"mini",inline:"","label-with":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"100px"},on:{change:e.handleResetCondition},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[a("el-option",{attrs:{label:"名称",value:"name"}}),e._v(" "),a("el-option",{attrs:{label:"描述",value:"description"}}),e._v(" "),a("el-option",{attrs:{label:"更新用户",value:"updateUserName"}}),e._v(" "),a("el-option",{attrs:{label:"更新时间",value:"updateTime"}})],1)],1),e._v(" "),a("n-form-item",{attrs:{label:""}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入"},model:{value:e.queryForm.condition[e.searchType],callback:function(t){e.$set(e.queryForm.condition,e.searchType,t)},expression:"queryForm.condition[searchType]"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSearch(!0)}}},[e._v("\n        重置\n      ")])],1),e._v(" "),a("div",{staticClass:"data-table"},[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":"",size:"mini",height:"410px"},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.name===t.row.name?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"名称","min-width":"150px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"description",label:"描述","min-width":"100px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"updateUserName",label:"更新用户","min-width":"100px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"updateTime",label:"更新时间","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatTime(t.row.updateTime)))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},ikp8:function(e,t,a){"use strict";a("GDHT")},"j+4+":function(e,t,a){var n=a("KnJ8");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("52583b66",n,!0,{})},j3jw:function(e,t,a){"use strict";a.r(t);var n=a("6nD+"),i=a("7cQz");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("mrFL");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"18e67ac0",null);t.default=r.exports},jK5c:function(e,t,a){"use strict";a.r(t);var n=a("4DAo"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},jLcJ:function(e,t,a){},jPEL:function(e,t,a){"use strict";a.r(t);var n=a("v3Ll"),i=a("oPQN");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ubat");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"cecccd8c",null);t.default=r.exports},jcaA:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"option-config"},[e.showDataType?a("el-form-item",{attrs:{"label-width":"100px",label:"数据配置"}},[a("el-radio-group",{model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},[a("el-radio-button",{attrs:{label:"static"}},[e._v("数据集")]),e._v(" "),a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("动态图例")])],1)],1):e._e(),e._v(" "),a("div",{staticClass:"mode-select"},[a("data-selector",e._b({attrs:{btnText:"配置",optionkey:"chart"},on:{update:e.dataSelectUpdate}},"data-selector",e.$props,!1))],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("X轴")]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form",{staticClass:"no-mb",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"X轴标题"}},[a("el-input",{model:{value:e.xSetting.title,callback:function(t){e.$set(e.xSetting,"title",t)},expression:"xSetting.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题对齐方式"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.xSetting.position,callback:function(t){e.$set(e.xSetting,"position",t)},expression:"xSetting.position"}},e._l(e.xPositionOptions,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"格式化"}},[a("el-switch",{model:{value:e.xSetting.useFormat,callback:function(t){e.$set(e.xSetting,"useFormat",t)},expression:"xSetting.useFormat"}}),e._v(" "),e.xSetting.useFormat?a("el-button",{staticStyle:{"margin-left":"50px"},attrs:{size:"mini",type:"primary"},on:{click:e.openFormatter}},[e._v("配置")]):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"刻度线"}},[a("el-switch",{model:{value:e.xSetting.axisTick,callback:function(t){e.$set(e.xSetting,"axisTick",t)},expression:"xSetting.axisTick"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格"}},[a("el-switch",{model:{value:e.xSetting.splitLine,callback:function(t){e.$set(e.xSetting,"splitLine",t)},expression:"xSetting.splitLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"X坐标轴"}},[a("el-switch",{model:{value:e.xSetting.axisLine,callback:function(t){e.$set(e.xSetting,"axisLine",t)},expression:"xSetting.axisLine"}})],1),e._v(" "),["line-chart"].includes(e.elementProps.elementType)?a("el-form-item",{attrs:{label:"两侧留白"}},[a("el-switch",{model:{value:e.xSetting.boundaryGap,callback:function(t){e.$set(e.xSetting,"boundaryGap",t)},expression:"xSetting.boundaryGap"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-switch",{model:{value:e.xSetting.axisLabel,callback:function(t){e.$set(e.xSetting,"axisLabel",t)},expression:"xSetting.axisLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签旋转角度"}},[a("el-input-number",{attrs:{min:-90,max:90,placeholder:"-90 ~ 90"},model:{value:e.xSetting.rotate,callback:function(t){e.$set(e.xSetting,"rotate",t)},expression:"xSetting.rotate"}})],1)],1),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1),e._v(" "),a("formatter",{attrs:{visible:e.formatVisible,value:e.formatOption},on:{"update:visible":function(t){e.formatVisible=t},confirm:e.formatterConfirm}})],1)]),e._v(" "),"dynamic"!==e.dataType?[e._l(e.xFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.key))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"类目名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.key,callback:function(t){e.$set(e.rowInfo,"key",t)},expression:"rowInfo.key"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["x-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["x-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"x-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteXItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),e.xFields.length?e._e():a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addXFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n          添加数据字段\n        ")])],1)]:e._e()],2),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("div",{staticClass:"field-group"},[a("div",{staticClass:"group-item group-header"},[a("div",{staticClass:"group-title"},[e._v("Y轴")]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{"popper-class":"y-popover",placement:"left",width:"350"}},[a("el-form",{staticClass:"no-mb",attrs:{"label-width":"120px","label-position":"left"}},[a("el-form-item",{attrs:{label:"Y轴标题"}},[a("el-input",{model:{value:e.ySetting.title,callback:function(t){e.$set(e.ySetting,"title",t)},expression:"ySetting.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题对齐方式"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.ySetting.position,callback:function(t){e.$set(e.ySetting,"position",t)},expression:"ySetting.position"}},e._l(e.YPositionOptions,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"标记点"}},[e.ySetting.useSymbol?a("n-tooltip",{attrs:{value:"当数据量超过100条的时候会隐藏\n只有鼠标移上去才会触发"}}):e._e(),e._v(" "),a("el-switch",{model:{value:e.ySetting.useSymbol,callback:function(t){e.$set(e.ySetting,"useSymbol",t)},expression:"ySetting.useSymbol"}})],1),e._v(" "),e.ySetting.useSymbol?[a("el-form-item",{attrs:{label:"标记点大小"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.ySetting.symbolSize,callback:function(t){e.$set(e.ySetting,"symbolSize",t)},expression:"ySetting.symbolSize"}},e._l(e.sizeOptions,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1),e._v(" "),a("el-form-item",{staticClass:"top-form-item",attrs:{label:"标记点样式"}},[a("el-table",{attrs:{data:e.yFields}},[a("el-table-column",{attrs:{prop:"value",label:"类目名称"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("Select",{attrs:{options:e.symbolOptions,clearable:!1},model:{value:t.row.symbol,callback:function(a){e.$set(t.row,"symbol",a)},expression:"scope.row.symbol"}})]}}],null,!1,3521968673)})],1)],1)]:e._e(),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"数据标签"}},[a("el-switch",{model:{value:e.ySetting.dataLabelShow,callback:function(t){e.$set(e.ySetting,"dataLabelShow",t)},expression:"ySetting.dataLabelShow"}})],1),e._v(" "),e.ySetting.dataLabelShow?[a("el-form-item",{attrs:{label:"数据标签位置"}},[a("Select",{attrs:{options:e.positionOptions},model:{value:e.ySetting.dataLabelPosition,callback:function(t){e.$set(e.ySetting,"dataLabelPosition",t)},expression:"ySetting.dataLabelPosition"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签格式化"}},[a("el-switch",{model:{value:e.ySetting.dataLabelUseformatter,callback:function(t){e.$set(e.ySetting,"dataLabelUseformatter",t)},expression:"ySetting.dataLabelUseformatter"}})],1),e._v(" "),e.ySetting.dataLabelUseformatter?a("el-form-item",{attrs:{label:"格式化内容"}},[a("el-tooltip",{attrs:{"popper-class":"tooltip-question",effect:"dark",content:e.formatTips,placement:"top-start"}},[a("i",{staticClass:"el-icon-question"})]),e._v(" "),a("el-input",{attrs:{placeholder:"输入格式化内容"},model:{value:e.ySetting.dataLabelFormatter,callback:function(t){e.$set(e.ySetting,"dataLabelFormatter",t)},expression:"ySetting.dataLabelFormatter"}})],1):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"dot-line"}),e._v(" "),a("el-form-item",{attrs:{label:"刻度线"}},[a("el-switch",{model:{value:e.ySetting.axisTick,callback:function(t){e.$set(e.ySetting,"axisTick",t)},expression:"ySetting.axisTick"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网格"}},[a("el-switch",{model:{value:e.ySetting.splitLine,callback:function(t){e.$set(e.ySetting,"splitLine",t)},expression:"ySetting.splitLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签"}},[a("el-switch",{model:{value:e.ySetting.axisLabel,callback:function(t){e.$set(e.ySetting,"axisLabel",t)},expression:"ySetting.axisLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Y坐标轴"}},[a("el-switch",{model:{value:e.ySetting.axisLine,callback:function(t){e.$set(e.ySetting,"axisLine",t)},expression:"ySetting.axisLine"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最大值"}},[a("el-switch",{model:{value:e.ySetting.useMax,callback:function(t){e.$set(e.ySetting,"useMax",t)},expression:"ySetting.useMax"}}),e._v(" "),e.ySetting.useMax?a("el-input-number",{attrs:{min:e.ySetting.useMin?e.ySetting.min:void 0},model:{value:e.ySetting.max,callback:function(t){e.$set(e.ySetting,"max",t)},expression:"ySetting.max"}}):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:"最小值"}},[a("el-switch",{model:{value:e.ySetting.useMin,callback:function(t){e.$set(e.ySetting,"useMin",t)},expression:"ySetting.useMin"}}),e._v(" "),e.ySetting.useMin?a("el-input-number",{attrs:{max:e.ySetting.useMax?e.ySetting.max:void 0,min:0},model:{value:e.ySetting.min,callback:function(t){e.$set(e.ySetting,"min",t)},expression:"ySetting.min"}}):e._e()],1)],2),e._v(" "),a("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("编辑")])],1)],1)]),e._v(" "),[e._l(e.yFields,(function(t,n){return a("div",{key:n,staticClass:"group-item"},[a("div",{staticClass:"group-title"},[e._v(e._s(t.value))]),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-popover",{attrs:{placement:"bottom-start",width:"300"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"序列类型","label-width":"100px"}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.rowInfo.type,callback:function(t){e.$set(e.rowInfo,"type",t)},expression:"rowInfo.type"}},[a("el-radio-button",{attrs:{label:"line"}},[e._v("折线")]),e._v(" "),a("el-radio-button",{attrs:{label:"bar"}},[e._v("柱状")]),e._v(" "),a("el-radio-button",{attrs:{label:"scatter"}},[e._v("散点")])],1)],1),e._v(" "),a("el-form-item",{staticClass:"flex-item",attrs:{label:"类目名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.value,callback:function(t){e.$set(e.rowInfo,"value",t)},expression:"rowInfo.value"}})],1),e._v(" "),a("el-form-item",{staticClass:"flex-item",attrs:{label:"字段名称","label-width":"100px"}},[a("el-input",{model:{value:e.rowInfo.key,callback:function(t){e.$set(e.rowInfo,"key",t)},expression:"rowInfo.key"}})],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs["y-field-item"][n].$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(){e.setData(t,e.rowInfo),e.$refs["y-field-item"][n].$el.click()}}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"y-field-item",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:function(a){return e.rowEdit(t)}},slot:"reference"},[e._v("编辑")])],1)],1),e._v(" "),a("div",{staticClass:"group-opt"},[a("el-button",{staticClass:"delete-btn",attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.deleteYItem(n)}},slot:"reference"},[e._v("删除")])],1)])})),e._v(" "),a("div",{staticClass:"group-item",staticStyle:{"padding-left":"5px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addYFields}},[a("i",{staticClass:"el-icon-circle-plus"}),e._v("\n          添加数据字段\n        ")])],1)]],2)],1)},i=[]},jivD:function(e,t,a){},johU:function(e,t,a){"use strict";a.r(t);var n=a("lzSl"),i=a("4NdG");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("/XXx");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"008f57b8",null);t.default=r.exports},jpPZ:function(e,t,a){var n=a("lFYI");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("08971bd5",n,!0,{})},js45:function(e,t,a){"use strict";a.r(t);var n=a("TMjU"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},jtmS:function(e,t,a){"use strict";a("HEUb")},jxwP:function(e,t,a){},"jz/q":function(e,t,a){"use strict";a.r(t);var n=a("tg3n"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},k6ZJ:function(e,t,a){"use strict";a.r(t);var n=a("bL37"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},kFLa:function(e,t,a){var n=a("aaFF");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2fd11239",n,!0,{})},kFtu:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea",rows:3,placeholder:e.placeholder,clearable:""},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue="string"==typeof t?t.trim():t},expression:"inputValue"}})],1)},i=[]},kGmN:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("pKu3")),r=n(a("E0s0"));a("uD/U");var s=n(a("YLtl")),c=a("a+hW"),u=n(a("Mqf6")),d=a("7C5+"),p={name:"TableData",components:{VueJsonPretty:r.default,DataSetConfig:o.default},inject:["dndOptions",d.pageInject],mixins:[u.default],data:function(){return{loading:!1,activeCollapse:["config"],activeDataCollapse:["data","column"],dialogVisible:!1,dataVariables:void 0,apiRequest:void 0,selectedPath:void 0,responseOptions:[],response:void 0,tableLoading:!1,activeDataType:""}},computed:{layoutData:function(){return this.getStore().layoutData}},methods:{open:function(e){var t=this,a=e.dataVariables,n=e.apiRequest;this.dataVariables=a?s.default.cloneDeep(a):[],this.apiRequest=s.default.cloneDeep(n)||void 0,this.response=null,this.selectedPath=void 0,this.dialogVisible=!0,this.$nextTick((function(){t.handleInitDnD()}))},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$refs.dataSetConfig.getResult(),n=a.apiRequest,e.apiRequest=n,e.loading=!0,setTimeout((function(){var t={dataVariables:e.dataVariables,apiRequest:e.apiRequest};e.loading=!1,e.$emit("confirm",t),e.dialogVisible=!1}),100);case 4:case"end":return t.stop()}}),t)})))()},handleResponse:function(e){var t=e.response,a=e.responseOptions;e.isStatic;this.response=t,this.responseOptions=a},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response"})},handleInputResponse:function(e){this.response=e,this.responseOptions=(0,c.getObjectTree)(e)},handleClearResponse:function(){this.response=null,this.responseOptions=[]},handleDrop:function(e){var t=e.target.dataset.key,a=this.dataVariables.find((function(e){return e.key===t})),n=(0,c.getPathList)(this.selectedPath);a.path=n.slice(1)}}};t.default=p},"kHT/":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"组件事件",name:"normal"}},[a("n-form",{ref:"dataForm",staticClass:"data-form",attrs:{model:e.dataForm,"label-width":"80px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"条件查询"}},[a("div",{staticClass:"search-item"},[e.dialogVisible?a("tree-select",{attrs:{tree:e.treeData,width:600,multiple:!1,"node-key":"elementId","default-selected-keys":e.defaultSelectedKeys},on:{change:function(t){return e.handleTreeSelectChange(!1,t)}}}):e._e(),e._v(" "),a("el-input",{staticStyle:{margin:"0 10px"},attrs:{placeholder:"请输入名称查询",clearable:""},on:{clear:e.handleSearch},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")])],1)]),e._v(" "),a("n-form-item",{attrs:{label:"程序列表"}},[a("n-table",{attrs:{data:e.eventHandlers.filter((function(e){return e.isShow})),border:"","highlight-current-row":"","max-height":"550px",size:"mini"},on:{"row-click":e.handleRowClick}},[e.isManage?e._e():a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getIsSelected(t.row)?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}],null,!1,3362594668)}),e._v(" "),a("n-table-column",{attrs:{prop:"handlerName",label:"处理程序名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"actionName",label:"动作类型",width:"140px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"eventLabel",label:"所属事件",width:"140px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"elementName",label:"所属组件",width:"140px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"disabled",label:"状态",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?a("span",{staticStyle:{color:"#999"}},[e._v("禁用")]):a("span",{staticStyle:{color:"green"}},[e._v("启用")])]}}])}),e._v(" "),e.isManage?a("n-table-column",{attrs:{prop:"value",label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")])]}}],null,!1,2555042272)}):e._e()],1)],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"公共事件",name:"common"}},[a("div",{staticClass:"search-area"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"处理程序名称查询",clearable:""},on:{clear:function(t){e.commonKeyword=e.tempVal=""}},nativeOn:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.commonKeyword=e.tempVal}},model:{value:e.tempVal,callback:function(t){e.tempVal=t},expression:"tempVal"}},[a("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-search"},on:{click:function(t){e.commonKeyword=e.tempVal}},slot:"append"})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新建事件")])],1),e._v(" "),a("n-table",{attrs:{data:e.commonEvents,border:"","highlight-current-row":"","max-height":"550px",size:"mini"},on:{"row-click":e.handleRowClick}},[e.isManage?e._e():a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.getIsSelected(t.row)?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}],null,!1,3362594668)}),e._v(" "),a("n-table-column",{attrs:{prop:"handlerName",label:"处理程序名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"disabled",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?a("span",{staticStyle:{color:"#999"}},[e._v("禁用")]):a("span",{staticStyle:{color:"green"}},[e._v("启用")])]}}])}),e._v(" "),a("n-table-column",{attrs:{label:"动作类型",prop:"actionName"}}),e._v(" "),e.isManage?a("n-table-column",{attrs:{prop:"value",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.disabled?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.switchDisable(t.row,!1)}}},[e._v("启用")]):a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.switchDisable(t.row,!0)}}},[e._v("禁用")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}],null,!1,2327994404)}):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.isManage?a("el-button",{on:{click:e.clear}},[e._v("关 闭")]):[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])]],2),e._v(" "),a("handler-dialog",{ref:"handlerDialog",on:{confirm:e.handleUpdateEventData}})],1)},i=[]},kLyJ:function(e,t,a){"use strict";a.r(t);var n=a("5Pcb"),i=a("p92G");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("OGn9");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"43728e91",null);t.default=r.exports},"kP6+":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=a("xBdn"),s=n(a("YLtl")),c={name:"JsonCode",components:{ChangeHeight:n(a("ZoP3")).default},props:{value:{type:[String,Object]},isObject:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},resizable:{type:Boolean,default:!1}},data:function(){return{loading:!1,hints:[],monacoInstance:null,provider:null}},computed:{code:{get:function(){return this.formatCode(this.value)},set:function(e){var t=this.isObject?JSON.parse(e):e;this.$emit("input",t)}}},watch:{value:{handler:function(e,t){var a;s.default.isEqual(e,t)||(this.code=this.formatCode(e),null===(a=this.monacoInstance)||void 0===a||a.setValue(this.code))},immediate:!0}},methods:{formatCode:function(e){if("string"!=typeof e){var t;try{t=JSON.stringify(e,(function(e,t){return void 0===t?null:t}),4)}catch(e){console.log(e),this.$message.error("JSON解析失败！")}return t||"{\t}"}if(!(0,r.isValidJsonString)(e))return this.$message.error("JSON解析失败！"),e;try{return JSON.parse(e),e}catch(t){return console.log(t),this.$message.error("JSON解析失败！"),e}},dispose:function(){this.monacoInstance&&(this.monacoInstance.getModel()&&this.monacoInstance.getModel().dispose(),this.monacoInstance.dispose(),this.monacoInstance=null,this.provider&&(this.provider.dispose(),this.provider=null))},init:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,o,r,s,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.codeEditor){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,o=[Promise.all([a.e(0),a.e(1)]).then(a.t.bind(null,"M/lh",7))],t.next=7,Promise.all(o);case 7:r=t.sent,s=(0,l.default)(r,1),c=s[0],e.dispose(),e.monacoInstance=c.editor.create(n,{value:e.code,language:"json",theme:"vs",folding:!1,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:5,enableSplitViewResizing:!1,roundedSelection:!1,overviewRulerBorder:!1,minimap:{enabled:!1},autoIndent:"full",readOnly:e.readOnly,tabSize:4}),e.monacoInstance.onDidFocusEditorText((function(){e.$emit("focus-change",!0)})),e.monacoInstance.onDidBlurEditorText((function(){e.doFormat(),e.$emit("focus-change",!1)})),e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},doFormat:function(){var e=this;this.monacoInstance&&(this.monacoInstance.getAction(["editor.action.formatDocument"])._run(),setTimeout((function(){e.code=e.monacoInstance.getValue()}),200))},handleHeightChange:s.default.throttle((function(e){var t=e.height,a=this.$el.clientHeight+t,n=this.$el.clientWidth;this.monacoInstance.layout({width:n,height:a<300?300:a})}),60)},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeDestroy:function(){this.dispose()}};t.default=c},kSaM:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"90px"}},[a("el-form-item",{attrs:{label:"填充透明度"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,max:1,step:.01},model:{value:e.areaStyleOpacity,callback:function(t){e.areaStyleOpacity=t},expression:"areaStyleOpacity"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},kUbo:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("YLtl")),o=a("0O+R"),r=a("ZDQs"),s=a("7C5+"),c={name:"WidgetTreeSelect",inject:(0,i.default)(s.pageInject),props:{tree:{type:Array,default:function(){return[]}},defaultSelectedKeys:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},showAppNode:{type:Boolean,default:!1},nodeKey:{type:String,default:"id"},treeProps:{type:Object,default:function(){return{children:"children",label:"elementName",disabled:function(e,t){return e.disabled}}}},width:{type:[String,Number],default:"180px"}},data:function(){return{iconMap:r.iconMap,popoverVisible:!1,filterText:"",selectedNodes:[],defaultExpandedKeys:[]}},computed:{treeData:function(){var e;return this.showAppNode?[{elementId:"app",elementType:"page",elementName:"应用",elementVersion:(null===(e=this.tree[0])||void 0===e?void 0:e.elementVersion)||"v1",children:this.tree}]:this.tree},selected:{get:function(){var e;if(this.multiple)return this.selectedNodes.map((function(e){return"".concat(e.elementName," ").concat(e.elementId)}));var t=null===(e=this.selectedNodes[0])||void 0===e?void 0:e.elementId;return(t&&(0,o.getParentNodeListByElementId)(this.treeData,t)||[]).map((function(e){return"".concat(e.elementName)})).join(" / ")}}},watch:{defaultSelectedKeys:{immediate:!0,deep:!0,handler:function(e,t){var a,n=[];o.treeUtil.forEach(this.treeData,(function(t){e.includes(t.elementId)&&n.push(t)})),this.selectedNodes=n;var r=this.getStore().layoutData,s=r.elementId,c=r.children.map((function(e){return e.elementId}));this.defaultExpandedKeys=n.length?n.map((function(e){return e.elementId})):l.default.uniq([null===(a=this.treeData[0])||void 0===a?void 0:a.elementId,s].concat((0,i.default)(c))).filter((function(e){return e}))}},filterText:function(e){this.$refs.tree.filter(e)}},methods:{filterNode:function(e,t){return!e||-1!==t[this.treeProps.label].indexOf(e)},handleCheckClick:function(e,t,a){this.multiple||this.$refs.tree.setCheckedKeys([e[this.nodeKey]])},handleCheckChange:l.default.debounce((function(){this.selectedNodes=this.$refs.tree.getCheckedNodes(),this.$emit("change",this.selectedNodes),this.multiple||this.$refs.trigger.$el.click()}),100),clearSelection:function(){this.$refs.tree.setCheckedKeys([])},handleRemoveSelection:function(e){var t=l.default.last(e.split("_"));this.selectedNodes=this.selectedNodes.filter((function(e){return e.elementId!==t})),this.$refs.tree.setChecked(t,!1)}}};t.default=c},ksgD:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=n(a("KQm4")),s=n(a("zAL8")),c=a("0O+R"),u=n(a("YLtl")),d=a("8SHQ"),p=n(a("slWK")),f=a("a+hW"),v=a("xBdn"),m=a("tgb1"),h=a("7Qib"),b=a("7C5+"),g=a("uzoN"),y={name:"VariableSelect",inject:(0,r.default)(b.pageInject),components:{TreeSelect:s.default},data:function(){return{loading:!1,dialogVisible:!1,dataForm:{},currentMenu:"widget",variables:[],appVariables:[],dynamicVariables:[],selectedVariable:void 0,selectedDesc:void 0,defaultSelectedKeys:[],suffix:void 0,response:void 0,responseOptions:void 0,suffixPath:[],popoverVisible:!1,callbackId:void 0,functionId:void 0,hideFunc:!1,rootNode:void 0,localStorage:{},sessionStorage:{},cookie:{},openData:{},hasEmitParams:!1,emitParams:[],showMenus:[]}},computed:{dynamicProps:function(){return this.getStore().dynamicProps},layoutData:{get:function(){return this.getStore().layoutData}},treeData:function(){var e=this,t=this.rootNode?u.default.cloneDeep(this.rootNode):u.default.cloneDeep(this.layoutData);return c.treeUtil.forEach([t],(function(t){var a=[];t.children.forEach((function(t){if(!["slot"].includes(t.elementType)||!1!==e.getElementPropsById(t.elementId).isVisible&&!["data"].includes(e.getElementPropsById(t.elementId).slotType)){if(["dialog-container","timer-container"].includes(t.elementType)){if(!t.children.length)return;t.disabled=!0}a.push(t)}})),t.children=a,t.elementName=e.getElementPropsById(t.elementId).elementName||t.elementName})),t.children},menuList:function(){var e=this,t=[];return t=this.callbackId?[{label:"应用变量",value:"app"},{label:"页面变量",value:"page"},{label:"组件变量",value:"widget"},{label:"回调变量",value:"callback"}]:[{label:"应用变量",value:"app"},{label:"页面变量",value:"page"},{label:"组件变量",value:"widget"}],this.hasEmitParams&&t.push({label:"事件参数",value:"emitParams"}),this.hideFunc||t.push({label:"高级变量",value:"func"}),this.showMenus.length?t.filter((function(t){return e.showMenus.includes(t.value)})):t},currentFunction:function(){var e=this;return this.getStore().functionsData.find((function(t){return t.id===e.functionId}))},selectPathDisabled:function(){return this.selectedVariable.includes("$dynamicVariables")||this.selectedVariable.includes("$appVariables")}},methods:{open:function(e){var t=this;return(0,o.default)(i.default.mark((function a(){var n,o,s,p,v,b,g,y,_,k,C,O,w,x,S,D,P,j,T,I,F,E,A,q,N,R,V,$,L,M,K,B;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.openData=e,t.hasEmitParams=e.emitEvent&&(null===(n=e.emitEvent.params)||void 0===n?void 0:n.length),o=e.fullVariable,s=e.callbackId,p=e.hideFunc,v=void 0!==p&&p,b=e.rootNode,g=e.showMenus,y=void 0===g?[]:g,t.handleInitLocalData(),a.next=6,t.handleGetAppVariables();case 6:if(t.rootNode=b,t.hideFunc=v,t.callbackId=s,t.showMenus=y,_=o&&o.includes(d.FUNCTION_FLAG)?o.split(d.FUNCTION_FLAG)[1]:void 0,k=(0,h.isValidateVariable)(o)?o.split(".$")[0]:void 0,C=null==o?void 0:o.split(".")[1],k&&(w=null!=C&&C.includes("[")?"".concat(k,".").concat(C.split("[")[0]):"".concat(k,".").concat(C.split(".")[0]),O=null==o?void 0:o.split(w)[1]),x=u.default.cloneDeep(t.getElementPropsById(t.layoutData.elementId).dynamicVariables||{}),S=t.getElementPropsById(t.layoutData.elementId).elementName||t.layoutData.elementName,t.dynamicVariables=Object.entries(x).map((function(e){var a=(0,l.default)(e,2),n=a[0],i=a[1];return{label:"".concat(t.layoutData.elementId,".$dynamicVariables.").concat(n,".value"),value:"".concat(t.layoutData.elementId,".$dynamicVariables.").concat(n,".value"),desc:i.desc||n,widget:S,elementId:t.layoutData.elementId}})),D=!!window.localStorage.getItem("loginKey"),P=!!window.localStorage.getItem("userInfo"),t.appVariables=[].concat((0,r.default)(t.appVariables),[D?{label:"".concat(t.layoutData.elementId,".$localStorage.loginKey"),value:"".concat(t.layoutData.elementId,".$localStorage.loginKey"),desc:"登录信息",widget:"应用",elementId:t.layoutData.elementId}:void 0,P?{label:"".concat(t.layoutData.elementId,".$localStorage.userInfo"),value:"".concat(t.layoutData.elementId,".$localStorage.userInfo"),desc:"用户信息",widget:"应用",elementId:t.layoutData.elementId}:void 0,{label:"".concat(t.layoutData.elementId,".$localStorage"),value:"".concat(t.layoutData.elementId,".$localStorage"),desc:"应用本地缓存LocalStorage",widget:"应用",elementId:t.layoutData.elementId},{label:"".concat(t.layoutData.elementId,".$sessionStorage"),value:"".concat(t.layoutData.elementId,".$sessionStorage"),desc:"应用临时缓存sessionStorage",widget:"应用",elementId:t.layoutData.elementId},{label:"".concat(t.layoutData.elementId,".$cookie"),value:"".concat(t.layoutData.elementId,".$cookie"),desc:"应用cookie",widget:"应用",elementId:t.layoutData.elementId}]).filter((function(e){return e})),!(j=(0,c.getNodeByElementId)(t.layoutData,k||""))){a.next=54;break}a.t0=j.elementType,a.next="page"===a.t0?25:47;break;case 25:if(!["$localStorage","$sessionStorage","$cookie"].some((function(e){return"".concat(o).includes(e)}))){a.next=45;break}t.currentMenu="app",t.variables=u.default.cloneDeep(t.appVariables),t.selectedVariable=w,t.suffix=O?O.slice(1,O.length):"",t.suffixPath=(0,f.getPathList)(t.suffix),a.t1=!0,a.next=a.t1==="".concat(o).includes("$localStorage")?34:a.t1==="".concat(o).includes("$sessionStorage")?37:a.t1==="".concat(o).includes("$cookie")?40:43;break;case 34:return t.response=t.localStorage,t.responseOptions=(0,f.getObjectTree)(t.response),a.abrupt("break",43);case 37:return t.response=t.sessionStorage,t.responseOptions=(0,f.getObjectTree)(t.response),a.abrupt("break",43);case 40:return t.response=t.cookie,t.responseOptions=(0,f.getObjectTree)(t.response),a.abrupt("break",43);case 43:a.next=46;break;case 45:["$response"].some((function(e){return"".concat(o).includes(e)}))?(t.currentMenu="callback",t.selectedVariable="".concat(w,".").concat(s),t.suffix=O?O.slice(s.length+2,O.length):"",t.suffixPath=(0,f.getPathList)(t.suffix),t.selectedDesc="回调变量",t.handleGetJsonConfig(t.selectedVariable)):t.appVariables.some((function(e){return 0===o.indexOf(e.value)}))?(T=t.appVariables.find((function(e){return 0===o.indexOf(e.value)})),t.selectedVariable=(null==T?void 0:T.value)||o,t.currentMenu="app",t.variables=u.default.cloneDeep(t.appVariables),I=T?o.replace(T.value,""):"",t.suffix=I?I.slice(1,I.length):"",t.suffixPath=(0,f.getPathList)(t.suffix)):(t.currentMenu="page",t.handleUpdateVariables(t.layoutData),F=t.dynamicVariables.find((function(e){return 0===o.indexOf(e.value)})),t.selectedVariable=(null==F?void 0:F.value)||o,E=F?o.replace(F.value,""):"",t.suffix=E?E.slice(1,E.length):"",t.suffixPath=(0,f.getPathList)(t.suffix));case 46:return a.abrupt("break",54);case 47:return t.currentMenu="widget",t.handleUpdateVariables(j),t.selectedVariable=w,t.suffix=O?O.slice(1,O.length):"",t.suffixPath=(0,f.getPathList)(t.suffix),t.handleGetJsonConfig(t.selectedVariable),a.abrupt("break",54);case 54:k&&(j||(["$localStorage","$sessionStorage","$cookie"].some((function(e){return"".concat(o).includes(e)}))?t.currentMenu="app":["$response"].some((function(e){return"".concat(o).includes(e)}))?(t.currentMenu="callback",t.suffix=O?O.slice(s.length+2,O.length):"",t.suffixPath=(0,f.getPathList)(t.suffix)):t.appVariables.some((function(e){return e.value===o}))?t.currentMenu="app":["$dynamicVariables"].some((function(e){return"".concat(o).includes(e)}))?t.currentMenu="page":t.currentMenu="widget"),t.defaultSelectedKeys=[k],t.selectedDesc=j?null===(A=m.getVariableByVersion.call(t,{elementType:j.elementType,elementVersion:j.elementVersion,elementId:k})[C])||void 0===A?void 0:A.desc:""),_&&(t.functionId=_,t.$nextTick((function(){var e;t.currentMenu="func",t.selectedVariable=o,t.selectedDesc=null===(e=t.currentFunction)||void 0===e?void 0:e.name}))),"callback"===t.currentMenu&&t.callbackId&&(t.selectedVariable="".concat(t.layoutData.elementId,".$response.").concat(s),t.selectedDesc="回调变量",t.handleGetJsonConfig(t.selectedVariable)),t.hasEmitParams&&(q=e.emitEvent,N=q.elementId,q.eventName,R=q.params,V=t.getElementPropsById(N),$=V.elementName,t.emitParams=R.map((function(e,t){return{label:"".concat(N,".$emitEvent.args.[").concat(t,"]"),value:"".concat(N,".$emitEvent.args.[").concat(t,"]"),desc:e.name||"第".concat(t+1,"个参数"),widget:$,elementId:N}})),t.emitParams.unshift({label:"".concat(N,".$emitEvent.args"),value:"".concat(N,".$emitEvent.args"),desc:"所有参数 (数组, 同function中的 arguments)",widget:$,elementId:N}),(L=(0,m.getEmitParamsRegx)(N)).test(o)&&(t.variables=u.default.cloneDeep(t.emitParams),K=o.replace(L,"$3"),B=o.replace(K,""),t.selectedVariable=B,t.selectedDesc=null===(M=t.emitParams.find((function(e){return t.isSelectedRow(e.value)})))||void 0===M?void 0:M.desc,t.suffix=K.slice(1),t.currentMenu="emitParams")),t.showMenus.length&&!t.showMenus.includes(t.currentMenu)&&t.handleSelectMenu({value:t.showMenus[0]}),t.dialogVisible=!0;case 60:case"end":return a.stop()}}),a)})))()},clear:function(){this.selectedVariable=void 0,this.selectedDesc=void 0,this.defaultSelectedKeys=[],this.suffix=void 0,this.response=void 0,this.responseOptions=void 0,this.callbackId=void 0,this.suffixPath=[],this.functionId=void 0,this.loading=!1,this.dialogVisible=!1},confirm:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var a,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("func"!==e.currentMenu){t.next=5;break}return t.next=3,e.$refs.jsConfig.confirm();case 3:e.selectedVariable="".concat(d.FUNCTION_FLAG).concat(e.functionId),e.selectedDesc=null===(a=e.currentFunction)||void 0===a?void 0:a.name;case 5:if(e.selectedVariable){t.next=8;break}return e.$message({message:"请选择变量",type:"error"}),t.abrupt("return");case 8:n=e.suffix,"callback"===e.currentMenu&&(n=e.suffixPath&&e.suffixPath.length?(0,f.getPathString)(e.suffixPath):e.suffix),e.$emit("confirm","".concat(e.selectedVariable).concat(n?".".concat(n):""),e.selectedDesc||e.selectedVariable),e.clear();case 12:case"end":return t.stop()}}),t)})))()},handleClose:function(e){this.clear(),e()},handleSelectMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)switch(this.currentMenu=e.value,this.suffix=void 0,this.selectedVariable=void 0,e.value){case"app":this.variables=u.default.cloneDeep(this.appVariables);break;case"page":this.handleUpdateVariables(this.layoutData);break;case"widget":this.variables=[];break;case"callback":this.variables=[],this.selectedDesc="回调变量",this.suffix="",this.suffixPath=[],this.selectedVariable="".concat(this.layoutData.elementId,".$response.").concat(this.callbackId),this.handleGetJsonConfig(this.selectedVariable);break;case"func":this.variables=[],this.selectedDesc="",this.suffix="",this.suffixPath=[],this.selectedVariable=this.functionId?"".concat(d.FUNCTION_FLAG).concat(this.functionId):"";break;case"emitParams":this.variables=u.default.cloneDeep(this.emitParams)}},handleTreeSelectChange:function(e,t){if(!e){var a=t[0];this.handleUpdateVariables(a)}},handleUpdateVariables:function(e){var t=this;if(e){var a=this.getElementPropsById(e.elementId).cssMode,n=m.getVariableByVersion.call(this,{elementType:e.elementType,elementVersion:e.elementVersion,elementId:e.elementId});if(n){var i=this.getElementPropsById(e.elementId).elementName,o=Object.entries(n||{}).filter((function(e){var t=(0,l.default)(e,2),n=t[0],i=t[1];return![2].includes(i.auth)&&("config"===a&&"$stylesText"!==n||"config"!==a&&"$styles"!==n)}));this.variables=o.map((function(t){var a=(0,l.default)(t,2),n=a[0],o=a[1];return{label:"".concat(e.elementId,".").concat(n),value:"".concat(e.elementId,".").concat(n),desc:o.desc,widget:i||e.elementName,elementId:e.elementId,isNotSupported:g.notSupportedKeys.includes(n)}})),"page"===e.elementType&&(this.variables=[].concat((0,r.default)(this.variables),(0,r.default)(this.dynamicVariables)).filter((function(e){return e.value!=="".concat(t.getStore().layoutData.elementId,".$elementId")})))}else this.variables=[]}else this.variables=[]},handleRowClick:function(e,t,a){this.selectedVariable=e.value,this.selectedDesc=e.desc,this.suffix="",this.suffixPath=[],this.response=void 0,this.responseOptions=void 0,this.hasEmitParams&&"emitParams"===this.currentMenu||this.open({fullVariable:e.label,callbackId:this.callbackId,hideFunc:this.hideFunc,rootNode:this.rootNode,showMenus:this.showMenus})},handleShowSelect:function(){this.popoverVisible=!this.popoverVisible},handlePathChange:function(e){this.suffix=(0,f.getPathString)(e)},handleGetJsonConfig:u.default.debounce((function(e){var t=this;this.$http({url:p.default.appDesignJsonDataConfigQuery,data:{appDesignId:Number(this.$route.query.vid),key:e}}).then((function(e){var a=e.data;if("callback"===t.currentMenu)return t.response=a&&"string"==typeof a&&(0,v.isValidJsonString)(a)?JSON.parse(a):a,void(t.responseOptions=u.default.isObject(t.response)?(0,f.getObjectTree)(t.response):void 0);t.response=a?JSON.parse(a):void 0,t.responseOptions=u.default.isObject(t.response)?(0,f.getObjectTree)(t.response):void 0})).finally((function(){}))}),300),handleSuffixChange:function(e){this.suffixPath=(0,f.getPathList)(e)},isShowDetail:function(e){if("callback"===this.currentMenu||"emitParams"===this.currentMenu)return!0;var t,a=e.split(".")[0],n=e.split(".")[1];if(t=n.includes("[")?n.split("[")[0]:n.split(".")[0],a===this.layoutData.elementId&&["$dynamicVariables","$appVariables"].includes(t))return!0;var i,l=(0,c.getNodeByElementId)(this.layoutData,a),o=l.elementType,r=l.elementVersion,s=m.getVariableByVersion.call(this,{elementType:o,elementVersion:r,elementId:a})[t];return!!s&&(i="function"==typeof s.type?s.type.name.toLowerCase():s.type.toLowerCase(),["array","object"].includes(i))},handleGetAppVariables:function(){var e=this;return this.$http({url:p.default.appVariablesList,data:{appDesignId:Number(this.$route.query.vid)}}).then((function(t){var a=t.data.map((function(t){return{label:"".concat(e.layoutData.elementId,".$appVariables.").concat(t.name,".value"),value:"".concat(e.layoutData.elementId,".$appVariables.").concat(t.name,".value"),desc:t.description||t.name,widget:"应用",elementId:e.layoutData.elementId}}));e.appVariables=a}))},isSelectedRow:function(e){var t=this.selectedVariable,a=this.suffix,n="".concat(t).concat(a?"."+a:""),i=this.variables.map((function(e){return e.value})).filter((function(e){return-1!==n.indexOf(e)})),l=i.filter((function(e){return!i.find((function(t){return t!==e&&-1!==t.indexOf(e)}))}));return t&&l.length&&l[0]===e},handleInitLocalData:function(){var e=Object.entries(window.localStorage).filter((function(e){var t=(0,l.default)(e,2),a=t[0];t[1];return!a.includes("STORE_PAGE_KEY")})).map((function(e){var t=(0,l.default)(e,2),a=t[0],n=t[1];return n&&(0,v.isValidJsonString)(n)?[a,JSON.parse(n)]:[a,n]})),t=Object.entries(window.sessionStorage).map((function(e){var t=(0,l.default)(e,2),a=t[0],n=t[1];return n&&(0,v.isValidJsonString)(n)?[a,JSON.parse(n)]:[a,n]}));this.localStorage=Object.fromEntries(e),this.sessionStorage=Object.fromEntries(t),this.cookie=(0,h.getCookies)()},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=y},kzdx:function(e,t,a){var n=a("w0o9");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9f9285d8",n,!0,{})},l9wy:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"数据格式化",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content"},[a("n-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("n-tab-pane",{attrs:{label:"普通",name:"normal"}},[a("div",{staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("选择分类")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},on:{change:function(t){e.functionName=""}},model:{value:e.formatterType,callback:function(t){e.formatterType=t},expression:"formatterType"}},e._l(e.normalFormatterTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),e._v(" "),a("div",{staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("选择函数")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},model:{value:e.functionName,callback:function(t){e.functionName=t},expression:"functionName"}},e._l(e.functionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),e._v(" "),a("el-divider"),e._v(" "),"fixNumber"===e.functionName?[a("div",{staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("选择保留小数位数")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},model:{value:e.fixed,callback:function(t){e.fixed=t},expression:"fixed"}},e._l([0,1,2,3,4],(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)])]:e._e(),e._v(" "),"enumeration"===e.functionName?e._l(e.enumeration,(function(t,n){return a("div",{key:n,staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("枚举值")]),e._v(" "),a("div",{staticClass:"value"},[a("el-input",{attrs:{size:"mini"},model:{value:t.value,callback:function(a){e.$set(t,"value","string"==typeof a?a.trim():a)},expression:"enu.value"}})],1),e._v(" "),a("i",{staticClass:"iconfont el-icon-right",staticStyle:{"margin-left":"10px"}}),e._v(" "),a("div",{staticClass:"value"},[a("el-input",{attrs:{size:"mini"},model:{value:t.label,callback:function(a){e.$set(t,"label","string"==typeof a?a.trim():a)},expression:"enu.label"}})],1),e._v(" "),a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddEnu}},[e._v("+")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteEnu(t)}}},[e._v("\n                -\n              ")])])])})):e._e(),e._v(" "),"dateFormat"===e.functionName?[a("div",{staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("选择日期格式")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},model:{value:e.valueFormat,callback:function(t){e.valueFormat=t},expression:"valueFormat"}},e._l(e.dateFormatOptions,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)])]:e._e(),e._v(" "),"exec"===e.functionName?[a("div",{staticClass:"input-item"},[a("div",{staticClass:"label"},[e._v("正则表达式\n              "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.执行js的正则exec方法对字符串进行提取，返回提取到的第一个结果，没有则返回空字符串"),a("br"),e._v('2.注意：表达式前后请不要再输入斜杠"/"及属性gim')]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("div",{staticClass:"value"},[a("el-input",{staticStyle:{width:"500px","margin-bottom":"10px","margin-top":"30px"},attrs:{placeholder:"请输入正则表达式"},model:{value:e.regexp,callback:function(t){e.regexp="string"==typeof t?t.trim():t},expression:"regexp"}}),e._v(" "),a("div",[a("el-checkbox",{model:{value:e.isI,callback:function(t){e.isI=t},expression:"isI"}},[e._v("忽略大小写")]),e._v(" "),a("el-checkbox",{model:{value:e.isM,callback:function(t){e.isM=t},expression:"isM"}},[e._v("多行匹配")])],1)],1)])]:e._e()],2),e._v(" "),a("n-tab-pane",{attrs:{label:"高级",name:"js",lazy:""}},[a("div",{staticStyle:{height:"34px","line-height":"34px"}},[a("span",[e._v("渲染方式：")]),e._v(" "),a("el-radio-group",{model:{value:e.renderType,callback:function(t){e.renderType=t},expression:"renderType"}},[a("el-tooltip",{attrs:{content:"渲染为文本类型，返回值为undefined时不显示",placement:"top"}},[a("el-radio",{attrs:{label:"default"}},[e._v("文本")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"渲染为html标签",placement:"top"}},[a("el-radio",{attrs:{label:"html"}},[e._v("html")])],1)],1),e._v(" "),"html"===e.renderType?[a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleShowHtmlTemplate}},[e._v("选择html模板")]),e._v(" "),a("htmlTemplate",{ref:"htmlTemplate",on:{confirm:e.handleSelectHtmlTemplate}})]:e._e()],2),e._v(" "),a("js-config",{ref:"jsConfig",attrs:{"pure-function":!0,"default-arguments":e.defaultArguments},model:{value:e.functionId,callback:function(t){e.functionId=t},expression:"functionId"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},lAjS:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=a("tgb1"),o=a("7C5+"),r={inject:(0,i.default)(o.pageInject),props:{defaultValue:{type:[Object,String,Number]},propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}}},computed:{getElementName:function(){var e=this.elementProps,t=e.elementType,a=e.elementVersion;return l.getPropsValues.call(this,{elementType:t,elementVersion:a}).elementName}}};t.default=r},lCTG:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ODXe")),l=n(a("slWK")),o=n(a("Mz3J")),r=n(a("KEv7")),s=a("7Qib"),c={name:"GatewayDataSelect",components:{Pagination:o.default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{applicationCode:"",currentPage:1,pageSize:10,serviceCode:"",serviceName:"",status:"1"},dataList:[],selectedRow:null}},methods:{open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?this.handleGetServeDetail():this.$message.error("请选择数据源")},handleGetServeDetail:function(){var e=this;this.loading=!0,(0,r.default)({url:l.default.gatewayDataDetail,method:"GET",params:{serviceCode:this.selectedRow.serviceCode},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data.data,n=JSON.parse(a.requestHeader)||[],l=JSON.parse(a.requestParams)||[],o=JSON.parse(a.responseText),r=JSON.parse(a.requestText),s=l.map((function(e){return{key:e.key,value:e.value,test:e.value}})),c=Array.isArray(r)?[]:Object.entries(r||{}).map((function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}})),u=n.map((function(e){return{key:e.key,value:e.value,test:e.value}})),d=window.location.protocol,p=window.location.host,f={url:"".concat(d,"//").concat(p,"/gateway").concat(a.serviceCode),method:"",type:4,paramsData:s.length?s:[{key:"",value:void 0,test:void 0}],bodyData:c.length?c:[{key:"",value:void 0,test:void 0}],headersData:u.length?u:[{key:"",value:void 0,test:void 0}]};switch(a.requestMethod){case 1:f.method="GET";break;case 2:f.method="POST";break;case 3:f.method="PUT";break;case 4:f.method="DELETE";break;case 5:f.method="PATCH"}var v={apiRequest:f,response:o,apiInfo:e.selectedRow,detail:a};e.$emit("confirm",v),e.dialogVisible=!1})).catch((function(t){e.$message.error("数据解析错误")})).finally((function(){e.loading=!1}))},handleSearch:function(e){var t=this;this.loading=!0,e&&(this.queryForm={applicationCode:"",currentPage:1,pageSize:10,serviceCode:"",serviceName:"",status:"1"}),(0,r.default)({url:l.default.gatewayDataList,method:"POST",data:this.queryForm,headers:(0,s.getCommonHeaders)()}).then((function(e){var a=e.data.data;t.totalCount=a.total,t.dataList=a.list})).finally((function(){t.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.currentPage=t,this.queryForm.pageSize=a,this.handleSearch(!1)}}};t.default=c},lCbR:function(e,t,a){"use strict";a.r(t);var n=a("FL+T"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},lFYI:function(e,t,a){},lIVo:function(e,t,a){var n=a("/C89");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4d0588d8",n,!0,{})},lQoF:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ODXe")),l=n(a("slWK")),o=n(a("Mz3J")),r=n(a("KEv7")),s=a("7Qib"),c=a("a+hW"),u={name:"orchestrationData",components:{Pagination:o.default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{condition:{executeType:1,name:null,description:null,sceneCode:null,labelName:null,createUser:null},pagination:{pagenum:1,pagesize:100,sort:null}},dataList:[],selectedRow:null,labelNameList:[],searchType:"name",sceneList:[]}},methods:{formatTime:c.formatTime,open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?this.handleGetServeDetail():this.$message.error("请选择")},handleGetServeDetail:function(){var e=this;this.loading=!0,(0,r.default)({url:l.default.atmOrchestrationDetail,method:"POST",data:{params:{orchestrationName:this.selectedRow.name}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data,n=a.data.orchestrationParams.map((function(e){return{paramName:e.paramName,paramValue:e.defaultValue,paramType:e.paramType,value:e.value}})),l={params:{orchestrationId:a.data.orchestrationId,orchestrationParams:n}},o=Object.entries(l).map((function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}})),r={apiRequest:{url:"/atm/job/execute/orchestration",method:"POST",type:"orchestration",paramsData:[{key:"",value:void 0,test:void 0}],bodyData:o.length?o:[{key:"",value:void 0,test:void 0}],headersData:[{key:"",value:void 0,test:void 0}]},apiDetail:a.data};e.$emit("confirm",r),e.dialogVisible=!1})).catch((function(t){e.$message.error("数据解析错误")})).finally((function(){e.loading=!1}))},handleSearch:function(e){var t=this;this.loading=!0,e&&(this.queryForm={condition:{executeType:1,name:null,description:null,sceneCode:null,labelName:null,createUser:null},pagination:{pagenum:1,pagesize:100,sort:null}}),(0,r.default)({url:l.default.atmOrchestrationList,method:"POST",data:{params:this.queryForm},headers:(0,s.getCommonHeaders)()}).then((function(e){var a=e.data;t.totalCount=a.data.rowCount,t.dataList=a.data.records})).finally((function(){t.loading=!1}))},handleGetLableList:function(){var e=this;(0,r.default)({url:l.default.atmCommonLabelList,method:"POST",data:{params:{pagination:{pagenum:1,pagesize:999}}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data;e.labelNameList=a.data.records}))},handleGetSceneList:function(){var e=this;(0,r.default)({url:l.default.atmSceneList,method:"POST",data:{params:{pagination:{pagenum:1,pagesize:999}}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data;e.sceneList=a.data}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch(!1)},handleResetCondition:function(e){switch(e){case"sceneCode":this.handleGetSceneList();break;case"labelName":this.handleGetLableList()}this.queryForm.condition.name=null,this.queryForm.condition.labelName=null,this.queryForm.condition.description=null,this.queryForm.condition.sceneCode=null,this.queryForm.condition.createUser=null}}};t.default=u},lUsD:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择数据源",visible:e.dialogVisible,width:"1000px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("n-form",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select-form",attrs:{"label-position":"top",model:e.queryForm,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("div",{staticClass:"table-search"},[a("el-select",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"请选择"},on:{change:e.handleSearch},model:{value:e.queryForm.condition.type,callback:function(t){e.$set(e.queryForm.condition,"type",t)},expression:"queryForm.condition.type"}},e._l(e.typeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"输入名称查询"},model:{value:e.queryForm.condition.name,callback:function(t){e.$set(e.queryForm.condition,"name",t)},expression:"queryForm.condition.name"}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.handleSearch}})],1)]),e._v(" "),a("n-form-item",[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":""},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.id===t.row.id?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("n-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("n-table-column",{attrs:{prop:"type",label:"类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getTypeLabel(t.row.type)))])]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"databaseName",label:"数据库"}})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},lVDb:function(e,t,a){"use strict";a.r(t);var n=a("FFaq"),i=a("2CNY");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("gUec");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"69bda768",null);t.default=r.exports},lX2M:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={name:"ConfigUploadMode",components:{uploadData:n(a("6nq0")).default},props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String}},data:function(){return{requiredArr:[],autoTip:"开启自动上传后,可支持多选,组件值为上传接口成功后返回的访问链接"}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}},limit:{get:function(){return this.elementProps.limit},set:function(e){var t=o(o({},this.elementProps),{},{limit:e});this.$emit("update",t)}}},methods:{openUploadData:function(){var e=this.elementProps,t=e.dataVariables,a=e.elementId,n=this.elementProps.apiRequest;n||(n={desc:"",url:"",method:"POST",type:4,paramsData:[{key:"",value:void 0,test:void 0}],bodyData:[{key:"file",value:"".concat(a,".$file")},{key:"fileName",value:"".concat(a,".$fileName")}],headersData:[{key:"Content-Type",test:"multipart/form-data",value:"multipart/form-data"}]}),this.$refs.uploadData.open({dataVariables:t,apiRequest:n})},handleConfirm:function(e){this.$emit("update",o(o({},this.elementProps),e))}}};t.default=r},ldWq:function(e,t,a){"use strict";a("i2iI")},lq9J:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("自动化运维操作")])]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"api-config"},[a("n-form",{ref:"apiRequest",staticClass:"data-select-form",attrs:{"label-position":"top",model:e.apiRequest,rules:e.rules,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-radio-group",{staticClass:"api-button-group",on:{change:e.changeType},model:{value:e.apiRequest.type,callback:function(t){e.$set(e.apiRequest,"type",t)},expression:"apiRequest.type"}},e._l(e.types,(function(t){return a("el-radio-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1),e._v(" "),a("div",{staticClass:"form-item-wrapper"},[a("div",{staticClass:"url-title"},[e._v("\n            "+e._s(e.title)+"\n          ")]),e._v(" "),a("n-form-item",{staticClass:"no-border",attrs:{prop:"url"}},[a("div",{staticClass:"inline-form-item",staticStyle:{padding:"0"}},[a("el-input",{attrs:{value:e.currentName,readonly:"",placeholder:"请选择"},on:{click:e.handleShowDevopsDataSelect}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleShowDevopsDataSelect}},[e._v("选择")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleFetch}},[e._v("测试")])],1)])],1),e._v(" "),a("div",{staticClass:"sql-desc"},[e.apiRequest.apiDetail?[["script"].includes(e.apiRequest.type)?a("div",{staticClass:"desc-item"},e._l(e.apiRequest.apiDetail.scriptLabels,(function(t){return a("el-tag",{key:t.labelId,staticStyle:{"margin-right":"10px"}},[e._v(e._s(t.labelTitle))])})),1):a("div",{staticClass:"desc-item"},[e._v(e._s(e.apiRequest.apiDetail.description))])]:e._e()],2),e._v(" "),a("n-form-item",{attrs:{label:""}},[a("div",{staticClass:"params-config"},[a("el-button",{staticClass:"source-edit-button",attrs:{type:"primary"},on:{click:function(t){return e.showInputDialog("object",e.paramsSource,e.activeParamsName,"paramsSource")}}},[e._v("转换器")]),e._v(" "),a("n-table",{staticStyle:{width:"100%"},attrs:{data:e.currentParamsData,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{width:"200",prop:"key",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                        "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                      ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{attrs:{disabled:["paramsData","headersData"].includes(e.activeParamsName)},on:{click:function(a){return e.showInputDialog("number",t.row,"value")}}},[e._v("数值\n                        ")]),e._v(" "),a("el-button",{attrs:{disabled:["paramsData","headersData"].includes(e.activeParamsName)},on:{click:function(a){return e.showInputDialog("object",t.row,"value")}}},[e._v("对象\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                        ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.value=e}}})],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"test",label:"测试值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.test?a("el-tooltip",{attrs:{effect:"dark",content:e.isFile(t.row.test)?t.row.test.name:e.formatTip(t.row.test),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":""},on:{click:function(a){return e.handleTagClick(t.row,"test")},close:function(e){t.row.test=void 0}}},[e._v("\n                        "+e._s(e.isFile(t.row.test)?"文件":e.formatTag(t.row.test))+"\n                      ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"test")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("number",t.row,"test")}}},[e._v("数值\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("object",t.row,"test")}}},[e._v("对象\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.selectFile(t.$index)}}},[e._v("文件\n                        ")]),e._v(" "),a("input",{ref:"fileRef"+t.$index,staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(a){return e.fileChange(a,t.$index)}}})],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.test=e}}})],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{width:"120",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddParams}},[e._v("+")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("\n                      -\n                    ")])])]}}])})],1)],1)])],1),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("script-data",{ref:"scriptData",on:{confirm:e.handleSelectConfirm}}),e._v(" "),a("orchestration-data",{ref:"orchestrationData",on:{confirm:e.handleSelectConfirm}}),e._v(" "),a("sncflower-data",{ref:"sncflowerData",on:{confirm:e.handleSelectConfirm}}),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}})],1)],2)],1)},i=[]},lrFb:function(e,t,a){"use strict";a.r(t);var n=a("hraq"),i=a("7b+j");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("2AOB");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"b2867ee0",null);t.default=r.exports},ls10:function(e,t,a){"use strict";a.r(t);var n=a("h6le"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},ltX8:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("ODXe")),r=n(a("rePB")),s=n(a("KQm4")),c=n(a("zAL8")),u=a("0O+R"),d=n(a("YLtl")),p=a("8SHQ"),f=n(a("slWK")),v=n(a("E0s0"));a("uD/U");var m=a("cCei"),h=a("YkOj"),b=a("CDKT"),g=n(a("oRZJ")),y=n(a("t2rG")),_=a("ZDQs"),k=a("hNau"),C=n(a("yQm5")),O=a("tgb1"),w=n(a("6D8J")),x=n(a("vbn+")),S=n(a("GuZC")),D=a("7C5+"),P=n(a("3k2e")),j=n(a("W5FL")),T=a("uzoN"),I=a("7Qib");function F(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,r=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){r=!0,l=e},f:function(){try{o||null==a.return||a.return()}finally{if(r)throw l}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N={name:"FunctionSelect",inject:(0,s.default)(D.pageInject),components:{TreeSelect:c.default,VueJsonPretty:v.default,draggable:y.default,TabsParams:w.default,CollapseParams:x.default,StepsParams:S.default,StyleConfigParams:P.default,AnimationConfigParams:j.default},mixins:[g.default],data:function(){return{EXECUTE_CUSTOM_FN:b.EXECUTE_CUSTOM_FN,COMMON_FN_ASSIGN:h.COMMON_FN_ASSIGN,ADD_TAB:b.ADD_TAB,CHANGE_TAB:b.CHANGE_TAB,CHANGE_COLLAPSE:b.CHANGE_COLLAPSE,TOGGLE_COLLAPSE:b.TOGGLE_COLLAPSE,CHANGE_STEP:b.CHANGE_STEP,CHANGE_BADGE:b.CHANGE_BADGE,CHANGE_STYLES:b.CHANGE_STYLES,PLAY_ANIMATION:b.PLAY_ANIMATION,loading:!1,dataForm:{id:void 0,name:"",callbackId:void 0,functionId:void 0,binds:{},action:"control",linkOptions:{pageId:void 0,type:"self",pageVariables:[],jumpType:"page",linkUrl:"",linkParams:[]},controlOptions:{elementId:void 0},apiRequest:void 0,sqlRequest:void 0,callback:[],loadingConfig:{enable:!0,text:"",showMask:!1,background:""},responseConfig:{isBlob:!1,isUseHeaderFileName:!0,fileName:void 0},pageEmit:{emitKey:"",params:[]},commonActionId:""},dialogVisible:!1,linkLoading:!1,variableRowDetail:null,response:void 0,selectedPath:void 0,activeCollapses:["success"],menuList:[{label:"操作组件",value:"control"},{value:"api",label:"调用API"},{value:"sql",label:"调用SQL"},{value:"devops",label:"调用自动化运维操作"},{label:"跳转页面",value:"link"},{label:"打开窗体",value:"open"},{label:"关闭窗体",value:"close"},{label:"刷新组件",value:"reset"},{label:"刷新当前页",value:"refresh"},{label:"调用公共事件处理行为",value:"commonAction"},{label:"触发页面事件",value:"pageEmit"}],activeCollapse:["config"],dataSet:void 0,openData:{}}},computed:{actionName:function(){var e,t=this;return null===(e=this.menuList.find((function(e){return e.value===t.dataForm.action})))||void 0===e?void 0:e.label},jsData:function(){return this.getStore().jsData},pageData:function(){var e=this,t=this.$store.state.CODE.lowCodeStore.pageData,a=u.treeUtil.toList(t).filter((function(t){return"page"===t.elementType&&t.elementId!==e.layoutData.elementId}));return d.default.uniqBy(a,"pageDesignId")},dynamicProps:function(){return this.getStore().dynamicProps},layoutData:{get:function(){return this.getStore().layoutData}},treeData:function(){var e,t=this,a=d.default.cloneDeep(this.layoutData);u.treeUtil.forEach([a],(function(e){var a=[];e.children.forEach((function(e){if(!["slot"].includes(e.elementType)||!["data"].includes(t.getElementPropsById(e.elementId).slotType)){if(["dialog-container","timer-container"].includes(e.elementType)){if(!e.children.length)return;e.disabled=!0}a.push(e)}})),e.children=a,e.elementName=t.getElementPropsById(e.elementId).elementName||e.elementName}));var n=(null===(e=a.children.find((function(e){return"dialog-container"===e.elementType})))||void 0===e?void 0:e.children)||[];switch(this.dataForm.action){case"open":return n.map((function(e){return q(q({},e),{},{children:[]})}));case"close":return n.map((function(e){return q(q({},e),{},{children:[]})})).filter((function(e){var a=e.elementType,n=e.elementVersion;return O.getConfigByKey.call(t,{elementType:a,elementVersion:n}).fns.find((function(e){return e.fn===b.CLOSE}))}));default:return[a]}},successCallback:function(){return this.dataForm.callback.filter((function(e){return"success"===e.type}))},errorCallback:function(){return this.dataForm.callback.filter((function(e){return"error"===e.type}))},linkUrl:{get:function(){return this.dataForm.linkOptions.linkUrl},set:function(e){var t=this,a=new C.default(e),n=a.pathname(),i=[];try{i=(0,k.parse)(n).filter((function(e){return d.default.isObject(e)})).map((function(e){return e.name}))}catch(t){return void(this.dataForm.linkOptions.linkUrl=e)}var l=i.map((function(e){var a=t.dataForm.linkOptions.linkParams.find((function(t){return t.name===e}));return{name:e,value:null==a?void 0:a.value}})),r=a.search(!0),c=[];Object.entries(r).forEach((function(e){var a=(0,o.default)(e,2),n=a[0],i=a[1];t.dataForm.linkOptions.linkParams.find((function(e){return e.name===n}));c.push({name:n,value:i})})),c.unshift.apply(c,(0,s.default)(l)),this.dataForm.linkOptions.linkParams=c.length?d.default.uniqBy(c,"name"):[{name:"",value:void 0}],this.dataForm.linkOptions.linkUrl=e}},commonActionsOptions:function(){var e=this.getStore().eventsData[this.layoutData.elementId];return(e&&e[b.PAGE_COMMON_EVENTS]||[]).map((function(e){return{value:e.id,label:e.name}}))},pageEmitOptions:function(){var e=this.getStore().layoutData,t=e.elementType,a=e.elementVersion,n=e.elementId;return O.getConfigByKey.call(this,{elementType:t,elementVersion:a,elementId:n}).events},pageEmitParams:function(){var e,t=this;return null===(e=this.pageEmitOptions.find((function(e){return e.emitKey===t.dataForm.pageEmit.emitKey})))||void 0===e?void 0:e.params}},methods:{open:function(e){this.openData=e;var t=e.fullVariable,a=e.callbackId;this.dataForm={id:void 0,name:"",callbackId:a,functionId:void 0,binds:{},action:"control",linkOptions:{pageId:void 0,type:"self",pageVariables:[],jumpType:"page",linkUrl:"",linkParams:[]},controlOptions:{elementId:void 0},apiRequest:void 0,sqlRequest:void 0,callback:[],loadingConfig:{enable:!0,text:"",showMask:!1,background:""},responseConfig:{isBlob:!1,isUseHeaderFileName:!0,fileName:void 0},pageEmit:{emitKey:"",params:[]},commonActionId:""};var n=t&&t.includes(p.JS_FLAG)?t.split(p.JS_FLAG)[1]:void 0,i=this.jsData.find((function(e){return e.id===n})),l=d.default.cloneDeep(i);Object.assign(this.dataForm,l),Object.keys(this.dataForm.binds).length||this.handleAddBind(),this.dataForm.id=this.dataForm.id||(0,u.getRandomHexadecimal)(12),"link"===this.dataForm.action&&"page"===this.dataForm.linkOptions.jumpType&&this.handleLinkPageChange(this.dataForm.linkOptions.pageId),this.dialogVisible=!0},clear:function(){this.dialogVisible=!1},handleGenerateData:function(){var e,t=this,a=d.default.cloneDeep(this.dataForm);switch(this.dataForm.action){case"link":var n=this.dataForm.linkOptions,i=n.jumpType,l=n.pageId,o=n.linkUrl;if("page"===i&&!l)return this.$message.error("请选择页面"),Promise.reject();if("link"===i&&!o.trim())return this.$message.error("请输入跳转链接"),Promise.reject();a.binds=(0,r.default)({},l||o,{variable:{},fns:[{name:h.COMMON_FN_LINK,params:this.dataForm.linkOptions}]});break;case"open":case"close":case"reset":case"refresh":if(!this.dataForm.controlOptions.elementId)return this.$message.error("请选择组件"),Promise.reject();switch(this.dataForm.action){case"open":e=b.OPEN;break;case"close":e=b.CLOSE;break;case"reset":case"refresh":e=b.RESET}a.binds=(0,r.default)({},this.dataForm.controlOptions.elementId,{variable:{},fns:[{name:e,params:void 0}]});break;case"api":case"devops":a.binds=(0,r.default)({},this.layoutData.elementId,{variable:{},fns:[{name:b.HTTP_REQUEST,params:{apiRequest:this.dataForm.apiRequest,callback:this.dataForm.callback,loadingConfig:this.dataForm.loadingConfig,responseConfig:"api"===this.dataForm.action?this.dataForm.responseConfig:void 0}}]});break;case"sql":a.binds=(0,r.default)({},this.layoutData.elementId,{variable:{},fns:[{name:b.HTTP_REQUEST,params:{sqlRequest:this.dataForm.sqlRequest,callback:this.dataForm.callback,loadingConfig:this.dataForm.loadingConfig}}]});break;case"pageEmit":var s=this.dataForm.pageEmit,c=s.emitKey;s.params;if(!c)return this.$message.error("请选择事件"),Promise.reject();a.binds=(0,r.default)({},this.getStore().layoutData.elementId,{variable:{},fns:[{name:h.COMMON_FN_PAGE_EMIT,params:this.dataForm.pageEmit}]});break;case"commonAction":var u=this.dataForm.commonActionId;if(!u)return this.$message.error("请选择事件处理程序"),Promise.reject();a.binds=(0,r.default)({},this.getStore().layoutData.elementId,{variable:{},fns:[{name:h.COMMON_FN_COMMON_ACTION,params:{id:u}}]});break;case"control":for(var p in this.dataForm.binds){var f=this.dataForm.binds[p].fns;if(f&&f.length){var v,m=F(f);try{for(m.s();!(v=m.n()).done;){var g,y=v.value;if(y.name===b.EXECUTE_CUSTOM_FN&&null!==(g=y.execute_fns)&&void 0!==g&&g.some((function(e){return!e.id})))return this.$message.error("请选择函数"),Promise.reject()}}catch(e){m.e(e)}finally{m.f()}}}}return this.$delete(a.binds,"newBind"),Object.values(a.binds).forEach((function(e){t.$delete(e.variable,"newVariable")})),a.name=this.actionName,a},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.handleGenerateData();case 2:a=t.sent,e.handleUpdateJsData(a);case 4:case"end":return t.stop()}}),t)})))()},handleUpdateJsData:function(e){var t=this;this.loading=!0;var a=this.jsData.filter((function(t){return t.id!==e.id}));e.id=(0,u.getRandomHexadecimal)(12);var n=[].concat((0,s.default)(a),[e]);return this.$http({url:f.default.appPageDesignSavePageConfig,data:[{pageDesignId:Number(this.getStore().layoutData.pageDesignId),type:6,config:JSON.stringify(n)}]}).then((function(){t._storeCommit(m.UPDATE_JS_DATA,{jsData:n}),t.$nextTick((function(){var a="".concat(p.JS_FLAG).concat(e.id);t.$emit("confirm",a),t.clear()}))})).finally((function(){t.loading=!1}))},handleClose:function(e){this.clear(),e()},handleSelectMenu:function(e){switch(this.dataForm.action=e.value,this.dataForm.binds={},this.dataForm.apiRequest=void 0,this.dataForm.sqlRequest=void 0,this.dataForm.callback=[],e.value){case"refresh":this.dataForm.controlOptions.elementId=this.layoutData.elementId;break;case"control":Object.keys(this.dataForm.binds).length||this.handleAddBind()}},handleAddBind:function(){this.$set(this.dataForm,"binds",q(q({},this.dataForm.binds),{},{newBind:{variable:{},fns:[{name:"",params:void 0,execute_fns:[{id:"",name:""}]}]}}))},handleLinkPageChange:function(e){var t=this.pageData.find((function(t){return t.elementId===e})).pageDesignId;this.getPageVariables(t)},getPageVariables:function(e){var t=this;e?(this.linkLoading=!0,this.$http({url:f.default.appPageDesignPageConfig,data:{pageDesignId:Number(e),type:4}}).then((function(e){var a,n=null===(a=e.data.find((function(e){return 4===e.type})))||void 0===a?void 0:a.config;t.dataForm.linkOptions.pageVariables=n?Object.entries(JSON.parse(n)).map((function(e){var a=(0,o.default)(e,2),n=a[0],i=a[1];return t.dataForm.linkOptions.pageVariables.find((function(e){return e.name===n}))||q({name:n},i)})).filter((function(e){return e.isEntry})):[]})).finally((function(){t.linkLoading=!1}))):this.dataForm.linkOptions.pageVariables=[]},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.dataForm.callbackId,emitEvent:this.openData.emitEvent})},handleUpdateVariableValue:function(e,t){var a=this;return function(n){a.$set(e,t,n)}},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleDeleteBind:function(e){this.$delete(this.dataForm.binds,e)},handleBindChange:function(e,t){var a,n=(null===(a=e[0])||void 0===a?void 0:a.elementId)||"newBind";n!==t&&(Object.keys(this.dataForm.binds).includes(n)?this.$confirm("组件重复，请重新选择！"):(this.$set(this.dataForm,"binds",q(q({},this.dataForm.binds),{},(0,r.default)({},n,{variable:{},fns:[{name:"",params:void 0,execute_fns:[{id:"",name:""}]}]}))),this.$delete(this.dataForm.binds,t)))},getFnsByElementId:function(e){var t;if(["app",this.layoutData.elementId].includes(e))return[{label:"变量赋值",value:h.COMMON_FN_ASSIGN}];var a=(0,u.getNodeByElementId)(this.layoutData,e);if(!a)return[];var n=O.getConfigByKey.call(this,{elementType:a.elementType,elementVersion:a.elementVersion});if(!n)return[];var i=(null===(t=n.fns)||void 0===t?void 0:t.map((function(e){return{label:e.name,value:e.fn}})))||[],l=h.COMMON_FNS.map((function(e){return{label:e.name,value:e.fn}}));return["timer"].includes(a.elementType)?i:_.dialogTypes.includes(a.elementType)?[].concat((0,s.default)(i),[{label:"变量赋值",value:h.COMMON_FN_ASSIGN}]):d.default.uniqBy(i.concat(l),"value")},getCustomFnsByElementId:function(e){var t,a;return(null===(t=this.getStore().dynamicProps[e])||void 0===t||null===(a=t.fnsData)||void 0===a?void 0:a.map((function(e){return{label:e.name,value:e.fn}})))||[]},customFnsChange:function(e,t){var a;return e.name=null===(a=this.getCustomFnsByElementId(t).find((function(t){return t.value===e.id})))||void 0===a?void 0:a.label},isShowAddFnsBtn:function(e,t){var a=this.getFnsByElementId(e);return t.length!==a.length},handleDeleteFns:function(e,t){e.splice(t,1)},handleAddFns:function(e){e.push({name:"",params:void 0})},getVariables:function(e){var t=Object.entries(e.variable).map((function(e){var t=(0,o.default)(e,2),a=t[0];return{variable:"newVariable"===a?void 0:a,value:t[1],selected:"newVariable"===a?void 0:a}}));return t.length||(t=[{variable:void 0,value:void 0,selected:void 0}]),t},handleAddVariable:function(e){this.$set(e,"newVariable",void 0)},handleDeleteVariable:function(e,t){this.$delete(e,t)},handleUpdateVariable:function(e,t,a){t||this.$set(a.variable,e,void 0);var n=Object.fromEntries(Object.entries(a.variable).map((function(a){var n=(0,o.default)(a,2),i=n[0],l=n[1];return i===t?[e,void 0]:[i,l]})));this.$set(a,"variable",n),this.$delete(a.variable,"newVariable")},getVariablesByElementId:function(e){if("app"===e){var t=(0,I.getAppVariables)()||{};return Object.entries(t).map((function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];return{label:"$appVariables.".concat(a,".value"),value:"$appVariables.".concat(a,".value"),desc:n.desc}}))}var a=(0,u.getNodeByElementId)(this.layoutData,e)||{},n=a.elementType,i=a.elementVersion,l=O.getVariableByVersion.call(this,{elementType:n,elementVersion:i,elementId:e}),r=this.getElementPropsById(e).cssMode;if(e===this.layoutData.elementId){var c=Object.keys(l||{}).filter((function(e){return![1,2].includes(l[e].auth)&&!["$dynamicVariables","$appVariables"].includes(e)})).map((function(e){return{label:e,value:e,desc:l[e].desc,isNotSupported:T.notSupportedKeys.includes(e)}})).filter((function(e){return"config"===r&&"$stylesText"!==e.value||"config"!==r&&"$styles"!==e.value})),d=this.getElementPropsById(this.layoutData.elementId).dynamicVariables||{},p=Object.entries(d).map((function(e){var t=(0,o.default)(e,2),a=t[0],n=t[1];return{label:"$dynamicVariables.".concat(a,".value"),value:"$dynamicVariables.".concat(a,".value"),desc:n.desc}}));return[].concat((0,s.default)(p),(0,s.default)(c))}return Object.keys(l||{}).filter((function(e){return![1,2].includes(l[e].auth)})).map((function(e){return{label:e,value:e,desc:l[e].desc,isNotSupported:T.notSupportedKeys.includes(e)}})).filter((function(e){return"config"===r&&"$stylesText"!==e.value||"config"!==r&&"$styles"!==e.value}))},getConfig:function(e,t){if(!e||!t)return{};var a,n=e.split(".")[1];if(this.layoutData.elementId===t&&n)return{desc:null===(a=this.getElementPropsById(this.layoutData.elementId).dynamicVariables[n])||void 0===a?void 0:a.desc,type:"String"};var i=(0,u.getNodeByElementId)(this.layoutData,t)||{},l=i.elementType,o=i.elementVersion;return"app"===t?{}:O.getVariableByVersion.call(this,{elementType:l,elementVersion:o,elementId:t})[e]||{}},handleControlChange:function(e){var t;this.dataForm.controlOptions.elementId=null===(t=e[0])||void 0===t?void 0:t.elementId},handleResponse:function(e){var t=e.response;this.response=t},copyPath:function(){},handleEditHandler:function(e){var t=this;this.response?this.$http({url:f.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.layoutData.elementId,".$response.").concat(e.id),value:JSON.stringify(this.response)||""}]}}).then((function(){t.$refs.handlerDialog.open(e)})):this.$refs.handlerDialog.open(e)},handleDeleteHandler:function(e){this.dataForm.callback=this.dataForm.callback.filter((function(t){return t.id!==e}))},handleAddHandler:function(e){var t=this,a=(0,u.getRandomHexadecimal)(12),n={type:e,id:a,callbackId:a,name:"",condition:[],emitEvent:this.openData.emitEvent};this.$http({url:f.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(this.layoutData.elementId,".$response.").concat(n.id),value:JSON.stringify(this.response)||""}]}}).then((function(){t.$refs.handlerDialog.open(n)}))},handleUpdateEventData:function(e){var t=this.dataForm.callback.findIndex((function(t){return t.id===e.id}));-1!==t?this.$set(this.dataForm.callback,t,e):this.dataForm.callback.push(e)},showInputResponseDialog:function(){this.$refs.inputDialog.open({type:"object",data:this,key:"response",from:"response"})},handleClearResponse:function(){this.response=null},handleInputResponse:function(e,t){"response"===t&&(this.response=e)},handleShowDataConfigSelect:function(){var e;switch(this.dataForm.action){case"api":case"devops":e=this.dataForm.apiRequest.type;break;case"sql":e=1===this.dataForm.sqlRequest.sqlType?2:3;break;case"static":e=1}this.$refs.dataConfigSelect.open({type:e})},handleShowDataConfigSave:function(){var e,t;switch(!0){case void 0!==this.dataForm.apiRequest:e={apiRequest:this.dataForm.apiRequest},t=this.dataForm.apiRequest.type;break;case void 0!==this.dataForm.sqlRequest:e={sqlRequest:this.dataForm.sqlRequest},t=1===this.dataForm.sqlRequest.sqlType?2:3;break;case void 0!==this.dataForm.staticData:e={staticData:this.dataForm.staticData},t=1}this.$refs.dataConfigSave.open({config:JSON.stringify(e),type:t})},handleDataConfigConfirm:function(e){this.dataSet=d.default.cloneDeep(e);var t=JSON.parse(e.config),a=t.apiRequest,n=t.sqlRequest,i=t.staticData;this.dataForm.apiRequest=a,this.dataForm.sqlRequest=n,this.dataForm.staticData=i},handleShowEventSelect:function(){this.$refs.eventSelect.open({isFunction:!0})},handleEventSelectConfirm:function(e){var t=this.dataForm,a=t.callbackId,n=t.id,i=t.functionId;this.dataForm=q(q({},e),{},{id:n,callbackId:a,functionId:i,disabled:!1})},handleJumpTypeChange:function(e){"link"!==e||this.dataForm.linkOptions.linkParams.length||(this.dataForm.linkOptions.linkParams=[{name:"",value:void 0}]),this.dataForm.linkOptions.type="self"},handleAddParams:function(e){this.dataForm.linkOptions.linkParams.push({name:"",value:void 0})},handleDeleteParams:function(e){var t=this.dataForm.linkOptions.linkParams;if(1===t.length)return t[0].name="",t[0].value=void 0,void this.handleParamsChange();t.splice(e,1),this.handleParamsChange()},paramsInputDisabled:function(e){var t=new C.default("".concat(this.dataForm.linkOptions.linkUrl)).pathname(),a=[];try{a=(0,k.parse)(t).filter((function(e){return d.default.isObject(e)})).map((function(e){return e.name}))}catch(e){return!1}return a.includes(e)},handleParamsChange:function(){var e=new C.default("".concat(this.dataForm.linkOptions.linkUrl)),t=e.pathname(),a=[];try{a=(0,k.parse)(t).filter((function(e){return d.default.isObject(e)})).map((function(e){return e.name}))}catch(e){console.log(e),a=[]}var n=this.dataForm.linkOptions.linkParams.filter((function(e){return e.name&&!a.includes(e.name)}));n.length?this.dataForm.linkOptions.linkUrl=e.origin()+e.pathname()+"?"+n.map((function(e){return"".concat(e.name,"=").concat(e.value)})).join("&"):this.dataForm.linkOptions.linkUrl=e.origin()+e.pathname()},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},initPageEmitParams:function(e){var t,a=null===(t=this.pageEmitOptions.find((function(t){return t.emitKey===e})))||void 0===t?void 0:t.params.map((function(e){return q(q({},e),{},{value:void 0})}));this.dataForm.pageEmit.params=d.default.cloneDeep(a)}}};t.default=N},lwVN:function(e,t,a){"use strict";a("nF0l")},lzSl:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("div",{staticClass:"content"},[a("el-tag",{staticClass:"tag"},[e._v(e._s(e.getElementName))]),e._v(" "),a("el-tag",{staticClass:"tag"},[e._v(e._s(e.elementProps.elementVersion))])],1)])},i=[]},m9c6:function(e,t,a){"use strict";a.r(t);var n=a("NVDT"),i=a("ZZR3");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("IWBs");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"8330d448",null);t.default=r.exports},mEuc:function(e,t,a){"use strict";a("QnOf")},mGtL:function(e,t,a){"use strict";a("2pbs")},"mJ1+":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-select",{attrs:{"allow-create":"",filterable:"","default-first-option":"",clearable:"",placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)},i=[]},mPP0:function(e,t,a){"use strict";a.r(t);var n=a("Z/Ay"),i=a("gZZ+");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("fCvg");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"191561b6",null);t.default=r.exports},mPjm:function(e,t,a){var n=a("1iRC");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("46e4aa6e",n,!0,{})},mUNY:function(e,t,a){"use strict";a("11tZ")},mZ5j:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"select-reg-modal",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,title:"内置表达式",visible:e.visible,width:"600px",top:"5vh"},on:{"update:visible":function(t){e.visible=t},close:e.handleResetForm}},[a("div",{staticClass:"reg-list"},e._l(e.regList,(function(t,n){return a("div",{key:n,staticClass:"reg-item"},[a("div",{staticClass:"reg-cont"},[a("span",{staticClass:"name"},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticClass:"btn",on:{click:function(a){return e.$emit("confirm",t)}}},[e._v("选择")])]),e._v(" "),a("div",{staticClass:"reg-error-tips"},[e._v("\n        "+e._s(t.errorTips)+"\n      ")])])})),0)])},i=[]},mcJd:function(e,t,a){"use strict";a.r(t);var n=a("SzEv"),i=a("9cNn");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Bhy2");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"d73d0466",null);t.default=r.exports},mgYI:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("YLtl")),r={data:function(){return{rABS:!1,excelVisible:!1,excelData:[],uploadExcelDisable:!0,excelLoading:!1}},methods:{excelFileUpload:function(){this.excelVisible=!0},excelDataUploadCancel:function(){this.excelData=[],this.excelVisible=!1},readExcel:function(e){var t=this;return(0,l.default)(i.default.mark((function n(){var l,r;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.excelLoading=!0,n.next=3,Promise.all([a.e(0),a.e(5),a.e(3)]).then(a.t.bind(null,"EUZL",7));case 3:l=n.sent,(r=new FileReader).onload=function(e){try{var a=e.target.result,n=null,i={};n=t.rABS?l.read(btoa(t.fixdata(a)),{type:"base64"}):l.read(a,{type:"binary"}),Object.keys(n.Sheets).forEach((function(e,t){if(0===t){var a=n.Sheets[e];if(i=l.utils.sheet_to_json(a,{defval:""}),!o.default.isEmpty(i)){for(var r=[],s=l.utils.decode_range(a["!ref"]),c=0;c<=s.e.c;c++)r.push(l.utils.format_cell(a[l.utils.encode_col(c)+l.utils.encode_row(0)]));var u=[];i.forEach((function(e){var t={};r.forEach((function(a){t[a]=void 0!==e[a]?e[a]:""})),u.push(t)})),i=u}return!0}})),t.handleExcelData(i)}catch(e){return t.$message.warning("文件类型不正确或数据格式不正确,请重新修改上传"),!1}finally{t.excelLoading=!1}},t.rABS?r.readAsArrayBuffer(e.raw):r.readAsBinaryString(e.raw);case 7:case"end":return n.stop()}}),n)})))()},fixdata:function(e){for(var t="",a=0,n=10240;a<e.byteLength/n;++a)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*n,a*n+n)));return t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(a*n)))}}};t.default=r},mgjc:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("Ff2n")),l=n(a("rePB")),o=n(a("KQm4")),r=a("0O+R"),s=a("mtVH"),c=a("cCei"),u=n(a("YLtl")),d=a("inkn"),p=a("ZQwl"),f=a("vu0G"),v=a("7C5+"),m=["children"];function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var g={elementId:"",elementType:"layout",elementName:"布局单元",elementVersion:(0,s.getLastVersion)("layout"),children:[]},y={inject:(0,o.default)(v.pageInject),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},elementId:{type:String}},data:function(){return{inputValue:"",layoutType:2,layoutTypes1:[{span:"12",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAF5JREFUWAntksEJACAQw9RBXMKHu7j/IIIjFAJy5P4tNLk+91mtwI0CG94Eh/xmUiMagQj4WhDYuFYjMTooqBEIbFyrkRgdFNQIBDau1UiMDgpqBAIb12okRgcFyxi5eHABErS/7HsAAAAASUVORK5CYII=)"},{span:"6:6",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAGxJREFUWAntkTERgDAUxQAhmGDACwLrhQETKOFwkKWZ0vldcz9Z9/M6lonvvcfzfz+bs028Qf26Q1TdAFYRIEmdVETVDWAVAZLUSUVU3QBWESBJnVRE1Q1gFQGS1ElFVN0AVhEgSZ1URNUNYB9LtgUS+2cZkwAAAABJRU5ErkJggg==)"},{span:"3:9",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAHFJREFUWAnt0aERgDAUBFGgEJpA0AsF0guCJqiEwayGwazYqBPJn8t/47xuy/DyXMd+Ple/vHk5+ve16fcEyYA+IoGgRiKsQhISkUBQIxFWIQmJSCCokQirkIREJBDUSIRVSEIiEghqJMIqJCERCQQ1bhvFBRLFThJWAAAAAElFTkSuQmCC)"},{span:"9:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAG5JREFUWAntkTENgFAUxAAhmGDACwLxwoAJlBAk0KTJH/r2u9xr53U/tmmwe67z/ib92bYM9gOe0yMYnRTMiAQW12YEo5OCGZHA4tqMYHRSMCMSWFybEYxOCmZEAotrM4LRScGMSGBxbUYwOin4AnunBRKk87oLAAAAAElFTkSuQmCC)"},{span:"4:4:4",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADEAAAAYCAYAAABTPxXiAAAAAXNSR0IArs4c6QAAAGpJREFUWAntksENgCAAxJBBWMKHuzggu/BwCScxrsA1kZjy7wVatnace5k89+jXi369USfvvxTmI1bJYQlLgAb8TqDMaMoSkT4QtgQoM5qyRKQPhC0ByoymLBHpA2FLgDKjKUtE+kD4FyUe0KAJEsF/0uoAAAAASUVORK5CYII=)"},{span:"3:6:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAHRJREFUWAljlDOPMmYgEjw6uewsSCkpeog0GkUZOfYwoZgwhDmjHhlskTcaI6MxQqMQGE1aNApYso0djRGyg45GGkdjhEYBS7axozFCdtDRSONojNAoYMk2djRGyA46GmkcjREaBSzZxo7GCNlBRyONwyZGAB78CRL9+D+tAAAAAElFTkSuQmCC)"},{span:"3:3:3:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAG1JREFUWAntksEJgEAMBO+uEJvwYS8WaC8+bMJKDjs4FgaCTN7Zhcykb8e5t8V57+v5VitmxuIN5dc8pJoijWgEIuBrQWDjWo3E6KCgRiCwca1GYnRQUCMQ2LhWIzE6KKgRCGxcq5EYHRT8jZEJ8jMNEnW0C4YAAAAASUVORK5CYII=)"},{span:"2:2:2:2:2:2",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYCAYAAAC4CK7hAAAAAXNSR0IArs4c6QAAAHFJREFUWAljlDOPMmbAAh6dXHYWJIxLHiQ3mNQwgRw0HMCoRwZbLI7GyGiM0CgERpMWjQKWbGNHY4TsoKORxtEYoVHAkm3saIyQHXQ00jgaIzQKWLKNHY0RsoOORhpHY4RGAUu2saMxQnbQ0UjjsIkRAJi/FRJiIdKTAAAAAElFTkSuQmCC)"}],layoutTypes2:[{span:"12:6:6",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABhJREFUeJxjYKAR+A8GB+A0EByASlGTBgB5FBW1aMVwpAAAAABJRU5ErkJggg==)"},{span:"12:4:4:4",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABpJREFUeJxjYKAR+A8GB+A0A2MDQwJIgro0ALjuFyBgUrQ+AAAAAElFTkSuQmCC)"},{span:"12:3:3:3:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABpJREFUeJxjYKAR+A8GB+A0gwTDATaQBHVpALOaFv8Uef8YAAAAAElFTkSuQmCC)"},{span:"6:6:6:6",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABlJREFUeJxjYGBgOMAAAVSl/4PBAThNI3sAPl8d9crRY80AAAAASUVORK5CYII=)"},{span:"6:6:4:4:4",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAAB5JREFUeJxjYGBgOMAAAVSl/4PBATjNwNgAkaAuDQAvqCOAtaPjjgAAAABJRU5ErkJggg==)"},{span:"6:6:3:3:3:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAACBJREFUeJxjYGBgOMAAAVSl/4PBATjNIMFwgAckQV0aAIP7H4EehFJrAAAAAElFTkSuQmCC)"},{span:"4:4:4:4:4:4",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABpJREFUeJxjYGBsYDjAAARUpv+DwQE4TSN7AGGHKQsDBIQzAAAAAElFTkSuQmCC)"},{span:"3:3:3:3:3:3:3:3",icon:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAYAQMAAACCxjyiAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAZQTFRFvsPK////MlxxsQAAABpJREFUeJxjYJBgOMDDAARUpv+DwQE4TSN7AGqGIQ0uoJV/AAAAAElFTkSuQmCC)"}],directionOptions:[{label:"横向",value:"row"},{label:"纵向",value:"column"}],flexWrapOptions:[{label:"允许换行",value:"wrap"},{label:"不允许换行",value:"nowrap"}],alignItemsOptions:[{label:"左",value:"flex-start"},{label:"中",value:"center"},{label:"右",value:"flex-end"},{label:"拉伸",value:"stretch"}],justifyOptions:[{label:"左",value:"flex-start"},{label:"中",value:"center"},{label:"右",value:"flex-end"},{label:"两侧",value:"space-between"},{label:"平均",value:"space-around"}]}},computed:{layoutTypes:function(){switch(this.layoutType){case 1:return this.layoutTypes1;case 2:return this.layoutTypes2}},columnRatio:{get:function(){return this.elementProps[this.propKey]}},tableMode:{get:function(){return this.elementProps.tableMode},set:function(e){var t=b(b({},this.elementProps),{},{tableMode:e});this.$emit("update",t)}},flexWrap:{get:function(){return this.elementProps.flexWrap},set:function(e){var t=b(b({},this.elementProps),{},{flexWrap:e});this.$emit("update",t)}},flexDirection:{get:function(){return this.elementProps.flexDirection},set:function(e){var t=b(b({},this.elementProps),{},{flexDirection:e});this.$emit("update",t)}},alignItems:{get:function(){return this.elementProps.alignItems},set:function(e){var t=b(b({},this.elementProps),{},{alignItems:e});this.$emit("update",t)}},justifyContent:{get:function(){return this.elementProps.justifyContent},set:function(e){var t=b(b({},this.elementProps),{},{justifyContent:e});this.$emit("update",t)}},layoutData:function(){return this.getStore().layoutData},columnList:{get:function(){return(0,r.getNodeByElementId)(this.layoutData,this.elementId).children},set:function(e){this._storeCommit(c.UPDATE_LAYOUT_DATA,{elementId:this.elementId,layout:{children:e}})}}},watch:{elementProps:{immediate:!0,deep:!0,handler:function(e){var t=e.columnRatio;this.inputValue!==t&&(this.inputValue=t)}}},methods:{setValue:function(e){e.span&&this.handleChange(e.span)},handleInput:function(e){this.inputValue=e.replace(/[^0-9:]/g,"")},handleChange:function(e){var t=this,a=d.getGlobalConfig.call(this),n=e.split(":").map((function(e){return Number(e)})),s=[],v=[];n.reduce((function(e,t){return e+t>=12?(v.push(t>=12?[12]:[].concat((0,o.default)(s),[t])),s=[],0):(s.push(t),e+t)}),n[0]);var h=e.split(":").map((function(e,a){var n=t.columnList[a]||u.default.cloneDeep(g),l=(0,r.getRandomHexadecimal)(6),o=e?Math.ceil(Math.abs(Number(e))):1,s=n.elementId||"".concat("layout","-").concat(l);if(t.columnList[a])p.globalEmit.call(t,f.PROPS,{elementId:s,data:{span:o},pushHistory:!1});else{n.children;var d=(0,i.default)(n,m);t._storeCommit(c.INIT_DYNAMIC_PROPS,{elementId:s,props:b(b({},d),{},{elementId:s,span:o})})}return b(b({},n),{},{span:o,elementId:s})}));if(h.length<this.columnList.length){var y,_=this.columnList.slice(h.length).map((function(e){return e.children})).flat(1/0);(y=u.default.last(h).children).push.apply(y,(0,o.default)(_))}var k=h.length?h:[b(b({},u.default.cloneDeep(g)),{},{elementId:"layout-".concat((0,r.getRandomHexadecimal)(6))})];this.columnList=k;var C=b(b({},this.elementProps),{},(0,l.default)({},this.propKey,e));this.$emit("update",C,{oldVal:a,val:d.getGlobalConfig.call(this),callback:function(e){e.columnRatio.split(":").forEach((function(e,a){var n=t.columnList[a],i=e?Math.ceil(Math.abs(Number(e))):1;n&&p.globalEmit.call(t,f.PROPS,{elementId:n.elementId,data:{span:i},pushHistory:!1})}))}})},getDirectionType:function(e){return this.flexDirection===e?"primary":"default"},getFlexWrapType:function(e){return this.flexWrap===e?"primary":"default"},getItemsType:function(e){return this.alignItems===e?"primary":"default"},getJustifyType:function(e){return this.justifyContent===e?"primary":"default"}}};t.default=y},miQ4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("ODXe")),o=n(a("HaE+")),r=n(a("YLtl")),s=function(e){var t=e||"";return":root {\r\n".concat(t?"\t".concat(t):"\t","\r\n}")},c={name:"CssCode",props:{value:{type:String}},data:function(){return{loading:!1,hints:[],monacoInstance:null,provider:null}},computed:{code:{get:function(){return s(this.value)},set:function(e){var t=e.trim();if(6===t.lastIndexOf("{")&&t.indexOf("}")===t.length-1){var a=e.replace(":root {","").replace("}","").trim();this.$emit("input",a)}else this.$message.error("请将css代码写到:root {}大括号中!")}}},watch:{value:{handler:function(e,t){var a;r.default.isEqual(e,t)||(this.code=s(e),null===(a=this.monacoInstance)||void 0===a||a.setValue(this.code))},immediate:!0}},methods:{dispose:function(){this.monacoInstance&&(this.monacoInstance.getModel()&&this.monacoInstance.getModel().dispose(),this.monacoInstance.dispose(),this.monacoInstance=null,this.provider&&(this.provider.dispose(),this.provider=null))},init:function(){var e=this;return(0,o.default)(i.default.mark((function t(){var n,o,r,s,c;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.$refs.codeEditor){t.next=3;break}return t.abrupt("return");case 3:return e.loading=!0,o=[Promise.all([a.e(0),a.e(1)]).then(a.t.bind(null,"M/lh",7)),Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"9B1q"))],t.next=7,Promise.all(o);case 7:r=t.sent,s=(0,l.default)(r,1),c=s[0],e.dispose(),e.monacoInstance=c.editor.create(n,{value:e.code,language:"css",theme:"vs",folding:!1,foldingHighlight:!0,foldingStrategy:"indentation",showFoldingControls:"always",disableLayerHinting:!0,emptySelectionClipboard:!1,selectionClipboard:!1,automaticLayout:!0,codeLens:!1,scrollBeyondLastLine:!1,colorDecorators:!0,accessibilitySupport:"off",lineNumbers:"on",lineNumbersMinChars:2,enableSplitViewResizing:!1,roundedSelection:!1,overviewRulerBorder:!1,minimap:{enabled:!1},autoIndent:"full",wordWrap:"on",readOnly:!1,tabSize:2}),e.monacoInstance.onDidFocusEditorText((function(){e.$emit("focus-change",!0)})),e.monacoInstance.onDidBlurEditorText((function(){e.doFormat(),e.$emit("focus-change",!1)})),e.loading=!1;case 15:case"end":return t.stop()}}),t)})))()},doFormat:function(){this.monacoInstance&&(this.code=this.monacoInstance.getValue(),this.monacoInstance.getAction(["editor.action.formatDocument"])._run())}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},beforeDestroy:function(){this.dispose()}};t.default=c},mj5d:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("2o9+")),r=n(a("Wk/A")),s={components:{JsCode:o.default,Select:r.default},props:{visible:{type:Boolean},value:{type:Object}},data:function(){return{isShowLog:!1,isFocus:!1,logList:[],paramsData:[{key:"value",test:162507402e4},{key:"index",test:0},{key:"$format",test:this.$format}],typeOption:[{label:"数值",value:"number"},{label:"文本",value:"text"},{label:"日期",value:"date"},{label:"高级",value:"js"}],floatType:[{label:1,value:1},{label:2,value:2},{label:3,value:3},{label:4,value:4}],dataType:[{label:"yyyy-MM",value:"yyyy-MM"},{label:"yyyy-MM-dd",value:"yyyy-MM-dd"},{label:"yyyy-MM-dd hh:mm",value:"yyyy-MM-dd hh:mm"},{label:"yyyy-MM-dd hh:mm:ss",value:"yyyy-MM-dd hh:mm:ss"},{label:"yyyy:MM",value:"yyyy:MM"},{label:"yyyy:MM:dd",value:"yyyy:MM:dd"},{label:"yyyy:MM:dd hh:mm",value:"yyyy:MM:dd hh:mm"},{label:"yyyy:MM:dd hh:mm:ss",value:"yyyy:MM:dd hh:mm:ss"}],actions:new Map([["number",this.formatNumber],["text",this.formatText],["date",this.formatDate],["js",this.formatJs],["default",function(){return console.log("default")}]]),emptyTips:'1、传入(value, index, $format)三个参数, 分别对应 “当前值”,“当前索引”, “日期格式化方法” \n2、使用return返回结果，示例JS：\n var date = new Date(value * 1000); \n var text = $format("yyyy-MM-dd", date); \n return "第" + (index + 1) + "项" + text;'}},created:function(){},mounted:function(){},methods:{formatNumber:function(){var e=this.value,t=e.float,a=e.floatNum;return t?"return Number(value).toFixed(".concat(a,")"):"return Number(value)"},formatText:function(){return this.value.text},formatDate:function(){return'return $format("'.concat(this.value.date,'", value)')},formatJs:function(){return this.value.js},focusChange:function(e){e&&(this.isShowLog=!1),this.isFocus=e},handleTest:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:if(e.value.js){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,e.$refs.jsCode.handleTest(!1);case 6:if(a=t.sent,e.logList=e.$refs.jsCode.logList,!a){t.next=10;break}return t.abrupt("return",Promise.resolve());case 10:return e.isShowLog=!0,t.abrupt("return",Promise.reject());case 12:case"end":return t.stop()}}),t)})))()},handleClearLog:function(){this.$refs.jsCode.logList=[],this.logList=[]},confirm:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("js"!==(a=e.value.type)){t.next=4;break}return t.next=4,e.handleTest();case 4:n=e.actions.get(a)||e.actions.get("default"),l=n(),e.$emit("update:visible",!1),e.$emit("confirm",{formatter:l,formatOption:e.value});case 8:case"end":return t.stop()}}),t)})))()}},computed:{},watch:{}};t.default=s},mrFL:function(e,t,a){"use strict";a("iJDE")},msDd:function(e,t,a){"use strict";a.r(t);var n=a("xZ3W"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},my2f:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"选择工具函数",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1200px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content"},[a("n-form",{ref:"dataForm",staticClass:"data-form",attrs:{model:e.dataForm,"label-width":"50px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"筛选"}},[a("div",{staticClass:"search-item"},[a("el-input",{staticStyle:{margin:"0 10px",width:"300px"},attrs:{placeholder:"请输入名称筛选",clearable:""},model:{value:e.dataForm.keyword,callback:function(t){e.$set(e.dataForm,"keyword",t)},expression:"dataForm.keyword"}})],1)])],1),e._v(" "),a("vxe-table",{ref:"xTable",staticClass:"x-table",attrs:{size:"mini",height:480,data:e.visibleUtils,border:"","header-cell-class-name":"header-cell","row-id":"key","radio-config":{trigger:"row",highlight:!0}}},[a("vxe-table-column",{attrs:{type:"radio",title:"选择",align:"center",width:"60"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"name",title:"方法名",width:"140"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"type",title:"定义"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"desc",type:"html",title:"描述"}}),e._v(" "),a("vxe-table-column",{attrs:{type:"expand",title:"示例",align:"center",width:"60"},scopedSlots:e._u([{key:"content",fn:function(t){var n=t.row;return[a("div",{staticStyle:{padding:"10px",background:"#f5f5f5"},domProps:{innerHTML:e._s(n.demo)}})]}}])})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},mzYy:function(e,t,a){},n0kL:function(e,t,a){var n=a("1dbD");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("184ed828",n,!0,{})},n23Q:function(e,t,a){"use strict";a.r(t);var n=a("Fo9u"),i=a("o5jj");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("LRjv");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"30abef98",null);t.default=r.exports},n5Qn:function(e,t,a){},n8Mr:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"TabsParams",mixins:[n(a("oRZJ")).default],props:{elementId:{type:String},config:{type:Object},callbackId:{type:String}},data:function(){return{type:"key"}},computed:{collapseData:function(){var e=this.getElementPropsById(this.elementId).collapseData;return e}},methods:{handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleReset:function(){var e=this.collapseData[0].key;this.$set(this.config,"params",{activeKey:[e],dynamicActiveKey:void 0})},handleChange:function(e){var t=this.collapseData[0].key;this.$set(this.config,"params",{activeKey:"key"===e?[t]:void 0,dynamicActiveKey:void 0})}},created:function(){this.config.params||this.handleReset(),this.type=this.config.params.dynamicActiveKey?"dynamicActiveKey":"key"}};t.default=i},n9jN:function(e,t,a){"use strict";a.r(t);var n=a("VIkJ"),i=a("qwMH");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("FTYZ");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"b2614c70",null);t.default=r.exports},nBKl:function(e,t,a){"use strict";a.r(t);var n=a("yiVE"),i=a("ZwTP");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("hy2s");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6432f294",null);t.default=r.exports},nDpg:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("rePB")),r=n(a("KQm4")),s=a("xBdn"),c=n(a("slWK")),u=n(a("YLtl")),d=n(a("oRZJ")),p=a("7C5+");function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){(0,o.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=["id","code","pageId","appId","vid"],h={inject:(0,r.default)(p.pageInject),mixins:[d.default],props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{innerKeys:m,loading:!1,popoverVisible:!1,variableForm:{name:"",desc:"",isEntry:!1,value:void 0},oldKey:void 0,rules:{name:(0,s.getValidators)([{message:"请输入变量编码",include:s.required,required:!0,trigger:"change"},{message:"变量编码不能包含特殊字符",include:s.hasSpecialCharacter,trigger:"change"}]),desc:(0,s.getValidators)([{message:"请输入变量名",include:s.required,required:!0,trigger:"change"}])}}},computed:{layoutData:function(){return this.getStore().layoutData},value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=(0,o.default)({},this.propKey,e);this.$emit("update",t)}}},methods:{handleAddVariable:function(){var e=this;return(0,l.default)(i.default.mark((function t(){return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.popoverVisible=!0,e.$nextTick(),e.$refs.variableForm.resetFields(),e.variableForm={name:"",desc:"",isEntry:!1,value:void 0},e.oldKey=void 0;case 5:case"end":return t.stop()}}),t)})))()},handleEditVariable:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm={name:e,desc:t.desc,isEntry:t.isEntry,value:t.value},this.oldKey=e},handleDeleteVariable:function(e,t){this.$delete(this.value,e),this.value=v({},this.value);var a=this.value;this.handleSaveData(a),this.popoverVisible=!1},handleUpdateEntry:function(e,t,a){this.oldKey=t;var n=v(v({},a),{},{name:t});this.oldKey&&this.oldKey!==n.name&&this.$delete(this.value,this.oldKey);var i=v(v({},this.value),{},(0,o.default)({},n.name,{isEntry:n.isEntry,desc:n.desc,value:n.value}));this.handleSaveData(i)},handleSaveData:function(e){var t=this;this.loading=!0,this.$http({url:c.default.appPageDesignSavePageConfig,data:[{pageDesignId:Number(this.layoutData.pageDesignId),type:4,config:JSON.stringify(e)}]}).then((function(){t.value=e,t.popoverVisible=!1})).finally((function(){t.loading=!1}))},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=e.variableForm;if(m.includes(a.name))e.$message.error("禁止使用以下系统保留字段作为变量编码：".concat(m));else{var n=u.default.cloneDeep(e.value);e.oldKey&&e.oldKey!==a.name&&e.$delete(n,e.oldKey);var i=v(v({},n),{},(0,o.default)({},a.name,{isEntry:a.isEntry,desc:a.desc,value:a.value}));e.handleSaveData(i)}}}))},handleShowModal:function(){var e=this.$refs.popover.popperElm;e.style.top="220px",e.style.right="40px",e.style.left="unset",e.style.display="block";var t=document.createElement("div");t.classList.add("fullscreen-modal"),t.appendChild(e),document.body.appendChild(t)},handleHideModal:function(){var e=document.querySelector(".fullscreen-modal");null==e||e.remove()},handleIsEntryChange:function(e){this.variableForm.value=e?"".concat(void 0!==this.variableForm.value?this.variableForm.value:""):this.variableForm.value}}};t.default=h},nF0l:function(e,t,a){var n=a("oSN7");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("d58cd336",n,!0,{})},nFgB:function(e,t,a){"use strict";a.r(t);var n=a("Oc6X"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},nH62:function(e,t,a){},nJN9:function(e,t,a){"use strict";a.r(t);var n=a("5o1f"),i=a("3JtN");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("AIQS");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5960bebf",null);t.default=r.exports},nKBx:function(e,t,a){"use strict";a("ntZe")},"nKj+":function(e,t,a){"use strict";a.r(t);var n=a("B9WJ"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"nOB+":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=a("0O+R"),o=a("mtVH"),r=a("inkn"),s=a("7C5+"),c={name:"LayoutPlaceholder",inject:["dndOptions"].concat((0,i.default)(s.pageInject)),props:{emptyText:{type:String,default:"拖拽组件到这里"},showLayoutType:{type:Boolean,default:!1},elementId:{type:String,default:""},elementType:{type:String,default:""}},data:function(){return{layoutType:"normal",isShowType:!1}},mounted:function(){this.isShowType=this.showLayoutType},methods:{chooseType:function(e){var t=this;if("normal"!==e){if("dnd"===e){var a=r.getGlobalConfig.call(this,[0,4]),n=(0,l.getParentNodeByElementId)(this.getStore().layoutData,this.elementId),i=["page"].includes(this.elementType)?{minHeight:"100%"}:{},s={elementId:"",elementType:"grid-dnd",elementVersion:(0,o.getLastVersion)("grid-dnd"),elementName:"可拖拽布局",children:[],defaultProps:{styleName:i,isIgnoreDrag:!0}},c=["slot","page"].includes(this.elementType)?this.elementId:n.elementId,u=l.buildNewWidget.call(this,s,c,"center");(0,r.update)({extra:{oldVal:a,val:r.getGlobalConfig.call(this,[0,4])}}),this.isShowType=!1,this.$nextTick((function(){t.dndOptions&&(t.dndOptions.selectedId=u.elementId)}))}}else this.isShowType=!1}}};t.default=c},nUNJ:function(e,t,a){"use strict";a.r(t);var n=a("yYJq"),i=a("nFgB");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("1M31");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"f25ed136",null);t.default=r.exports},nZBj:function(e,t,a){"use strict";a.r(t);var n=a("UllI"),i=a("0h+z");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("V2Pg");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"505d75a1",null);t.default=r.exports},nf33:function(e,t,a){},nhWb:function(e,t,a){var n=a("qedq");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("abe4741a",n,!0,{})},nhym:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-item"},[a("div",{staticClass:"config-title"},[e._v("\n    预设布局\n    "),a("el-select",{attrs:{size:"mini"},model:{value:e.layoutType,callback:function(t){e.layoutType=t},expression:"layoutType"}},[a("el-option",{attrs:{value:1,label:"一行布局"}}),e._v(" "),a("el-option",{attrs:{value:2,label:"两行布局"}})],1)],1),e._v(" "),a("div",{staticClass:"layout-type-select"},e._l(e.layoutTypes,(function(t){return a("div",{key:t.span,staticClass:"layout-type-item",class:{"is-selected":t.span===e.columnRatio},on:{click:function(a){return e.setValue(t)}}},[a("div",{staticClass:"layout-type-bg",style:{backgroundImage:t.icon}})])})),0),e._v(" "),a("n-form-item",{staticClass:"config-form-item",attrs:{label:"栅格比例",prop:e.propKey}},[a("el-input",{attrs:{type:"text",value:e.inputValue,placeholder:e.placeholder},on:{input:e.handleInput,change:e.handleChange}})],1),e._v(" "),a("n-form-item",{staticClass:"config-form-item",attrs:{label:"表格模式",prop:"tableMode"}},[a("el-switch",{model:{value:e.tableMode,callback:function(t){e.tableMode=t},expression:"tableMode"}})],1),e._v(" "),e.tableMode?[a("n-form-item",{staticClass:"config-form-item",attrs:{label:"布局内容排列方向",prop:"flexDirection"}},[a("el-button-group",{staticClass:"display-group"},e._l(e.directionOptions,(function(t){return a("el-button",{key:t.value,staticClass:"display-button",attrs:{type:e.getDirectionType(t.value)},on:{click:function(a){e.flexDirection=t.value}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-form-item",attrs:{label:"布局内容换行",prop:"flexWrap"}},[a("el-button-group",{staticClass:"display-group"},e._l(e.flexWrapOptions,(function(t){return a("el-button",{key:t.value,staticClass:"display-button",attrs:{type:e.getFlexWrapType(t.value)},on:{click:function(a){e.flexWrap=t.value}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-form-item",attrs:{label:"column"===e.flexDirection?"布局内容水平对齐":"布局内容垂直对齐",prop:"alignItems"}},[a("el-button-group",{staticClass:"display-group"},e._l(e.alignItemsOptions,(function(t){return a("el-button",{key:t.value,staticClass:"display-button",attrs:{type:e.getItemsType(t.value)},on:{click:function(a){e.alignItems=t.value}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-form-item",attrs:{label:"row"===e.flexDirection?"布局内容水平对齐":"布局内容垂直对齐",prop:"justifyContent"}},[a("el-button-group",{staticClass:"display-group"},e._l(e.justifyOptions,(function(t){return a("el-button",{key:t.value,staticClass:"display-button",attrs:{type:e.getJustifyType(t.value)},on:{click:function(a){e.justifyContent=t.value}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),1)],1)]:e._e()],2)},i=[]},nrVO:function(e,t,a){var n=a("oGOx");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("a17499ca",n,!0,{})},ntZe:function(e,t,a){var n=a("TUx0");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("08db71a9",n,!0,{})},nvB6:function(e,t,a){"use strict";a.r(t);var n=a("zWNd"),i=a("BAZf");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("/ykW");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"5e8a9a49",null);t.default=r.exports},nwNa:function(e,t,a){"use strict";a.r(t);var n=a("7GXz"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},nyZT:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("表单映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"50%"}},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[["formData"].includes(n.key)?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(" "),a("span",[e._v(e._s(n.label))]),e._v(" "),a("el-tooltip",{attrs:{content:e.getTip(n.key),"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}])})],1)],2)],1)],1),e._v(" "),a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),"static"!==e.activeDataType?[a("el-button",{attrs:{size:"mini"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()]:e._e()],2)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:24,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")])],1)])])])],2)],1)],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},o5jj:function(e,t,a){"use strict";a.r(t);var n=a("T0tg"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},oDrq:function(e,t,a){var n=a("5Dxr");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e318222c",n,!0,{})},oGOx:function(e,t,a){},"oI7/":function(e,t,a){"use strict";a("wKlj")},oP3w:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("bT2I"));n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={components:{rangeSelector:l.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{widthOptions:{unit:[{label:"px",value:""}]}}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{},mounted:function(){},created:function(){}};t.default=s},oPQN:function(e,t,a){"use strict";a.r(t);var n=a("/Twp"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},"oR+E":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"static"===e.activeDataType?"100%":"50%"}},["static"!==e.activeDataType?a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("变量映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataVariables,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[["dataList"].includes(n.key)?a("span",{staticStyle:{color:"red"}},[e._v("*")]):e._e(),e._v(" "),a("span",[e._v(e._s(n.label))]),e._v(" "),a("el-tooltip",{attrs:{content:e.getTip(n.key),"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)]}}],null,!1,4129951556)}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"header",fn:function(){return[a("span",[e._v("数据路径")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},attrs:{slot:"content"},slot:"content"},[a("span",{staticStyle:{margin:"10px"}},[e._v("请在响应体结构树上选中“表格数据”节点，点击拖拽至数据路径中")]),e._v(" "),a("video",{staticStyle:{width:"400px"},attrs:{autoplay:"autoplay",loop:"loop",muted:"",src:e.$getImgPrefix("/video/field-map.mp4")},domProps:{muted:!0}})]),e._v(" "),a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])]},proxy:!0},{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}],null,!1,4241264118)})],1)],2)],1):e._e(),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"column"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("数据列映射")])]),e._v(" "),a("vxe-table",{ref:"dataColumnTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dataColumn,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"列标题"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-input",{model:{value:n.label,callback:function(t){e.$set(n,"label",t)},expression:"row.label"}})]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"列编码"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-select",{attrs:{"allow-create":"",clearable:"",filterable:"","default-first-option":""},model:{value:n.key,callback:function(t){e.$set(n,"key",t)},expression:"row.key"}},e._l(e.dataListKeys,(function(e){return a("el-option",{key:e,attrs:{title:e,value:e}})})),1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-id":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}])})],1)],2)],1)],1),e._v(" "),"static"!==e.activeDataType?a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),a("el-button",{attrs:{size:"mini"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.jsonLoading},on:{click:e.handleAutoGenerate}},[e._v("一键生成数据列\n                    "),a("el-tooltip",{attrs:{content:"请在响应体结构树上选中“表格数据”节点，点击【一键生成数据列】按钮，系统会解析该节点下的所有子节点为表格的数据列","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px",color:"black","font-size":"14px"}})])],1)],1),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("点击“测试”请求响应体")])],1)]):e._e()])])],2)],1)],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},oRZJ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("U8pU")),l=n(a("KQm4")),o=a("7Qib"),r=a("8SHQ"),s=a("0O+R"),c=a("tgb1"),u=a("LY9L"),d=a("7C5+"),p={inject:(0,l.default)(d.pageInject),methods:{formatTag:o.formatTag,formatTip:o.formatTip,isValidateVariable:o.isValidateVariable,getElementName:function(e){if("string"!=typeof e)return(0,o.formatTip)(e);var t=e&&e.includes(r.FUNCTION_FLAG)?e.split(r.FUNCTION_FLAG)[1]:void 0,a=e&&0===e.indexOf(r.UTILS_FUNCTION)?e:void 0,n=e&&e.includes(r.JS_FLAG)?e.split(r.JS_FLAG)[1]:void 0,i=(0,o.isValidateVariable)(e)?e.split(".$")[0]:void 0;if(!(t||i||n||a))return(0,o.formatTip)(e);if(a){var l=u.utils.find((function(t){return t.id===e}));if(l)return"工具函数.".concat(l.name)}var s,d=e.split(".")[1];if(i){s=null!=d&&d.includes("[")?d.split("[")[0]:d.split(".")[0];var p=this.getElementPropsById(i);if(!p)return r.ELEMENT_NOT_FOUND;var f=p.elementName,v=p.elementType,m=p.elementVersion,h=c.getVariableByVersion.call(this,{elementType:v,elementVersion:m,elementId:i})[s];if(s.includes("appVariables")){var b=(0,o.getAppVariables)()[e.replace("".concat(i,".$appVariables."),"").split(".value")[0]];return b?"应用变量.".concat(b.desc):r.ELEMENT_NOT_FOUND}return h?"".concat(f,".").concat(h.desc):"".concat(f)||r.ELEMENT_NOT_FOUND}if(t){var g=this.getStore().functionsData.find((function(e){return e.id===t}));return g?"高级变量.".concat(g.name):r.ELEMENT_NOT_FOUND}if(n){var y=this.getStore().jsData.find((function(e){return e.id===n}));return y?"动作.".concat(y.name):r.ELEMENT_NOT_FOUND}},getTagType:function(e){return this.getElementName(e)===r.ELEMENT_NOT_FOUND?"danger":""},handleTagClick:function(e,t,a,n){var l=e[t];return"function"===n?this.showInputDialog("function",e,t,"function"):"string"==typeof l?!["test","mockValue"].includes(t)&&(0,o.isValidateVariable)(l)||0===l.indexOf(r.FUNCTION_FLAG)?void this.handleShowVariableSelect(e,t):0===l.indexOf(r.JS_FLAG)?void this.handleShowFunctionSelect(e,t):0===l.indexOf(r.UTILS_FUNCTION)?void this.handleShowUtilsSelect(e,t):a&&!["page"].includes(a.elementType)?void this.showInputDialog("attrVue",e,t,void 0,a):void this.showInputDialog("text",e,t):void(!a||["page"].includes(a.elementType)?"object"!==(0,i.default)(l)||!l||l instanceof File?"number"!=typeof l||this.showInputDialog("number",e,t):this.showInputDialog("object",e,t):this.showInputDialog("attrVue",e,t,void 0,a))},showInputDialog:function(e,t,a,n,i){this.$refs.inputDialog.open({type:e,data:t,key:a,from:n,attrOptions:i,callbackId:this.callbackId,emitEvent:this.emitEvent})},handleUpdateValue:function(e,t){t&&(this[t]=e)},getAttrOptions:function(e,t){var a=(0,s.getNodeByElementId)(this.getStore().layoutData,e);return{elementType:a.elementType,elementVersion:a.elementVersion,config:t}},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=p},oSN7:function(e,t,a){},oUOh:function(e,t,a){"use strict";a("Rfuc")},oUdZ:function(e,t,a){var n=a("LiU/");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("181d3c9f",n,!0,{})},oUlI:function(e,t,a){var n=a("vK8C");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("05a625a0",n,!0,{})},oXr6:function(e,t,a){},obqd:function(e,t,a){var n=a("GMQo");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9ad1a648",n,!0,{})},okzT:function(e,t,a){},or8Y:function(e,t,a){var n=a("CaV6");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("1c967377",n,!0,{})},oyxG:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"low-code-dialog",width:"400px",title:"配置",visible:e.visible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.visible=t}}},[a("div",{staticClass:"form-content"},[a("el-form-item",{attrs:{label:"字段类型"}},[a("Select",{attrs:{options:e.typeOption,clearable:!1},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1),e._v(" "),"number"===e.value.type?[a("el-form-item",{attrs:{label:"百分数"}},[a("el-switch",{model:{value:e.value.float,callback:function(t){e.$set(e.value,"float",t)},expression:"value.float"}})],1),e._v(" "),e.value.float?a("el-form-item",{attrs:{label:"小数位"}},[a("Select",{attrs:{options:e.floatType,clearable:!1},model:{value:e.value.floatNum,callback:function(t){e.$set(e.value,"floatNum",t)},expression:"value.floatNum"}})],1):e._e()]:e._e(),e._v(" "),"text"===e.value.type?a("el-form-item",{attrs:{label:"格式"}},[a("el-input",{model:{value:e.value.text,callback:function(t){e.$set(e.value,"text",t)},expression:"value.text"}})],1):e._e(),e._v(" "),"date"===e.value.type?a("el-form-item",{attrs:{label:"日期格式"}},[a("Select",{attrs:{options:e.dataType,clearable:!1},model:{value:e.value.date,callback:function(t){e.$set(e.value,"date",t)},expression:"value.date"}})],1):e._e(),e._v(" "),"js"===e.value.type?[a("div",{staticClass:"code-content-box"},[a("js-code",{ref:"jsCode",staticClass:"sql-code",attrs:{"params-data":e.paramsData},on:{"focus-change":e.focusChange},model:{value:e.value.js,callback:function(t){e.$set(e.value,"js",t)},expression:"value.js"}}),e._v(" "),e.value.js||e.isFocus?e._e():a("div",{staticClass:"empty-tips"},[e._v(e._s(e.emptyTips))])],1),e._v(" "),e.isShowLog?a("div",{staticClass:"log-wrapper"},[a("el-button",{staticClass:"clear-btn",attrs:{size:"mini",disabled:!e.logList.length},on:{click:e.handleClearLog}},[e._v("清空日志")]),e._v(" "),a("el-button",{staticClass:"clear-btn",attrs:{size:"mini"},on:{click:function(t){e.isShowLog=!1}}},[e._v("关闭")]),e._v(" "),a("div",{staticClass:"log-list"},e._l(e.logList,(function(t,n){return a("div",{key:n,staticClass:"log-item"},[e._v("\n            "+e._s(t)+"\n          ")])})),0)],1):e._e()]:e._e()],2),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){return t.stopPropagation(),e.$emit("update:visible",!1)}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.stopPropagation(),e.confirm.apply(null,arguments)}}},[e._v("确 定")])],1)])},i=[]},ozlh:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("lrFb")),r=n(a("mgYI")),s=n(a("YLtl")),c=a("a+hW"),u=a("xBdn"),d=a("7Qib"),p=a("8SHQ"),f={name:"StaticConfig",components:{JsonCode:o.default},mixins:[r.default],props:{staticData:{type:Object,required:!0,default:function(){return{}}},showCancel:{type:Boolean,default:!1}},data:function(){return{type:1,json:"{}"}},watch:{staticData:{handler:function(e,t){s.default.isEqual(e,t)||(this.json=JSON.stringify(e,(function(e,t){return void 0===t?null:t}),4)||"{}")},deep:!0,immediate:!0}},methods:{exportTemplate:function(){var e="".concat(p.STATIC_PREFIX,"/template/template.xlsx");window.open(e,"__slef")},changeType:function(e){this.type=e},onChange:function(e){["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(e.raw.type)?this.readExcel(e):this.$message.error("文件类型不正确！")},handleExcelData:function(e){this.json=e,this.handleInput()},handleRemove:function(){this.json={},this.$emit("response",{response:void 0,responseOptions:void 0,isStatic:!0})},handleInput:function(){var e=this;return(0,l.default)(i.default.mark((function t(){var a,n;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$nextTick();case 2:return t.next=4,(0,d.sleep)(200);case 4:if("string"!=typeof e.json){t.next=12;break}if(a=(0,d.trimAll)(e.json),(0,u.isValidJsonString)(a)){t.next=9;break}return e.$message.error("JSON格式不正确！"),t.abrupt("return");case 9:try{n=JSON.parse(e.json),e.$emit("update:staticData",n),e.$emit("response",{response:n,responseOptions:(0,c.getObjectTree)(n),isStatic:!0})}catch(t){e.$message.error("JSON格式不正确！")}t.next=14;break;case 12:e.$emit("update:staticData",e.json),e.$emit("response",{response:e.json,responseOptions:(0,c.getObjectTree)(e.json),isStatic:!0});case 14:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$emit("cancel")}}};t.default=f},"p/UK":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[e.isShowPropsSwitch?a("n-form-item",{staticClass:"config-item",attrs:{prop:"useSlotProps"}},[a("template",{slot:"label"},[a("span",[e._v("动态数据")]),e._v(" "),a("el-tooltip",{attrs:{content:"设置为开表示组件数据受外部影响，如表单、插槽","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-switch",{model:{value:e.useSlotProps,callback:function(t){e.useSlotProps=t},expression:"useSlotProps"}})],2):e._e(),e._v(" "),e.useSlotProps&&e.isInSlot||e.isFormItem&&e.isInForm&&e.useSlotProps?a("n-form-item",{staticClass:"config-item",style:e.propError?"margin-bottom: 18px;":"",attrs:{prop:e.propKey,error:e.propError}},[a("template",{slot:"label"},[a("span",[e._v("字段")]),e._v(" "),a("el-tooltip",{attrs:{content:"当前组件所在的表单域或插槽中所关联的字段名","popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("el-input",{attrs:{placeholder:e.placeholder,clearable:""},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue="string"==typeof t?t.trim():t},expression:"inputValue"}})],2):e._e()],1)},i=[]},p4kz:function(e,t,a){"use strict";a.r(t);var n=a("HoZD"),i=a("ukwV");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Iiy+");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2c35e3dc",null);t.default=r.exports},p77y:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-switch",{model:{value:e.value.use,callback:function(t){e.$set(e.value,"use",t)},expression:"value.use"}}),e._v(" "),a("div",{staticClass:"fill-div"}),e._v(" "),a("el-popover",{attrs:{placement:"right",width:"300",trigger:"click"}},[a("el-form",{staticClass:"setting-form",attrs:{size:"mini","label-position":"left","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.name+"宽度"}},[a("range-selector",{attrs:{options:e.widthOptions},model:{value:e.value.width,callback:function(t){e.$set(e.value,"width",t)},expression:"value.width"}})],1)],1),e._v(" "),a("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)},i=[]},p92G:function(e,t,a){"use strict";a.r(t);var n=a("24np"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},pBHh:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("Ff2n")),l=n(a("rePB")),o=n(a("KQm4")),r=n(a("YLtl")),s=a("0O+R"),c=a("cCei"),u=a("7C5+"),d=a("7Qib"),p=n(a("cC5Y")),f=["cssText"];function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={inject:(0,o.default)(u.pageInject),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}},tip:{type:String},optionkey:{type:String}},data:function(){return{requiredArr:[],inputValue:void 0}},computed:{value:{get:function(){var e=this;if("dialogBodyHeight"===this.optionkey){var t=(0,s.getNodeByElementId)(this.getStore().layoutData,this.elementProps.elementId).children.find((function(t){return"body"===e.getElementPropsById(t.elementId).slotName}));return this.getElementPropsById(null==t?void 0:t.elementId).styleConfigList[0].styles.height}return this.elementProps.styleConfigList[0].styles[this.optionkey]}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){r.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{handleChange:function(e){var t=this;if("dialogBodyHeight"===this.optionkey){var a=(0,s.getNodeByElementId)(this.getStore().layoutData,this.elementProps.elementId).children.find((function(e){return"body"===t.getElementPropsById(e.elementId).slotName})),n=r.default.cloneDeep(this.getElementPropsById(a.elementId).styleConfigList);n[0].styles.height=e,this._storeCommit(c.UPDATE_DYNAMIC_PROPS,{dynamicProps:(0,l.default)({},a.elementId,{styleConfigList:n})}),this.handleUpdateStyle(n,a.elementId)}else{var i=r.default.cloneDeep(this.elementProps.styleConfigList);i[0].styles[this.optionkey]=e;var o=m(m({},this.elementProps),{},{styleConfigList:i});this.$emit("update",o),this.handleUpdateStyle(i,this.elementProps.elementId)}},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},handleUpdateStyle:function(e,t){var a=e.map((function(e){var a=JSON.parse(JSON.stringify(e.styles)),n=a.cssText,l=(0,i.default)(a,f);if(!n&&0===Object.keys(l).length)return"";if(l.backgroundImage){var o=new RegExp(/\w(\.gif|\.jpeg|\.png|\.jpg|\.bmp)/i).test(l.backgroundImage||"");l.backgroundImage=o?"url(".concat((0,d.getImageUrl)(l.backgroundImage),")"):l.backgroundImage}var r="".concat((0,p.default)(l)||"").concat(n||"");return"#".concat(t).concat(e.query,"{").concat(r,"}")})).join(""),n="static-style_".concat(t);(0,d.addCssByStyle)(n,a)}}};t.default=h},pBsX:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.params?a("div",{staticClass:"tabs-params"},[e.isChangeBadge?[a("div",[a("n-table",{staticStyle:{width:"600px"},attrs:{data:e.badgeList,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"tab",label:"标签"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.tab?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTabTip(t.row.tab),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTabTagType(t.row.tab)},on:{click:function(a){return e.handleTabTagClick(t.row,"tab")},close:function(e){t.row.tab=void 0}}},[e._v("\n                  "+e._s(e.getTabTagFormat(t.row.tab))+"\n                ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showTabsSelect(t.row,"tab")}}},[e._v("选择\n                  ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"tab")}}},[e._v("标签标题\n                  ")])],1)],1)],1)]}}],null,!1,3856714645)}),e._v(" "),a("n-table-column",{attrs:{width:"200",prop:"badgeMessage",label:"标记内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.badgeMessage?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.badgeMessage),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.badgeMessage)},on:{click:function(a){return e.handleTagClick(t.row,"badgeMessage")},close:function(e){t.row.badgeMessage=void 0}}},[e._v("\n                  "+e._s(e.formatTag(e.getElementName(t.row.badgeMessage),12))+"\n                ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"badgeMessage")}}},[e._v("文本\n                  ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"badgeMessage")}}},[e._v("变量\n                  ")])],1)],1)],1)]}}],null,!1,3139267815)}),e._v(" "),a("n-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[e.isShowAdd?a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddTab}},[e._v("+")]):e._e(),e._v(" "),e.isShowDelete?a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteTab(t.$index)}}},[e._v("-")]):e._e()])]}}],null,!1,897014895)})],1)],1)]:[a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label"},[e._v(e._s(e.isChange?"切换方式":"新增方式"))]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},on:{change:e.handleChange},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"根据标签",value:"key"}}),e._v(" "),a("el-option",{attrs:{label:"根据标题",value:"label"}})],1)],1)]),e._v(" "),"key"===e.type?a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("选择标签")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},model:{value:e.config.params.tabName,callback:function(t){e.$set(e.config.params,"tabName",t)},expression:"config.params.tabName"}},e._l(e.tabsData,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key}},[a("div",{staticStyle:{float:"left"}},[e._v(e._s(t.label))])])})),1)],1)]):e._e(),e._v(" "),"label"===e.type?a("div",{staticClass:"tab-label"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("标签标题")]),e._v(" "),a("div",{staticClass:"value"},[void 0!==e.config.params.label?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.config.params.label),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.config.params.label)},on:{click:function(t){return e.handleTagClick(e.config.params,"label")},close:function(t){e.config.params.label=void 0}}},[e._v("\n            "+e._s(e.formatTag(e.getElementName(e.config.params.label),12))+"\n          ")])],1):a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.showInputDialog("text",e.config.params,"label")}}},[e._v("文本")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleShowVariableSelect(e.config.params,"label")}}},[e._v("变量")])],1)],1)]):e._e()],e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("el-dialog",{staticClass:"input-dialog",attrs:{"custom-class":"low-code-dialog",title:"选择标签",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._v("\n    选择标签\n    "),a("el-select",{staticStyle:{"margin-left":"10px"},model:{value:e.selectedTabKey,callback:function(t){e.selectedTabKey=t},expression:"selectedTabKey"}},e._l(e.showBadgeList,(function(t){return a("el-option",{key:t.key,attrs:{label:t.label,value:t.key,disabled:e.badgeList.some((function(e){return e.tab===t.key}))}})})),1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)],2):e._e()},i=[]},pKu3:function(e,t,a){"use strict";a.r(t);var n=a("yP05"),i=a("WIOS");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("GdqM");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"06b589ba",null);t.default=r.exports},"pT+E":function(e,t,a){},pU9Y:function(e,t,a){},pUbN:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dropdown",{attrs:{size:e.size},on:{command:e.handleChange}},[a("el-button",{attrs:{size:e.size}},[e._v("\n    更多"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{staticClass:"top-dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.types,(function(t){return a("el-dropdown-item",{key:t.label,attrs:{command:t.value}},[e._v(e._s(t.label))])})),1)],1)},i=[]},"pX+9":function(e,t,a){},pZTy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.icons=void 0;t.icons=["el-icon-platform-eleme","el-icon-eleme","el-icon-delete-solid","el-icon-delete","el-icon-s-tools","el-icon-setting","el-icon-user-solid","el-icon-user","el-icon-phone","el-icon-phone-outline","el-icon-more","el-icon-more-outline","el-icon-star-on","el-icon-star-off","el-icon-s-goods","el-icon-goods","el-icon-warning","el-icon-warning-outline","el-icon-question","el-icon-info","el-icon-remove","el-icon-circle-plus","el-icon-success","el-icon-error","el-icon-zoom-in","el-icon-zoom-out","el-icon-remove-outline","el-icon-circle-plus-outline","el-icon-circle-check","el-icon-circle-close","el-icon-s-help","el-icon-help","el-icon-minus","el-icon-plus","el-icon-check","el-icon-close","el-icon-picture","el-icon-picture-outline","el-icon-picture-outline-round","el-icon-upload","el-icon-upload2","el-icon-download","el-icon-camera-solid","el-icon-camera","el-icon-video-camera-solid","el-icon-video-camera","el-icon-message-solid","el-icon-bell","el-icon-s-cooperation","el-icon-s-order","el-icon-s-platform","el-icon-s-fold","el-icon-s-unfold","el-icon-s-operation","el-icon-s-promotion","el-icon-s-home","el-icon-s-release","el-icon-s-ticket","el-icon-s-management","el-icon-s-open","el-icon-s-shop","el-icon-s-marketing","el-icon-s-flag","el-icon-s-comment","el-icon-s-finance","el-icon-s-claim","el-icon-s-custom","el-icon-s-opportunity","el-icon-s-data","el-icon-s-check","el-icon-s-grid","el-icon-menu","el-icon-share","el-icon-d-caret","el-icon-caret-left","el-icon-caret-right","el-icon-caret-bottom","el-icon-caret-top","el-icon-bottom-left","el-icon-bottom-right","el-icon-back","el-icon-right","el-icon-bottom","el-icon-top","el-icon-top-left","el-icon-top-right","el-icon-arrow-left","el-icon-arrow-right","el-icon-arrow-down","el-icon-arrow-up","el-icon-d-arrow-left","el-icon-d-arrow-right","el-icon-video-pause","el-icon-video-play","el-icon-refresh","el-icon-refresh-right","el-icon-refresh-left","el-icon-finished","el-icon-sort","el-icon-sort-up","el-icon-sort-down","el-icon-rank","el-icon-loading","el-icon-view","el-icon-c-scale-to-original","el-icon-date","el-icon-edit","el-icon-edit-outline","el-icon-folder","el-icon-folder-opened","el-icon-folder-add","el-icon-folder-remove","el-icon-folder-delete","el-icon-folder-checked","el-icon-tickets","el-icon-document-remove","el-icon-document-delete","el-icon-document-copy","el-icon-document-checked","el-icon-document","el-icon-document-add","el-icon-printer","el-icon-paperclip","el-icon-takeaway-box","el-icon-search","el-icon-monitor","el-icon-attract","el-icon-mobile","el-icon-scissors","el-icon-umbrella","el-icon-headset","el-icon-brush","el-icon-mouse","el-icon-coordinate","el-icon-magic-stick","el-icon-reading","el-icon-data-line","el-icon-data-board","el-icon-pie-chart","el-icon-data-analysis","el-icon-collection-tag","el-icon-film","el-icon-suitcase","el-icon-suitcase-1","el-icon-receiving","el-icon-collection","el-icon-files","el-icon-notebook-1","el-icon-notebook-2","el-icon-toilet-paper","el-icon-office-building","el-icon-school","el-icon-table-lamp","el-icon-house","el-icon-no-smoking","el-icon-smoking","el-icon-shopping-cart-full","el-icon-shopping-cart-1","el-icon-shopping-cart-2","el-icon-shopping-bag-1","el-icon-shopping-bag-2","el-icon-sold-out","el-icon-sell","el-icon-present","el-icon-box","el-icon-bank-card","el-icon-money","el-icon-coin","el-icon-wallet","el-icon-discount","el-icon-price-tag","el-icon-news","el-icon-guide","el-icon-male","el-icon-female","el-icon-thumb","el-icon-cpu","el-icon-link","el-icon-connection","el-icon-open","el-icon-turn-off","el-icon-set-up","el-icon-chat-round","el-icon-chat-line-round","el-icon-chat-square","el-icon-chat-dot-round","el-icon-chat-dot-square","el-icon-chat-line-square","el-icon-message","el-icon-postcard","el-icon-position","el-icon-turn-off-microphone","el-icon-microphone","el-icon-close-notification","el-icon-bangzhu","el-icon-time","el-icon-odometer","el-icon-crop","el-icon-aim","el-icon-switch-button","el-icon-full-screen","el-icon-copy-document","el-icon-mic","el-icon-stopwatch","el-icon-medal-1","el-icon-medal","el-icon-trophy","el-icon-trophy-1","el-icon-first-aid-kit","el-icon-discover","el-icon-place","el-icon-location","el-icon-location-outline","el-icon-location-information","el-icon-add-location","el-icon-delete-location","el-icon-map-location","el-icon-alarm-clock","el-icon-timer","el-icon-watch-1","el-icon-watch","el-icon-lock","el-icon-unlock","el-icon-key","el-icon-service","el-icon-mobile-phone","el-icon-bicycle","el-icon-truck","el-icon-ship","el-icon-basketball","el-icon-football","el-icon-soccer","el-icon-baseball","el-icon-wind-power","el-icon-light-rain","el-icon-lightning","el-icon-heavy-rain","el-icon-sunrise","el-icon-sunrise-1","el-icon-sunset","el-icon-sunny","el-icon-cloudy","el-icon-partly-cloudy","el-icon-cloudy-and-sunny","el-icon-moon","el-icon-moon-night","el-icon-dish","el-icon-dish-1","el-icon-food","el-icon-chicken","el-icon-fork-spoon","el-icon-knife-fork","el-icon-burger","el-icon-tableware","el-icon-sugar","el-icon-dessert","el-icon-ice-cream","el-icon-hot-water","el-icon-water-cup","el-icon-coffee-cup","el-icon-cold-drink","el-icon-goblet","el-icon-goblet-full","el-icon-goblet-square","el-icon-goblet-square-full","el-icon-refrigerator","el-icon-grape","el-icon-watermelon","el-icon-cherry","el-icon-apple","el-icon-pear","el-icon-orange","el-icon-coffee","el-icon-ice-tea","el-icon-ice-drink","el-icon-milk-tea","el-icon-potato-strips","el-icon-lollipop","el-icon-ice-cream-square","el-icon-ice-cream-round"]},psk4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"数据集配置",visible:e.dialogVisible,width:"1200px",top:"30px","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType,"clear-static":!1},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse,"tab-click":e.handleTabClick}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("antv-chart-field-config",{ref:"antvChartFieldConfig",attrs:{data:e.responseData,elementProps:e.elementProps,staticData:e.staticData,dataMapping:e.dataMapping,activeDataType:e.activeDataType}})],2)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},ptmU:function(e,t,a){"use strict";a.r(t);var n=a("MjNP"),i=a("KKXL");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Expc");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"36bd38d4",null);t.default=r.exports},pxMt:function(e,t,a){var n=a("59zf");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("39503933",n,!0,{})},"q+Gl":function(e,t,a){"use strict";a.r(t);var n=a("zGGs"),i=a("6xqI");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Nhtn");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2890e710",null);t.default=r.exports},q6yB:function(e,t,a){"use strict";a.r(t);var n=a("QS+E"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},qHDB:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"codeEditor",staticClass:"highlight-code"})},i=[]},qHTn:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("YLtl"));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var s={props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},optionkey:{type:String},vue:{type:String}},data:function(){return{options:[{label:"标准",value:"default"},{label:"速度指标",value:"speed"},{label:"进度指标",value:"progress"}]}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=this.addExtra(r(r({},this.elementProps),{},(0,i.default)({},this.propKey,e)),e);this.$emit("update",t)}}},methods:{getType:function(e){return this.elementProps[this.propKey]===e?"primary":"default"},addExtra:function(e,t){var n=a("5t5B")("./".concat(e.elementVersion,"/watch-props.js")),i=n.customProp,o=n.yField_tpl,s=Object.keys(i).reduce((function(e,t){var a,n,l;["showTitle","title","titleAlign","toolbox","type"].includes(t)||(e[t]=(null===(a=i[t])||void 0===a?void 0:a.default)instanceof Function?null===(n=i[t])||void 0===n?void 0:n.default():null===(l=i[t])||void 0===l?void 0:l.default);return e}),{});return"speed"===t?(s.progress.use=!0,s.axisTick.use=!1,e.dataVariables=e.dataVariables.map((function(e){return"yAxis"===e.key&&(e.fields=e.fields.map((function(e){var t=l.default.cloneDeep(o);return t.titleShow=!1,t.detailOffsetY={unit:"%",value:70},t.detailUseformatter=!0,t.detailFormatter="{value} km/s",r(r({},t),{},{key:e.key,value:e.value})}))),e}))):"default"===t?(s.progress.use=!1,s.axisTick.use=!0,e.dataVariables=e.dataVariables.map((function(e){return"yAxis"===e.key&&(e.fields=e.fields.map((function(e){var t=l.default.cloneDeep(o);return t.titleShow=!0,t.detailOffsetY={unit:"%",value:40},t.detailUseformatter=!1,r(r({},t),{},{key:e.key,value:e.value})}))),e}))):"progress"===t&&(s.startAngle.value=180,s.endAngle.value=0,s.centerY.value=70,s.axisTick.splitNumber=2,e.dataVariables=e.dataVariables.map((function(e){return"yAxis"===e.key&&(e.fields=e.fields.map((function(e){var t=l.default.cloneDeep(o);return t.titleShow=!1,t.detailShow=!1,t.detailOffsetY={unit:"%",value:40},t.detailUseformatter=!1,r(r({},t),{},{key:e.key,value:e.value})}))),e}))),r(r({},e),s)}}};t.default=s},qHjq:function(e,t,a){"use strict";a.r(t);var n=a("PeIH"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},qIni:function(e,t,a){var n=a("YuYM");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("83b8aa30",n,!0,{})},qJur:function(e,t,a){"use strict";a("HnQu")},qQfJ:function(e,t,a){var n=a("R8uL");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("7d985b82",n,!0,{})},qc44:function(e,t,a){var n=a("drWP");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("be7395d4",n,!0,{})},qdJ5:function(e,t,a){},qedq:function(e,t,a){},"qqt/":function(e,t,a){},qwMH:function(e,t,a){"use strict";a.r(t);var n=a("05K7"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},qysh:function(e,t,a){"use strict";a("jpPZ")},qztl:function(e,t,a){"use strict";a.r(t);var n=a("8Auf"),i=a("Vu9R");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("KbMx");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"2fb70912",null);t.default=r.exports},"r/cE":function(e,t,a){"use strict";a.r(t);var n=a("SNTc"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},r4vl:function(e,t,a){var n=a("DTrN");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("6fffaece",n,!0,{})},r5ug:function(e,t,a){"use strict";a.r(t);var n=a("6okO"),i=a("GFg0");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("LXTl");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"67820cc7",null);t.default=r.exports},r6j3:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("slWK")),l={name:"SqlDataSelect",components:{Pagination:n(a("Mz3J")).default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{pagination:{pagenum:1,pagesize:10},condition:{name:"",type:"mysql",scene:"data"}},typeList:[{label:"Mysql",value:"mysql"},{label:"Oracle",value:"oracle"},{label:"ClickHouse",value:"clickhouse"},{label:"DB2",value:"db2"},{label:"OceanBase",value:"oceanbase"}],dataList:[],selectedRow:null}},methods:{open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleSearch()},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?(this.$emit("confirm",this.selectedRow),this.dialogVisible=!1):this.$message.error("请选择数据源")},handleSearch:function(){var e=this;this.loading=!0,this.$http({url:i.default.sqlDataSource,data:this.queryForm}).then((function(t){var a=t.data;e.totalCount=a.rowCount,e.dataList=a.records})).finally((function(){e.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch()},getTypeLabel:function(e){var t;return(null===(t=this.typeList.find((function(t){return t.value===e})))||void 0===t?void 0:t.label)||e}}};t.default=l},rBoa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={gap:[{label:"超大（24px）",value:"24px"},{label:"大（20px）",value:"20px"},{label:"中（15px）",value:"15px"},{label:"小（10px）",value:"10px"},{label:"超小（8px）",value:"8px"},{label:"无（0px）",value:"0px"},{label:"默认",value:void 0}]};t.default=n},rKyw:function(e,t,a){},rml0:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reg-exp-config"},[a("div",{staticClass:"list-container"},e._l(e.value,(function(t,n){return a("div",{key:n,staticClass:"config-item"},[a("div",{staticClass:"config-item-col reg-exp-name"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticClass:"config-item-col regx-tools"},[a("el-button",{staticStyle:{color:"#54A0FF"},attrs:{type:"text"},on:{click:function(a){return e.handleEditRegExp(n,t)}}},[e._v("编辑")]),e._v(" "),a("el-button",{staticStyle:{color:"#54A0FF"},attrs:{type:"text"},on:{click:function(t){return e.handleDeleteRegExp(n)}}},[e._v("删除")])],1)])})),0),e._v(" "),a("div",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticClass:"add-reg-exp-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleAddRegExp}},[e._v("\n    +\n  ")]),e._v(" "),a("el-popover",{ref:"popover",attrs:{width:"400",trigger:"manual"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[a("div",{staticClass:"variable-body"},[a("n-form",{ref:"variableForm",attrs:{model:e.variableForm,rules:e.rules,inline:"","label-width":"85px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"规则名称",required:"",prop:"name"}},[a("el-input",{staticStyle:{width:"250px"},model:{value:e.variableForm.name,callback:function(t){e.$set(e.variableForm,"name",t)},expression:"variableForm.name"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"自定义规则",required:"",prop:"reg"}},[a("el-input",{model:{value:e.variableForm.reg,callback:function(t){e.$set(e.variableForm,"reg",t)},expression:"variableForm.reg"}},[a("template",{slot:"append"},[a("span",{staticClass:"select-reg-btn",staticStyle:{cursor:"pointer"},on:{click:e.handleSelectRegOpen}},[e._v("选择")])])],2)],1),e._v(" "),a("n-form-item",{attrs:{label:"错误提示",prop:"errorTips",required:""}},[a("el-input",{staticStyle:{width:"250px"},model:{value:e.variableForm.errorTips,callback:function(t){e.$set(e.variableForm,"errorTips",t)},expression:"variableForm.errorTips"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleConfirm}},[e._v("确认")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.popoverVisible=!1}}},[e._v("取消")])],1)],1)]),e._v(" "),a("select-reg-modal",{ref:"selectRegModal",on:{confirm:e.handleSelectRegConfirm}})],1)},i=[]},"rsi/":function(e,t,a){var n=a("vAgK");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9abea6e8",n,!0,{})},"rw4+":function(e,t,a){var n=a("tJGQ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f88841e0",n,!0,{})},rwvZ:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"ItemAddForm",mixins:[n(a("oRZJ")).default],inject:["callbackId"],data:function(){return{formats:[{label:"变量",value:"variable"},{label:"文本",value:"string"},{label:"数值",value:"number"},{label:"布尔",value:"boolean"},{label:"对象",value:"object"},{label:"数组",value:"array"}],formatSelected:"string",popoverVisible:!1,formData:{keyName:"",valName:""},variableRowDetail:null}},props:{needName:{default:!0}},methods:{show:function(e,t,a){this.formData.keyName=e,this.formData.valName=t,this.formatSelected=a||"string",this.popoverVisible=!0},confirm:function(){if(!this.needName||this.formData.keyName)if("variable"!==this.formatSelected||this.formData.valName){var e=null;e="array"===this.formatSelected||"object"===this.formatSelected?[]:this.formData.valName;var t={key:this.needName?this.formData.keyName:null,val:e,type:this.formatSelected};this.$emit("confirm",t),this.popoverVisible=!1}else this.$message.error("请选择变量");else this.$message.error("请输入key")},cancel:function(){this.popoverVisible=!1},dealBoolean:function(){this.formData.valName=Boolean(this.formData.valName)},dealNumber:function(){this.formData.valName=Number(this.formData.valName)},handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)}}};t.default=i},s4zU:function(e,t,a){"use strict";a.r(t);var n=a("kFtu"),i=a("verB");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("SAdy");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"7e47c4a1",null);t.default=r.exports},s5yv:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("el-radio-group",{on:{change:e.typeChange},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}},[a("el-radio-button",{attrs:{label:0}},[e._v("纯色")]),e._v(" "),a("el-radio-button",{attrs:{label:1}},[e._v("自定义颜色")])],1)],1),e._v(" "),a("n-form-item",{staticClass:"config-item color-setting",attrs:{label:"颜色选择"}},[0===e.value.type?[a("el-color-picker",{model:{value:e.value.color,callback:function(t){e.$set(e.value,"color",t)},expression:"value.color"}})]:e._e(),e._v(" "),1===e.value.type&&e.value.colorRange&&e.value.colorRange.length?e._l(e.value.colorRange,(function(t,n){return a("div",{key:n,staticClass:"color-select-list"},[a("el-input-number",{attrs:{precision:1,step:.1,max:e.getMax(n),min:e.getMin(n)},model:{value:t[0],callback:function(a){e.$set(t,0,a)},expression:"item[0]"}}),e._v(" "),a("el-color-picker",{model:{value:t[1],callback:function(a){e.$set(t,1,a)},expression:"item[1]"}}),e._v(" "),1!==e.value.colorRange.length&&n===e.value.colorRange.length-1?a("i",{staticClass:"el-icon-remove",on:{click:function(t){return e.value.colorRange.splice(n,1)}}}):e._e(),e._v(" "),e.value.colorRange.length-1!==n||e.value.colorRange.some((function(e){return 1===e[0]}))?e._e():a("el-popover",{attrs:{placement:"left-start",width:"250"}},[a("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[a("el-form-item",{staticClass:"flex-item",attrs:{label:"颜色范围"}},[a("el-input-number",{attrs:{precision:1,step:.1,min:e.value.colorRange[e.value.colorRange.length-1][0],max:1},model:{value:e.editItem[0],callback:function(t){e.$set(e.editItem,0,t)},expression:"editItem[0]"}})],1),e._v(" "),a("el-form-item",{staticClass:"flex-item",attrs:{label:"颜色取值"}},[a("el-color-picker",{model:{value:e.editItem[1],callback:function(t){e.$set(e.editItem,1,t)},expression:"editItem[1]"}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return e.$refs.openBtn.$el.click()}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.confirm}},[e._v("确定")])],1),e._v(" "),a("el-button",{ref:"openBtn",refInFor:!0,attrs:{slot:"reference",type:"text"},on:{click:e.initEditItem},slot:"reference"},[a("i",{staticClass:"el-icon-circle-plus"})])],1)],1)})):e._e()],2)],1)},i=[]},"sA+7":function(e,t,a){"use strict";a.r(t);var n=a("sf0G"),i=a("Myly");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("NEvU");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6f815fcc",null);t.default=r.exports},sQMH:function(e,t,a){var n=a("a5qb");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("b65af53c",n,!0,{})},sVuW:function(e,t,a){"use strict";a.r(t);var n=a("R1oh"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},sX6G:function(e,t,a){"use strict";a("sQMH")},sXni:function(e,t,a){var n=a("P+Ri");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("990a6d66",n,!0,{})},sXwA:function(e,t,a){"use strict";a("GGr2")},sf0G:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("n-form-item",{staticClass:"config-item",attrs:{label:e.name,prop:e.propKey}},[a("default-time-picker",{attrs:{value:e.value,placeholder:e.placeholder},on:{"update:value":function(t){e.value=t}}})],1)},i=[]},sfOV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("n-form-item",{staticClass:"config-item",attrs:{label:"启用分页",prop:"showPage","label-width":"100px"}},[a("el-switch",{model:{value:e.showPage,callback:function(t){e.showPage=t},expression:"showPage"}})],1),e._v(" "),e.showPage?[a("n-form-item",{staticClass:"config-item",attrs:{label:"前端分页",prop:"isLocalPage","label-width":"100px"}},[a("el-switch",{model:{value:e.isLocalPage,callback:function(t){e.isLocalPage=t},expression:"isLocalPage"}})],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"布局",prop:"paginationLayout","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.paginationLayout,callback:function(t){e.paginationLayout=t},expression:"paginationLayout"}},e._l(e.layoutsOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"对齐方式",prop:"paginationAlign","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.paginationAlign,callback:function(t){e.paginationAlign=t},expression:"paginationAlign"}},e._l(e.alignOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"尺寸大小",prop:"paginationSize","label-width":"100px"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.paginationSize,callback:function(t){e.paginationSize=t},expression:"paginationSize"}},e._l(e.sizeOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"显示背景色",prop:"pagerBackground","label-width":"100px"}},[a("el-switch",{model:{value:e.pagerBackground,callback:function(t){e.pagerBackground=t},expression:"pagerBackground"}})],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"每页显示数",prop:"size","label-width":"100px"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,"step-strictly":""},model:{value:e.size,callback:function(t){e.size=t},expression:"size"}})],1)]:e._e()],2)},i=[]},slbR:function(e,t,a){"use strict";a("KD2V")},snCe:function(e,t,a){"use strict";a("qQfJ")},sszg:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("KQm4")),l=n(a("i7/w")),o=n(a("zVQZ")),r=n(a("ptmU")),s=n(a("g9be")),c=n(a("nJN9")),u=n(a("cUvL")),d=n(a("cNg0")),p=n(a("nUNJ")),f=n(a("eog6")),v=n(a("+phg")),m=n(a("bg/w")),h=n(a("Xcjf")),b=n(a("n9jN")),g=n(a("N6RX")),y=n(a("0N7p")),_=n(a("4ODj")),k=a("US6W");a("weoj");var C=a("cCei"),O=a("0O+R"),w=a("ZDQs"),x=n(a("YLtl")),S=n(a("dtjv")),D=n(a("2VVP")),P=a("CDKT"),j=(a("WIBD"),a("7Qib")),T=n(a("0hJt")),I=n(a("7C5+"));l.default.component("LayoutPlaceholder",o.default),l.default.component("VariableSelect",r.default),l.default.component("AppVariables",s.default),l.default.component("InputDialog",c.default),l.default.component("ApiConfig",u.default),l.default.component("SqlConfig",d.default),l.default.component("HandlerDialog",p.default),l.default.component("DataConfigSave",f.default),l.default.component("EventSelect",v.default),l.default.component("FunctionSelect",m.default),l.default.component("JsConfig",h.default),l.default.component("DataConfigSelect",b.default),l.default.component("DevopsConfig",g.default),l.default.component("MoreTypeDropdown",y.default),l.default.component("UtilsSelect",_.default);var F={name:"AppDesign",components:{PageHeader:function(){return Promise.all([a.e(87),a.e(3),a.e(69)]).then(a.bind(null,"adEZ"))},PagePanel:function(){return a.e(71).then(a.bind(null,"S2cY"))},TreePanel:function(){return a.e(84).then(a.bind(null,"ehZu"))},WidgetPanel:function(){return Promise.all([a.e(3),a.e(73)]).then(a.bind(null,"8FAB"))},Breadcrumb:function(){return a.e(76).then(a.bind(null,"Y1Bl"))},PropsPanel:function(){return a.e(74).then(a.bind(null,"bo/m"))},StylePanel:function(){return Promise.all([a.e(75),a.e(70)]).then(a.bind(null,"oYMd"))},EventPanel:function(){return a.e(72).then(a.bind(null,"XxME"))},PageCanvas:function(){return Promise.all([a.e(3),a.e(83)]).then(a.bind(null,"5e7Y"))},CoverWrapper:function(){return a.e(77).then(a.bind(null,"F8/L"))},FavoriteDialog:function(){return a.e(3).then(a.bind(null,"mr7X"))},TemplateSave:function(){return Promise.all([a.e(3),a.e(80)]).then(a.bind(null,"pZPq"))},Splitpanes:k.Splitpanes,Pane:k.Pane,errorCapture:function(){return a.e(3).then(a.bind(null,"sJ5m"))}},mixins:[S.default,I.default],data:function(){return{currentPanel:"page",currentSettingPanel:"prop",dndOptions:{selectedId:"",dropZoneId:"",hoverId:"",placement:"",draggingWidget:null,resizingWidget:null,gridSize:100,offsetLeft:0,widgets:[],dndResizing:!1,dndDragging:!1,hasTree:!1},isCollapseLeft:!1,isCollapseRight:!1,asyncRender:!1,loading:!1,leftSize:25,rightSize:25}},provide:function(){return{dndOptions:this.dndOptions}},computed:{dynamicProps:function(){return this.storeData.dynamicProps},layoutData:{get:function(){var e=this.storeData.layoutData;return Object.keys(e).length?e:null}},treeData:function(){var e=this,t=this.layoutData?[x.default.cloneDeep(this.layoutData)]:null;return t?(O.treeUtil.forEach(t,(function(t){var a=[];t.children.forEach((function(t){["slot"].includes(t.elementType)&&(!1===e.getElementPropsById(t.elementId).isVisible||["data"].includes(e.getElementPropsById(t.elementId).slotType))||a.push(t)})),t.children=a,t.elementName=e.getElementPropsById(t.elementId).elementName||t.elementName})),t):null},pageZone:function(){return this.layoutData?"".concat(this.layoutData.elementId,"_").concat(this.layoutData.elementType):void 0},hideStyle:function(){var e=this.layoutData&&(0,O.getNodeByElementId)(this.layoutData,this.dndOptions.selectedId)||{};return[].concat((0,i.default)(w.dialogTypes),["timer"]).includes(e.elementType)},errorLogVisible:function(){var e={};try{e=JSON.parse(this.$store.state.CODE.baseInfo.VERSION_INFO.settings)||{}}catch(t){e={}}return e.edit}},watch:{isCollapseLeft:function(e){var t=this,a=250/document.querySelector(".app-design-page").getBoundingClientRect().width*100;this.leftSize=e?0:a,setTimeout((function(){var e;null===(e=t.$refs.cover)||void 0===e||e.handleUpdateWrapperStyle()}),300)},isCollapseRight:function(e){var t=this,a=360/document.querySelector(".app-design-page").getBoundingClientRect().width*100;this.rightSize=e?0:a,setTimeout((function(){var e;null===(e=t.$refs.cover)||void 0===e||e.handleUpdateWrapperStyle()}),300)},currentPanel:function(e){this.dndOptions.hasTree="tree"===e}},methods:{tabClick:function(e){var t;null===(t=this.$refs[e.name])||void 0===t||t.initProps()},handlePageLoad:function(e){this.asyncRender=e},handleSelectedChanged:function(){var e;null===(e=this.$refs.cover)||void 0===e||e.handleUpdateWrapperStyle(!0)},arrowClass:function(e){var t=this.isCollapseLeft,a=this.isCollapseRight;return 1===e?{reverse:!t}:2===e?{reverse:a}:{}},handleAddToFavorite:function(e){var t;null===(t=this.$refs.favoriteDialog)||void 0===t||t.open({elementId:e})},handleAddToPublish:function(e){var t;null===(t=this.$refs.templateSave)||void 0===t||t.open({elementId:e})},handleRefreshComponentTemplate:function(){var e;null===(e=this.$refs.widgetPanel)||void 0===e||e.handleGetTemplateList()},getElementPropsById:function(e){var t="app"===e?this.storeData.layoutData.elementId:e;return this.storeData.dynamicProps[t]||{}},updatePanelSize:function(){var e=document.querySelector(".app-design-page").getBoundingClientRect().width;this.leftSize=250/e*100,this.rightSize=360/e*100}},beforeDestroy:function(){this._storeCommit(C.RESET_STORE)},created:function(){var e=this;(0,j.loadCustomIconfont)(),D.default.init(),this.eventFn=function(e){(window.event||e).returnValue="确定离开当前页面吗？"},window.addEventListener("beforeunload",this.eventFn),window.addEventListener(P.FORCE_UPDATE,(function(){e.loading=!0,setTimeout((function(){e.asyncRender=!1,setTimeout((function(){e.asyncRender=!0,setTimeout((function(){e.loading=!1}),60)}))}),60)}))},mounted:function(){var e=this;this.$nextTick((function(){e.updatePanelSize()}))},destroyed:function(){window.removeEventListener("beforeunload",this.eventFn)},errorCaptured:function(e,t){return T.default.recordBug({target:t,message:e,error:e}),!1}};t.default=F},svdr:function(e,t,a){},t0w2:function(e,t,a){"use strict";a.r(t);var n=a("UBEL"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},t155:function(e,t,a){"use strict";a.r(t);var n=a("TwQD"),i=a("++OK");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("VtNT");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"c8566f5a",null);t.default=r.exports},t1Ba:function(e,t,a){"use strict";a.r(t);var n=a("rml0"),i=a("Z1mO");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("qysh");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"07cf1dc8",null);t.default=r.exports},t2eH:function(e,t,a){"use strict";a.r(t);var n=a("ETOS"),i=a("a7ij");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("sX6G");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"d7982d80",null);t.default=r.exports},tAZm:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=a("xBdn"),o=n(a("YLtl"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={components:{selectRegModal:n(a("Ol/V")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{variableForm:{name:"",reg:"",errorTips:""},rules:{name:(0,l.getValidators)([{message:"请输入规则名",include:l.required,trigger:"change"}]),reg:(0,l.getValidators)([{message:"请输入正则表达式",include:l.required,trigger:"change"},{message:"请输入正确格式(运算符前需加转义符“\\”)",include:function(e){try{new RegExp(e)}catch(e){return console.error(e),!0}return!1},trigger:"change"}]),errorTips:(0,l.getValidators)([{message:"请输入错误提示",include:l.required,trigger:"change"}])},popoverVisible:!1,edtingIndex:void 0}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=s(s({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{handleAddRegExp:function(){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm={name:"",reg:"",errorTips:""},this.edtingIndex=void 0},handleEditRegExp:function(e,t){this.popoverVisible=!0,this.$nextTick(),this.$refs.variableForm.resetFields(),this.variableForm=o.default.cloneDeep(t),this.edtingIndex=e},handleDeleteRegExp:function(e){var t=o.default.cloneDeep(this.value);t.splice(e,1);var a=s(s({},this.elementProps),{},(0,i.default)({},this.propKey,t));this.$emit("update",a)},handleConfirm:function(){var e=this;this.$refs.variableForm.validate((function(t){if(t){var a=o.default.cloneDeep(e.value),n=o.default.cloneDeep(e.variableForm);if(void 0===e.edtingIndex){a.push(n);var l=s(s({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",l)}else{a[e.edtingIndex]=n;var r=s(s({},e.elementProps),{},(0,i.default)({},e.propKey,a));e.$emit("update",r)}e.popoverVisible=!1}}))},handleSelectRegOpen:function(){this.$refs.selectRegModal.show()},handleSelectRegConfirm:function(e){this.variableForm=s({},e),this.$refs.selectRegModal.close()}}};t.default=c},tE4p:function(e,t,a){"use strict";a.r(t);var n=a("wBpd"),i=a("nKj+");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("JLcq");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"75ff5494",null);t.default=r.exports},tFGp:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("oRZJ")),l=n(a("YLtl")),o={name:"TabsParams",mixins:[i.default],props:{elementId:{type:String},config:{type:Object},callbackId:{type:String},isChange:{type:Boolean},isChangeBadge:{type:Boolean}},data:function(){return{type:"key",badgeList:[],showBadgeList:[],selectedTabKey:void 0,dialogVisible:!1}},computed:{tabsData:function(){var e=this.getElementPropsById(this.elementId).tabsData;return e},isShowAdd:function(){return this.badgeList.length<this.showBadgeList.length},isShowDelete:function(){return this.badgeList.length>1}},watch:{badgeList:{deep:!0,handler:function(e,t){this.isChangeBadge&&(this.config.params.badgeList=l.default.cloneDeep(e))}}},methods:{handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleReset:function(){var e,t=this.isChange?this.tabsData.filter((function(e){return!e.hidden}))[0]||{}:this.tabsData[0],a=t.key;t.label;this.$set(this.config,"params",{tabName:a,label:void 0,badgeList:this.isChangeBadge?null===(e=this.config.params)||void 0===e?void 0:e.badgeList:void 0})},showTabsSelect:function(e,t){this.variableRowDetail={row:e,key:t},this.selectedTabKey=e[t],this.dialogVisible=!0},formatTabTip:function(e){var t=this.showBadgeList.find((function(t){return t.key===e}));return t?t.label:this.formatTip(e)},handleTabTagClick:function(e,t){this.showBadgeList.find((function(a){return a.key===e[t]}))?this.showTabsSelect(e,t):this.handleShowVariableSelect(e,t)},getTabTagType:function(e){return this.showBadgeList.find((function(t){return t.key===e}))?"":this.getTagType(e)},getTabTagFormat:function(e){var t=this.showBadgeList.find((function(t){return t.key===e}));return t?t.label:this.formatTag(this.getElementName(e),12)},handleAddTab:function(){this.badgeList.push({tab:void 0,badgeMessage:void 0})},handleDeleteTab:function(e){this.badgeList.splice(e,1)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.selectedTabKey=void 0,this.dialogVisible=!1},confirm:function(){var e=this.variableRowDetail,t=e.row,a=e.key;a&&this.$set(t,a,this.selectedTabKey),this.selectedTabKey=void 0,this.dialogVisible=!1},handleChange:function(e){var t=this.isChange?this.tabsData.filter((function(e){return!e.hidden}))[0]||{}:this.tabsData[0],a=t.key;t.label;this.$set(this.config,"params",{tabName:"key"===e?a:void 0,label:void 0})}},created:function(){this.config.params||this.handleReset(),this.type=this.config.params.label?"label":"key",this.showBadgeList=this.tabsData.filter((function(e){return e.showBadge})),this.badgeList=l.default.cloneDeep(this.config.params.badgeList||(this.showBadgeList.length?[{tab:this.showBadgeList[0].key,badgeMessage:void 0}]:[]))}};t.default=o},tJ7m:function(e,t,a){},tJGQ:function(e,t,a){},tLrT:function(e,t,a){"use strict";a.r(t);var n=a("KKEJ"),i=a("7FvP");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("+3+e");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"8122c090",null);t.default=r.exports},tUMS:function(e,t,a){"use strict";a.r(t);var n=a("5scX"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},tg3n:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={name:"TabsParams",mixins:[n(a("oRZJ")).default],props:{elementId:{type:String},config:{type:Object},callbackId:{type:String}},data:function(){return{type:"key"}},computed:{stepsData:function(){var e=this.getElementPropsById(this.elementId).stepsData;return e}},methods:{handleShowVariableSelect:function(e,t,a){this.variableRowDetail={row:e,key:t,cb:a},this.$refs.variableSelect.open({fullVariable:e[t],callbackId:this.callbackId})},handleVariableConfirm:function(e){var t=this.variableRowDetail,a=t.row,n=t.key,i=t.cb;n&&this.$set(a,n,e),null==i||i(e)},handleReset:function(){this.$set(this.config,"params",{activeKey:0,dynamicActiveKey:void 0})},handleChange:function(e){this.$set(this.config,"params",{activeKey:"key"===e?0:void 0,dynamicActiveKey:void 0})}},created:function(){this.config.params||this.handleReset(),this.type=this.config.params.dynamicActiveKey?"dynamicActiveKey":"key"}};t.default=i},toKl:function(e,t,a){var n=a("veun");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("e02ad0c6",n,!0,{})},tqzb:function(e,t,a){var n=a("rKyw");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("f0b4710a",n,!0,{})},"tt+d":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("x/Cv")),o=n(a("mcJd")),r=a("uzoN");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var u={components:{Upload:l.default,ImageSelect:o.default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{requiredArr:[],uploadAction:"".concat(r.uploadPrefix,"/").concat(this.$route.query.appId,"/images")}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=c(c({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}}};t.default=u},ttPp:function(e,t,a){},tvTw:function(e,t,a){"use strict";a.r(t);var n=a("zlTU"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},uFbj:function(e,t,a){"use strict";a("hXZn")},uPBN:function(e,t,a){"use strict";a("3SnP")},uRSU:function(e,t,a){"use strict";a.r(t);var n=a("Cn13"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},uSQC:function(e,t,a){var n=a("05Qn");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("72699408",n,!0,{})},uTMH:function(e,t,a){"use strict";a.r(t);var n=a("ADI3"),i=a("qHjq");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("dPrq");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"19b8c26e",null);t.default=r.exports},ubat:function(e,t,a){"use strict";a("rsi/")},"ud/O":function(e,t,a){var n=a("VJuu");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("763cff4a",n,!0,{})},uhT7:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ODXe")),l=n(a("slWK")),o=n(a("Mz3J")),r=n(a("KEv7")),s=a("7Qib"),c=a("a+hW"),u={name:"sncflowerData",components:{Pagination:o.default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{condition:{name:null,description:null,updateUserName:null,updateTime:null},pagination:{pagenum:1,pagesize:100,sort:null}},dataList:[],selectedRow:null,searchType:"name"}},methods:{formatTime:c.formatTime,open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?this.handleGetServeDetail():this.$message.error("请选择")},handleGetServeDetail:function(){var e=this;this.loading=!0,(0,r.default)({url:l.default.atmSncflowerDetail,method:"POST",data:{params:{name:this.selectedRow.name}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data,n=a.data.workflowInputModels,l={params:{workflowRunBean:{workflowId:a.data.id,workflowInputModels:n}}},o=Object.entries(l).map((function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}})),r={apiRequest:{url:"/sncflower/workflowInfo/runWorkflow",method:"POST",type:"sncflower",paramsData:[{key:"",value:void 0,test:void 0}],bodyData:o.length?o:[{key:"",value:void 0,test:void 0}],headersData:[{key:"",value:void 0,test:void 0}]},apiDetail:a.data};e.$emit("confirm",r),e.dialogVisible=!1})).catch((function(t){e.$message.error("数据解析错误")})).finally((function(){e.loading=!1}))},handleSearch:function(e){var t=this;this.loading=!0,e&&(this.queryForm={condition:{name:null,description:null,updateUserName:null,updateTime:null},pagination:{pagenum:1,pagesize:100,sort:null}}),(0,r.default)({url:l.default.atmSncflowerList,method:"POST",data:{params:this.queryForm},headers:(0,s.getCommonHeaders)()}).then((function(e){var a=e.data;t.totalCount=a.data.rowCount,t.dataList=a.data.records})).finally((function(){t.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch(!1)},handleResetCondition:function(e){this.queryForm.condition.name=null,this.queryForm.condition.description=null,this.queryForm.condition.updateUserName=null,this.queryForm.condition.updateTime=null}}};t.default=u},ui1r:function(e,t,a){var n=a("ITm/");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("3c0a7454",n,!0,{})},ukwV:function(e,t,a){"use strict";a.r(t);var n=a("6wqz"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},uqdE:function(e,t,a){"use strict";a("GVXY")},uu6e:function(e,t,a){var n=a("5Kgc");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("2dbaa345",n,!0,{})},v182:function(e,t,a){"use strict";a.r(t);var n=a("mJ1+"),i=a("biw6");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Ssf0");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"219adf73",null);t.default=r.exports},v3Ll:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"chart",staticClass:"chart-demo"})},i=[]},v414:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("API配置")])]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"api-config"},[a("n-form",{ref:"apiRequest",staticClass:"data-select-form",attrs:{"label-position":"top",model:e.apiRequest,rules:e.rules,size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-button-group",{staticClass:"api-button-group",staticStyle:{"margin-left":"10px"}},[a("el-button",{staticClass:"api-button",attrs:{type:5===e.apiRequest.type?"primary":""},on:{click:function(t){return e.changeType(5)}}},[e._v("自定义API")]),e._v(" "),a("el-button",{staticClass:"api-button",attrs:{type:6===e.apiRequest.type?"primary":""},on:{click:function(t){return e.changeType(6)}}},[e._v("外部API\n          ")])],1),e._v(" "),a("div",{staticClass:"form-item-wrapper"},[a("div",{staticClass:"url-title"},[e._v("\n            URL\n            "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.动态路径参数需要在url路径前加冒号表示，动态参数在params中配置，如/user/:id/:name"),a("br"),e._v("2.测试阶段url的参数由所填的测试值决定"),a("br"),e._v("3.运行阶段url的参数由所填写的参数值决定")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),[5].includes(e.apiRequest.type)?a("el-tag",{staticStyle:{"margin-bottom":"10px",width:"165px","text-align":"center"},attrs:{"disable-transitions":""}},[e._v(e._s(e.apiRequest.method))]):a("el-select",{staticClass:"method-select",attrs:{size:"mini"},model:{value:e.apiRequest.method,callback:function(t){e.$set(e.apiRequest,"method",t)},expression:"apiRequest.method"}},e._l(e.methods,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1),e._v(" "),a("n-form-item",{staticClass:"no-border",attrs:{prop:"url"}},[a("div",{staticClass:"inline-form-item",staticStyle:{padding:"0"}},[[6].includes(e.apiRequest.type)?[a("el-checkbox",{staticStyle:{margin:"0 10px"},on:{change:e.handleUseDynamicOriginChange},model:{value:e.apiRequest.useDynamicOrigin,callback:function(t){e.$set(e.apiRequest,"useDynamicOrigin",t)},expression:"apiRequest.useDynamicOrigin"}},[e._v("动态协议域名端口")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("启用动态协议域名端口，则允许选取一个应用变量作为协议域名端口，系统会自动过滤掉填写的协议域名端口")]),e._v(" "),a("i",{staticClass:"el-icon-question",staticStyle:{"margin-right":"5px"}})]),e._v(" "),e.apiRequest.useDynamicOrigin?[void 0!==e.apiRequest.dynamicOrigin?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.apiRequest.dynamicOrigin),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.apiRequest.dynamicOrigin)},on:{click:function(t){return e.handleShowAppVariables(e.apiRequest,"dynamicOrigin")},close:function(t){e.apiRequest.dynamicOrigin=void 0}}},[e._v("\n                      "+e._s(e.formatTag(e.getElementName(e.apiRequest.dynamicOrigin),12))+"\n                    ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button",{on:{click:function(t){return e.handleShowAppVariables(e.apiRequest,"dynamicOrigin")}}},[e._v("选择协议域名端口\n                      ")])],1),e._v(" "),a("el-input",{attrs:{placeholder:"请输入path"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}})]:e._e()]:e._e(),e._v(" "),![6].includes(e.apiRequest.type)||[6].includes(e.apiRequest.type)&&!e.apiRequest.useDynamicOrigin?a("el-input",{attrs:{disabled:[4,5].includes(e.apiRequest.type),placeholder:"请输入URL"},model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}):e._e(),e._v(" "),[4,5].includes(e.apiRequest.type)?a("el-button",{attrs:{type:"primary"},on:{click:e.handleShowGatewayDataSelect}},[e._v("选择")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleFetch}},[e._v("测试\n              ")])],2)])],1),e._v(" "),[4,5].includes(e.apiRequest.type)&&e.apiRequest.desc?a("div",{staticClass:"sql-desc"},[a("div",{staticClass:"desc-item"},[e._v("描述："+e._s(e.apiRequest.desc))])]):e._e(),e._v(" "),a("n-form-item",{attrs:{label:""}},[a("div",{staticClass:"params-config"},[a("el-button",{staticClass:"source-edit-button",attrs:{type:"primary"},on:{click:function(t){return e.showInputDialog("object",e.paramsSource,e.activeParamsName,"paramsSource")}}},[e._v("转换器")]),e._v(" "),a("el-button-group",{staticClass:"api-button-group"},[a("el-button",{staticClass:"api-button",attrs:{type:"bodyData"===e.activeParamsName?"primary":""},on:{click:function(t){e.activeParamsName="bodyData"}}},[e._v("Body（"+e._s(e.bodyLength)+"）\n              ")]),e._v(" "),a("el-button",{staticClass:"api-button",attrs:{type:"paramsData"===e.activeParamsName?"primary":""},on:{click:function(t){e.activeParamsName="paramsData"}}},[e._v("Params（"+e._s(e.paramsLength)+"）\n              ")]),e._v(" "),a("el-button",{staticClass:"api-button",attrs:{type:"headersData"===e.activeParamsName?"primary":""},on:{click:function(t){e.activeParamsName="headersData"}}},[e._v("Headers（"+e._s(e.headersLength)+"）\n              ")])],1),e._v(" "),a("n-table",{staticStyle:{width:"100%"},attrs:{data:e.currentParamsData,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{width:"200",prop:"key",label:"参数名"},scopedSlots:e._u([{key:"default",fn:function(t){return["headersData"===e.activeParamsName?a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"","default-first-option":""},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}},e._l(e.headersOptions,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1):a("el-input",{attrs:{disabled:e.paramsInputDisabled(t.row.key)},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                        "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                      ")])],1):a("div",{staticClass:"value-input-content"},["headersData"!==e.activeParamsName?a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{attrs:{disabled:["paramsData","headersData"].includes(e.activeParamsName)},on:{click:function(a){return e.showInputDialog("number",t.row,"value")}}},[e._v("数值\n                        ")]),e._v(" "),a("el-button",{attrs:{disabled:["paramsData","headersData"].includes(e.activeParamsName)},on:{click:function(a){return e.showInputDialog("object",t.row,"value")}}},[e._v("对象\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                        ")])],1):a("div",{staticClass:"headers-input"},["Content-Type"===t.row.key?a("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":""},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}},e._l(e.contentTypeOptions,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1):a("el-input",{attrs:{disabled:!t.row.key,clearable:""},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}}),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                        ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.value=e}}})],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"test",label:"测试值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0===t.row.test||["paramsData","headersData"].includes(e.activeParamsName)?a("div",{staticClass:"value-input-content"},[["paramsData","headersData"].includes(e.activeParamsName)?["Content-Type"===t.row.key&&"headersData"===e.activeParamsName?a("el-select",{attrs:{filterable:"","allow-create":"","default-first-option":""},model:{value:t.row.test,callback:function(a){e.$set(t.row,"test",a)},expression:"scope.row.test"}},e._l(e.contentTypeOptions,(function(e){return a("el-option",{key:e,attrs:{value:e,label:e}})})),1):a("el-input",{attrs:{disabled:!t.row.key,clearable:""},model:{value:t.row.test,callback:function(a){e.$set(t.row,"test",a)},expression:"scope.row.test"}})]:a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"test")}}},[e._v("文本\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("number",t.row,"test")}}},[e._v("数值\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.showInputDialog("object",t.row,"test")}}},[e._v("对象\n                        ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.selectFile(t.$index)}}},[e._v("文件\n                        ")]),e._v(" "),a("input",{ref:"fileRef"+t.$index,staticStyle:{display:"none"},attrs:{type:"file"},on:{change:function(a){return e.fileChange(a,t.$index)}}})],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.test=e}}})],2):a("el-tooltip",{attrs:{effect:"dark",content:e.isFile(t.row.test)?t.row.test.name:e.formatTip(t.row.test),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":""},on:{click:function(a){return e.handleTagClick(t.row,"test")},close:function(e){t.row.test=void 0}}},[e._v("\n                        "+e._s(e.isFile(t.row.test)?"文件":e.formatTag(t.row.test))+"\n                      ")])],1)],1)]}}])}),e._v(" "),a("n-table-column",{attrs:{width:"80",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddParams}},[e._v("+")]),e._v(" "),e.paramsInputDisabled(t.row.key)?e._e():a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("\n                      -\n                    ")])])]}}])})],1)],1)])],1),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("gateway-data-select",{ref:"gatewayDataSelect",on:{confirm:e.handleGatewayDataConfirm}}),e._v(" "),a("custom-api-data-select",{ref:"customApiDataSelect",on:{confirm:e.handleGatewayDataConfirm}}),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleUpdateValue}}),e._v(" "),a("AppVariables",{ref:"appVariables",on:{confirm:e.handleAppVariableConfirm}})],1)],2)],1)},i=[]},v47J:function(e,t,a){"use strict";a.r(t);var n=a("Ccm5"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},v6Dx:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item select-page",attrs:{label:"选择页面"}},[a("Select",{attrs:{options:e.pageData,labelKey:"elementName",valueKey:"elementId",placeholder:"请选择页面",clearable:!1},on:{change:e.initSetting},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),e.value?a("el-button",{staticStyle:{"margin-left":"5px",width:"50px"},attrs:{type:"primary",plain:"",size:"mini"},on:{click:e.jumpToPage}},[e._v("跳转")]):e._e()],1),e._v(" "),e.value?[a("n-form-item",{staticClass:"config-item",attrs:{label:"参数配置"}},[a("div",[e.propsData.length?a("el-button",{attrs:{type:"primary"},on:{click:e.setPropsInitVal}},[e._v("设置初始值")]):e._e(),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh-right"},on:{click:e.refreshSetting}},[e._v("更新")])],1)]),e._v(" "),a("div",{staticClass:"props-wrap"},[a("n-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.propsData}},e._l(e.columns1,(function(t){return a("n-table-column",{key:t.key,attrs:{prop:t.key,label:t.name,width:"auto"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(e._s(t.format?t.format(a.row,t.key):void 0!==a.row[t.key]?a.row[t.key]:"--"))]}}],null,!0)})})),1)],1)]:e._e(),e._v(" "),e.value?[a("n-form-item",{staticClass:"config-item",staticStyle:{"margin-top":"10px"},attrs:{label:"暴露函数"}}),e._v(" "),a("div",{staticClass:"props-wrap"},[a("n-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.elementProps.fnsData}},[a("n-table-column",{attrs:{label:"函数id",prop:"fn",width:"auto"}}),e._v(" "),a("n-table-column",{attrs:{label:"函数名称",prop:"name",width:"auto"}})],1)],1)]:e._e(),e._v(" "),a("el-dialog",{staticClass:"props-setting-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,width:"1000px",title:"参数配置",visible:e.paramsDialogVisible},on:{"update:visible":function(t){e.paramsDialogVisible=t}}},[a("n-table",{staticClass:"props-setting-table",staticStyle:{width:"100%"},attrs:{border:"",data:e.dialogPropsData}},e._l(e.columns2,(function(t){return a("n-table-column",{key:t.key,attrs:{prop:t.key,label:t.name,width:t.width||e.auto},scopedSlots:e._u([{key:"default",fn:function(n){return["defaultValue"===t.key?[a("value-input",{attrs:{value:n.row.defaultValue.value,type:n.row.defaultValue.type},on:{showInputDialog:function(t){e.currentIndex=n.$index,e.showInputDialog.apply(void 0,t)},remove:function(e){n.row.defaultValue.value=void 0}}})]:"desc"===t.key?[a("el-input",{attrs:{placeholder:"请输入参数描述"},model:{value:n.row.desc,callback:function(t){e.$set(n.row,"desc",t)},expression:"scope.row.desc"}})]:[e._v("\n            "+e._s(t.format?t.format(n.row,t.key):void 0!==n.row[t.key]?n.row[t.key]:"--")+"\n          ")]]}}],null,!0)})})),1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.paramsDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 认")])],1)],1)],2)},i=[]},vAJe:function(e,t,a){"use strict";a.r(t);var n=a("VYYq"),i=a("+kz7");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("D1CT");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"3c56e180",null);t.default=r.exports},vAgK:function(e,t,a){},vC6p:function(e,t,a){"use strict";a.r(t);var n=a("fs2b"),i=a("EV7t");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("ikp8");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"56b6e71f",null);t.default=r.exports},vJTX:function(e,t,a){"use strict";a.r(t);var n=a("/j+3"),i=a("+kLs");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Jekd");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"bcd7051a",null);t.default=r.exports},vK8C:function(e,t,a){},vM5z:function(e,t,a){"use strict";a("VCma")},vOzB:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("rePB")),o=n(a("ODXe")),r=n(a("HaE+")),s=n(a("YLtl")),c=a("7Qib"),u=a("ZDQs"),d=n(a("slWK")),p=n(a("t2rG")),f=n(a("jPEL")),v=n(a("E0s0")),m=n(a("Mqf6")),h=a("a+hW");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,l.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var y={components:{draggable:p.default,chartDemo:f.default,VueJsonPretty:v.default},mixins:[m.default],props:{data:{type:Object,require:!0},staticData:{type:Array,default:[]},activeDataType:{type:String,require:!0},dataVariables:{type:Array,default:[]},currentProps:{type:Object,require:!0},dynamicVariables:{type:Array,require:!0}},data:function(){return{dragVal:[],allField:[],xField:[],yField:[],soureData:[],active:"response",selectedPath:"",xTitle:{line:"X轴映射",bar:"X轴映射",pie:"类目字段",gauge:"X轴映射",scatter:"X轴映射",radar:"类目字段",funnel:"类目字段"},yTitle:{line:"Y轴映射",bar:"Y轴映射",pie:"数值字段(最多选一个)",gauge:"仪表盘数据映射",scatter:"Y轴映射",radar:"数值字段",funnel:"数值字段(最多选一个)"}}},mounted:function(){this.handleInitDnD()},methods:{handleDrop:function(e){var t=this.currentProps.dataType,a=e.target.dataset.key;if("dynamic"===t){var n=this.dynamicVariables.find((function(e){return e.key===a})),i=(0,h.getPathList)(this.selectedPath);n.path=i}else"sourcePath"===a&&(this.selectedDataPath=(0,h.getPathList)(this.selectedPath),this.init())},hidePrefix:function(e){return e instanceof Array?e.slice(1).join("/"):"string"==typeof e?e.split(".").slice(1).join("/"):void 0},showLastPath:function(e){return e[e.length-1]},getFields:function(){var e,t,a=this.dataVariables;this.xField=(null===(e=a.find((function(e){return"xAxis"===e.key})))||void 0===e?void 0:e.fields)||[],this.yField=(null===(t=a.find((function(e){return"yAxis"===e.key})))||void 0===t?void 0:t.fields)||[]},init:(0,c.debounce)((0,r.default)(i.default.mark((function e(){var t,a,n,l,r,c,u,d,p,f,v;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:t=this.data,a=this.staticData,n=this.selectedDataPath,l=this.isStaticData,r=this.currentProps.dataType,c=this.activeDataType,!l&&t&&n?u="static"===c&&"dynamic"===r?a:s.default.get({response:t},n):l&&(u=a),u=u||[],this.soureData=s.default.cloneDeep(u),u instanceof Array?(d=u,p=(0,o.default)(d,1),f=p[0],v=void 0===f?{}:f,this.allField=Object.keys(v),this.initExportData(v)):this.allField=[],this.allField=s.default.cloneDeep(this.allField);case 8:case"end":return e.stop()}}),e,this)}))),100),moveTag:(0,c.debounce)((function(e){try{var t=e.draggedContext.element,n=e.to.parentNode.getAttribute("to");if("xField"===n)!this.xField.find((function(e){return e.key===t}))&&!this.xField.length&&this.xField.push({key:t});else if("yField"===n){if(["pie","funnel"].includes(this.chartType)&&this.yField.length)return;if(!this.yField.find((function(e){return e.key===t}))){var i=a("K1Nn")("./".concat(this.elementType,"/").concat(this.elementVersion,"/watch-props.js")).yField_tpl;this.yField.push(g(g({},s.default.cloneDeep(i)),{},{key:t,value:t}))}}}catch(e){console.error(e)}}),{time:100,returnValue:!1}),addXFields:function(){var e="key"+(this.xField.length+1),t=a("K1Nn")("./".concat(this.elementType,"/").concat(this.elementVersion,"/watch-props.js")).xField_tpl;this.xField.push(g(g({},s.default.cloneDeep(t)),{},{name:e}))},getValue:function(){var e=this;return(0,r.default)(i.default.mark((function t(){var a;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.xField.length||["gauge"].includes(e.chartType)){t.next=3;break}return e.$message.error("请选取"+e.xTitle),t.abrupt("return",Promise.reject());case 3:if(e.yField.length){t.next=6;break}return e.$message.error("请选取"+e.yTitle),t.abrupt("return",Promise.reject());case 6:return a=e.dataVariables.map((function(t){switch(t.key){case"sourcePath":t.path=e.selectedDataPath||t.path;break;case"xAxis":t.fields=e.xField;break;case"yAxis":t.fields=e.yField}return t})),t.abrupt("return",Promise.resolve(a));case 8:case"end":return t.stop()}}),t)})))()},initExportData:function(e){var t=this.chartType,a=this.currentProps.elementId,n="".concat(a,".$dotData"),i=function(){switch(t){case"pie":case"funnel":case"gauge":return{name:"",value:""};case"scatter":return[0,0];case"radar":return{name:"",value:[0,1,2,3,4,5,6]};default:return e}}();this.$http({url:d.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:n,value:JSON.stringify(i)}]}}),["line","bar","scatter"].includes(t)&&this.$http({url:d.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(a,".$dataZoomRange"),value:JSON.stringify([0,0])}]}}),this.$http({url:d.default.appDesignJsonDataConfigSave,data:{appDesignId:Number(this.$route.query.vid),preferences:[{key:"".concat(a,".$chartData"),value:JSON.stringify(this.soureData)}]}})}},computed:{isDynamic:function(){return"dynamic"===this.currentProps.dataType},selectedDataPath:{get:function(){var e,t,a=this.currentProps,n=a.dataType,i=a.dataVariables;return"dynamic"===n?null===(t=this.dynamicVariables.find((function(e){return"sourcePath"===e.key})))||void 0===t?void 0:t.path:null===(e=i.find((function(e){return"sourcePath"===e.key})))||void 0===e?void 0:e.path},set:function(e){var t=this.currentProps,a=t.dataType,n=t.dataVariables;("dynamic"===a?this.dynamicVariables:n).find((function(e){return"sourcePath"===e.key})).path=e}},showDynamicVariables:function(){return"dynamic"===this.activeDataType?this.dynamicVariables:this.dynamicVariables.filter((function(e){return"sourcePath"!==e.key}))},chartType:function(){return u.chartType[this.elementType]},showResponse:function(){return!this.isStaticData||this.isDynamic},isStaticData:function(){return"static"===this.activeDataType},elementType:function(){return this.currentProps.elementType},elementVersion:function(){return this.currentProps.elementVersion},chartRender:function(){var e=this.soureData,t=void 0===e?[]:e,a=this.xField,n=this.yField;return["gauge"].includes(this.chartType)?t.length&&n.length:t.length&&a.length&&n.length}},watch:{dataVariables:{deep:!0,immediate:!0,handler:function(){this.getFields()}},showResponse:{immediate:!0,handler:function(){this.init()}}}};t.default=y},vP0O:function(e,t,a){"use strict";a.r(t);var n=a("KOO0"),i=a("h1Ik");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("RIvN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"49ba8a0e",null);t.default=r.exports},vRLV:function(e,t,a){"use strict";a.r(t);var n=a("ZQd+"),i=a("c+Xd");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("HnWr");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6f4e3f94",null);t.default=r.exports},"vbn+":function(e,t,a){"use strict";a.r(t);var n=a("7JBJ"),i=a("ziXV");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("mEuc");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"0eacb75c",null);t.default=r.exports},vcH4:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"选择操作",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"dialog-content"},[a("n-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClickTab},model:{value:e.queryForm.condition.isBuilt,callback:function(t){e.$set(e.queryForm.condition,"isBuilt",t)},expression:"queryForm.condition.isBuilt"}},[a("n-tab-pane",{attrs:{label:"用户操作",name:0}}),e._v(" "),a("n-tab-pane",{attrs:{label:"内置操作",name:1}})],1),e._v(" "),a("n-form",{staticClass:"data-select-form",attrs:{model:e.queryForm,size:"mini",inline:"","label-with":"80px"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"100px"},on:{change:e.handleResetCondition},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},[a("el-option",{attrs:{label:"操作名称",value:"scriptName"}}),e._v(" "),a("el-option",{attrs:{label:"标签",value:"labelName"}})],1)],1),e._v(" "),"scriptName"===e.searchType?a("n-form-item",{attrs:{label:""}},[a("el-input",{staticClass:"search-input",attrs:{size:"mini",placeholder:"请输入操作名"},model:{value:e.queryForm.condition.scriptName,callback:function(t){e.$set(e.queryForm.condition,"scriptName",t)},expression:"queryForm.condition.scriptName"}})],1):a("n-form-item",{attrs:{label:""}},[a("el-select",{staticStyle:{width:"178px"},attrs:{filterable:"","default-first-option":"",placeholder:"请选择标签"},model:{value:e.queryForm.condition.labelName,callback:function(t){e.$set(e.queryForm.condition,"labelName",t)},expression:"queryForm.condition.labelName"}},e._l(e.labelNameList,(function(e){return a("el-option",{key:e.labelTitle,attrs:{label:e.labelTitle,value:e.labelTitle}})})),1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.handleSearch(!1)}}}),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSearch(!0)}}},[e._v("\n        重置\n      ")])],1),e._v(" "),a("div",{staticClass:"data-table"},[a("n-table",{attrs:{data:e.dataList,border:"","highlight-current-row":"",size:"mini",height:"410px"},on:{"row-click":e.handleRowClick}},[a("n-table-column",{attrs:{width:"50px",label:"选择"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.selectedRow&&e.selectedRow.scriptName===t.row.scriptName?a("el-radio"):a("el-radio",{attrs:{value:!1}})]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"scriptId",label:"操作ID",width:"80px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"scriptName",label:"操作名称","min-width":"150px"}}),e._v(" "),a("n-table-column",{attrs:{prop:"scriptLabels",label:"标签","min-width":"100px"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.scriptLabels,(function(t){return a("el-tag",{key:t.labelId,staticStyle:{margin:"2px"}},[e._v(e._s(t.labelTitle))])}))}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"scriptStatus",label:"危险级别",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getScriptStatusLabel(t.row.scriptStatus)))])]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"scriptTypeName",label:"语言"}}),e._v(" "),a("n-table-column",{attrs:{prop:"lastUpdateUserName",label:"操作人"}}),e._v(" "),a("n-table-column",{attrs:{prop:"status",label:"状态",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.getStatusLabel(t.row.status)))])]}}])}),e._v(" "),a("n-table-column",{attrs:{prop:"lastUpdateTime",label:"修改时间",width:"150px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.formatTime(t.row.lastUpdateTime)))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("pagination",{attrs:{page:e.queryForm.pagination.pagenum,limit:e.queryForm.pagination.pagesize,total:e.totalCount},on:{pagination:e.handlePageChange}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},verB:function(e,t,a){"use strict";a.r(t);var n=a("VbZI"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},veun:function(e,t,a){},vpyU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a("7Qib"),l=n(a("bd9F")),o={name:"AnimateSelect",data:function(){return{animationList:l.default,dialogVisible:!1,selected:""}},methods:{open:function(e){this.selected=e||"",this.dialogVisible=!0},handleClose:function(e){this.dialogVisible=!1,e()},confirm:function(){this.selected?(this.$emit("confirm",this.selected),this.dialogVisible=!1):this.$message.error("请选择动画效果！")},handleSelect:function(e){this.selected=e.animationName,this.$nextTick((function(){(0,i.animateCSS)({query:".animation-item.ani-item.is-select",animationName:e.animationName})}))}}};t.default=o},vzZL:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("cUvL")),l=n(a("cNg0")),o=n(a("nBKl")),r=n(a("n9jN")),s=n(a("eog6")),c=n(a("YLtl")),u={name:"DataSetConfig",components:{ApiConfig:i.default,SqlConfig:l.default,StaticConfig:o.default,DataConfigSelect:r.default,DataConfigSave:s.default},props:{isHideSQL:{type:Boolean,default:!1},isHideStatic:{type:Boolean,default:!1},isHideSelect:{type:Boolean,default:!1},request:{type:Object,default:function(){return{apiRequest:void 0,sqlRequest:void 0,staticData:void 0,optionsMode:!1}}},clearStatic:{type:Boolean,default:!0}},data:function(){return{loading:!1,dataSet:void 0,activeDataType:"api",apiRequest:void 0,sqlRequest:void 0,staticData:void 0}},watch:{activeDataType:function(e){this.$emit("update:type",e)}},methods:{handleShowDataConfigSelect:function(){var e;switch(this.activeDataType){case"api":e=this.apiRequest.type;break;case"sql":e=1===this.sqlRequest.sqlType?2:3;break;case"static":e=1}this.$refs.dataConfigSelect.open({type:e})},handleShowDataConfigSave:function(){var e,t;switch(!0){case void 0!==this.apiRequest:e={apiRequest:this.apiRequest},t=this.apiRequest.type;break;case void 0!==this.sqlRequest:e={sqlRequest:this.sqlRequest},t=1===this.sqlRequest.sqlType?2:3;break;case void 0!==this.staticData:e={staticData:this.staticData},t=1}this.$refs.dataConfigSave.open({config:JSON.stringify(e),type:t})},handleTabClick:function(e){e.name!==this.activeDataType&&(this.activeDataType=e.name,this.sqlRequest=void 0,this.apiRequest=void 0,this.clearStatic&&(this.staticData=void 0),this.$emit("tab-click",e))},handleResponse:function(e){var t=e.response,a=e.responseOptions,n=e.isStatic;this.$emit("response",{response:t,responseOptions:a,isStatic:n})},handleDataConfigConfirm:function(e){this.dataSet=c.default.cloneDeep(e);var t=JSON.parse(e.config),a=t.apiRequest,n=t.sqlRequest,i=t.staticData;switch(this.apiRequest=a,this.sqlRequest=n,i&&(this.staticData=i),!0){case void 0!==this.apiRequest:this.activeDataType="api";break;case void 0!==this.sqlRequest:this.activeDataType="sql";break;case void 0!==this.staticData:this.activeDataType="static"}},getResult:function(){return{apiRequest:this.apiRequest,sqlRequest:this.sqlRequest,staticData:this.staticData}}},created:function(){switch(this.apiRequest=c.default.cloneDeep(this.request.apiRequest),this.sqlRequest=c.default.cloneDeep(this.request.sqlRequest),this.staticData=c.default.cloneDeep(this.request.staticData),!0){case void 0!==this.apiRequest:this.activeDataType="api";break;case void 0!==this.sqlRequest:this.activeDataType="sql";break;case void 0!==this.staticData:this.request.optionsMode||(this.activeDataType="static")}}};t.default=u},"w+6O":function(e,t,a){var n=a("2ye7");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("17c04f86",n,!0,{})},w0o9:function(e,t,a){},w1RG:function(e,t,a){"use strict";a.r(t);var n=a("wjWv"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},w3H7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"value-input"},[void 0!==e.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.value)},on:{click:function(t){return e.handleTagClick({value:e.value},"value",void 0,e.type)},close:function(t){return e.$emit("remove")}}},[e._v("\n      "+e._s(e.formatTag(e.getElementName(e.value),12))+"\n    ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[[a("el-button",{on:{click:function(t){return e.showInputDialog("text",{value:e.value},"value")}}},[e._v("文本\n        ")]),e._v(" "),a("el-button",{on:{click:function(t){return e.showInputDialog("number",{value:e.value},"value")}}},[e._v("数值\n        ")]),e._v(" "),a("el-button",{on:{click:function(t){return e.showInputDialog("object",{value:e.value},"value")}}},[e._v("对象\n        ")]),e._v(" "),a("el-button",{on:{click:e.jsFunc}},[e._v("js函数 ")])]],2)],1)],1)},i=[]},w6oK:function(e,t,a){"use strict";a.r(t);var n=a("1Qhe"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},w9Pg:function(e,t,a){var n=a("E99M");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("9cc5a692",n,!0,{})},wBfa:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"动态表格配置",visible:e.dialogVisible,width:"1200px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.dialogVisible?a("data-set-config",{ref:"dataSetConfig",attrs:{request:{apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,staticData:e.staticData},type:e.activeDataType},on:{"update:type":function(t){e.activeDataType=t},response:e.handleResponse}}):e._e(),e._v(" "),a("div",{staticClass:"data-select-item"},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("字段映射")])]),e._v(" "),a("div",{staticClass:"data-select-form data-content"},[a("div",{staticClass:"data-config"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"data-table",style:{width:"50%"}},[a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeDataCollapse,callback:function(t){e.activeDataCollapse=t},expression:"activeDataCollapse"}},[a("el-collapse-item",{attrs:{name:"data"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("变量映射")])]),e._v(" "),a("vxe-table",{ref:"dataVariablesTable",staticStyle:{width:"100%"},attrs:{size:"mini",data:e.dynamicColumn,border:"","header-cell-class-name":"header-cell"}},[a("vxe-table-column",{attrs:{field:"label",title:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("div",[["totalCount"].includes(n.key)?e._e():a("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" "),a("span",[e._v(e._s(n.label))]),e._v(" "),a("el-tooltip",{attrs:{content:e.getTip(n.key),"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1)]}}])}),e._v(" "),a("vxe-table-column",{attrs:{field:"key",title:"编码"}}),e._v(" "),a("vxe-table-column",{attrs:{field:"path",title:"数据路径","min-width":"150px"},scopedSlots:e._u([{key:"header",fn:function(){return[a("span",[e._v("数据路径")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"},attrs:{slot:"content"},slot:"content"},[a("span",{staticStyle:{margin:"10px"}},[e._v("请在响应体结构树上选中“表格数据”节点，点击拖拽至数据路径中")]),e._v(" "),a("video",{staticStyle:{width:"400px"},attrs:{autoplay:"autoplay",loop:"loop",muted:"",src:e.$getImgPrefix("/video/field-map.mp4")},domProps:{muted:!0}})]),e._v(" "),a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])]},proxy:!0},{key:"default",fn:function(t){var n=t.row;return[a("div",{staticClass:"drop-zone-path",attrs:{"data-key":n.key}},[n.path.length?a("el-tooltip",{attrs:{effect:"dark",content:n.path.join("/"),placement:"top"}},[a("el-tag",{attrs:{closable:"","disable-transitions":""},on:{close:function(e){n.path=[]}}},[e._v(e._s(n.path[n.path.length-1]))])],1):a("span",[e._v("请从右侧拖拽节点")])],1)]}}])})],1)],2)],1)],1),e._v(" "),a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                    响应体\n                    "),a("el-button",{attrs:{size:"mini"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty no-select",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32,selectableType:"single",showSelectController:!0,selectOnClickNode:!0},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("点击“测试”请求响应体")])],1)])])])],2)],1)],1),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dndCoverStyle,expression:"dndCoverStyle"}],staticClass:"dnd-cover",style:e.dndCoverStyle})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},wBpd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"json-editor"},[a("div",{staticClass:"edit-mode"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.editorProvide.showButtons=!e.editorProvide.showButtons}}},[e._v("编辑")])],1),e._v(" "),e.loading?e._e():a("json-view",{model:{value:e.parsedData,callback:function(t){e.parsedData=t},expression:"parsedData"}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("item-add-form",{ref:"popover",attrs:{needName:e.currentContext.needName},on:{confirm:e.newItem}})],1)},i=[]},wKlj:function(e,t,a){var n=a("4niE");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("4688f25e",n,!0,{})},wRsh:function(e,t,a){var n=a("8a8y");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("027d89b0",n,!0,{})},wXBn:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"custom-class":"low-code-dialog","close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,title:"保存数据集",visible:e.dialogVisible,width:"800px",top:"5vh","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("n-form",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"dataForm",staticClass:"data-set-save-form",attrs:{"label-position":"top",model:e.formData,rules:e.rules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"==typeof t?t.trim():t)},expression:"formData.name"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description","string"==typeof t?t.trim():t)},expression:"formData.description"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},wXoR:function(e,t,a){"use strict";a.r(t);var n=a("zb8e"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},wb0z:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("ODXe")),l=n(a("slWK")),o=n(a("Mz3J")),r=n(a("KEv7")),s=a("7Qib"),c=a("a+hW"),u={name:"scriptData",components:{Pagination:o.default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,queryForm:{condition:{isBuilt:0,scriptName:null,labelName:null},pagination:{pagenum:1,pagesize:100,sort:null}},dataList:[],selectedRow:null,labelNameList:[],searchType:"scriptName"}},methods:{formatTime:c.formatTime,open:function(e){this.selectedRow=e,this.dialogVisible=!0,this.handleGetLableList(),this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?this.handleGetServeDetail():this.$message.error("请选择")},handleGetServeDetail:function(){var e=this;this.loading=!0,(0,r.default)({url:l.default.atmScriptFullInfo,method:"POST",data:{params:{scriptName:this.selectedRow.scriptName}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data,n={params:{entity:{paramValueList:a.data.inputParams.map((function(e){return{paramName:e.paramName,paramValue:e.defaultValue}})),targetList:[{targetType:91,targetName:"linux_192.168.24.40",targetHost:"192.168.24.40",targetId:129}],autoCommit:1,sudo:!1,sudoUser:"",layoutId:a.data.scriptId,taskSource:1,execType:0,accessType:"local",timeout:60,continueAfterFailure:1}}},l=Object.entries(n).map((function(e){var t=(0,i.default)(e,2),a=t[0],n=t[1];return{key:a,value:n,test:n}})),o={apiRequest:{url:"/atm/job/start",method:"POST",type:"script",paramsData:[{key:"",value:void 0,test:void 0}],bodyData:l.length?l:[{key:"",value:void 0,test:void 0}],headersData:[{key:"",value:void 0,test:void 0}]},apiDetail:a.data};e.$emit("confirm",o),e.dialogVisible=!1})).catch((function(t){e.$message.error("数据解析错误")})).finally((function(){e.loading=!1}))},handleSearch:function(e){var t=this;this.loading=!0,e&&(this.queryForm={condition:{isBuilt:0,scriptName:null,labelName:null},pagination:{pagenum:1,pagesize:100,sort:null}}),(0,r.default)({url:l.default.atmScriptList,method:"POST",data:{params:this.queryForm},headers:(0,s.getCommonHeaders)()}).then((function(e){var a=e.data;t.totalCount=a.data.rowCount,t.dataList=a.data.records})).finally((function(){t.loading=!1}))},handleGetLableList:function(){var e=this;(0,r.default)({url:l.default.atmCommonLabelList,method:"POST",data:{params:{pagination:{pagenum:1,pagesize:999}}},headers:(0,s.getCommonHeaders)()}).then((function(t){var a=t.data;e.labelNameList=a.data.records}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch(!1)},handleResetCondition:function(e){if("labelName"===e)this.handleGetLableList();this.queryForm.condition.scriptName=null,this.queryForm.condition.labelName=null},handleClickTab:function(){this.handleSearch(!1)},getScriptStatusLabel:function(e){switch(e){case 1:return"危险";case 2:case 3:return"普通"}},getStatusLabel:function(e){switch(e){case 0:return"已通过";case 1:return"下线"}}}};t.default=u},wctx:function(e,t,a){"use strict";a("It2X")},we1S:function(e,t,a){"use strict";a.r(t);var n=a("v6Dx"),i=a("GtRy");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("Kd+v");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"6e2d40e2",null);t.default=r.exports},wjWv:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("slWK")),l=n(a("Mz3J")),o=a("a+hW"),r={name:"SqlDataSelect",components:{Pagination:l.default},data:function(){return{dialogVisible:!1,loading:!1,totalCount:0,type:"physicalName",keyword:"",queryForm:{pagination:{pagenum:1,pagesize:10},condition:{dataSourceName:"",status:2}},typeList:[{label:"物理名称",value:"physicalName"},{label:"中文名称",value:"name"}],dataList:[],selectedRow:null}},methods:{formatTime:o.formatTime,open:function(e){var t=e.dataSourceName,a=e.selectedRow;this.queryForm.condition.dataSourceName=t,this.selectedRow=a,this.dialogVisible=!0,this.handleSearch(!0)},handleClose:function(e){this.dialogVisible=!1,e()},cancel:function(){this.dialogVisible=!1},confirm:function(){this.selectedRow?(this.$emit("confirm",this.selectedRow),this.dialogVisible=!1):this.$message.error("请选择数据源")},handleSearch:function(){var e=this;"physicalName"===this.type?this.queryForm.condition.physicalName=this.keyword||void 0:this.queryForm.condition.name=this.keyword||void 0,this.loading=!0,this.$http({url:i.default.dataModelPage,data:this.queryForm}).then((function(t){var a=t.data;e.totalCount=a.rowCount,e.dataList=a.records})).finally((function(){e.loading=!1}))},handleRowClick:function(e,t,a){this.selectedRow=e},handlePageChange:function(e){var t=e.page,a=e.size;this.queryForm.pagination.pagenum=t,this.queryForm.pagination.pagesize=a,this.handleSearch(!1)}}};t.default=r},wkBu:function(e,t,a){var n=a("WoD+");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("7ad784cd",n,!0,{})},wktx:function(e,t,a){var n=a("z7FK");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("8b726068",n,!0,{})},x9q8:function(e,t,a){},xLNM:function(e,t,a){},xSsr:function(e,t,a){var n=a("/CyZ");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("00f29127",n,!0,{})},xZ3W:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=a("7Qib"),o=n(a("YLtl"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{requiredArr:[],inputValue:void 0}},computed:{value:{get:function(){return this.elementProps[this.propKey]}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){o.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{copyText:l.copyText,handleChange:function(e){var t=s(s({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}};t.default=c},xomr:function(e,t,a){"use strict";a.r(t);var n=a("r6j3"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},xsQF:function(e,t,a){var n=a("0SP2");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("747f041f",n,!0,{})},xswV:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-input",{attrs:{placeholder:e.placeholder,clearable:""},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue="string"==typeof t?t.trim():t},expression:"inputValue"}}),e._v(" "),a("el-tooltip",{attrs:{placement:"top"}},[a("div",{staticStyle:{"white-space":"nowrap"},attrs:{slot:"content"},slot:"content"},[e._v("\n        唯一标识："+e._s(e.elementProps.elementId)+"\n        "),a("i",{staticClass:"el-icon-document-copy",on:{click:function(t){return e.copyText(e.elementProps.elementId)}}})]),e._v(" "),a("i",{staticClass:"el-icon-notebook-2"})])],1)],1)},i=[]},yClH:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB")),l=n(a("KQm4")),o=n(a("YLtl")),r=a("0O+R"),s=a("ZDQs"),c=a("7C5+");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={inject:(0,l.default)(c.pageInject),props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{requiredArr:[],inputValue:void 0}},computed:{propError:function(){return!(!this.inputValue||-1===this.inputValue.indexOf("."))&&"字段名不能包含“ . ”号"},layoutData:{get:function(){return this.getStore().layoutData}},isFormItem:function(){return s.formTypes.includes(this.elementProps.elementType)},isInSlot:function(){var e=(0,r.getParentNodeByElementId)(this.layoutData,this.elementProps.elementId);return e&&["slot"].includes(e.elementType)&&["data"].includes(this.getElementPropsById(e.elementId).slotType)},isInForm:function(){var e=(0,r.getParentNodeListByElementId)(this.layoutData,this.elementProps.elementId);return e&&e.some((function(e){return["form-container"].includes(e.elementType)}))},isShowPropsSwitch:function(){return this.isFormItem&&this.isInForm||!this.isFormItem&&this.isInSlot},value:{get:function(){return this.elementProps[this.propKey]}},useSlotProps:{get:function(){return this.elementProps.useSlotProps},set:function(e){var t=d(d({},this.elementProps),{},{useSlotProps:e});this.$emit("update",t)}}},watch:{value:{deep:!0,immediate:!0,handler:function(e,t){o.default.isEqual(e,t)||(this.inputValue=e)}}},methods:{handleChange:function(e){var t=d(d({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}}}};t.default=p},yDSD:function(e,t,a){var n=a("U7zl");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("91e19f12",n,!0,{})},yDUr:function(e,t,a){"use strict";a.r(t);var n=a("Wo2n"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},yMNJ:function(e,t,a){},yP05:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],staticClass:"data-select"},[e.isHideSelect?e._e():a("div",{staticClass:"dataset-select-wrapper"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleShowDataConfigSelect}},[e._v("选择已存配置\n      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.handleShowDataConfigSave}},[e._v("配置另存为")])],1),e._v(" "),a("div",{staticClass:"data-select-item no-border"},[a("n-tabs",{staticClass:"data-content",attrs:{value:e.activeDataType},on:{"tab-click":e.handleTabClick}},[a("n-tab-pane",{attrs:{label:"API",name:"api"}},["api"===e.activeDataType?a("api-config",{attrs:{"api-request":e.apiRequest},on:{"update:apiRequest":function(t){e.apiRequest=t},"update:api-request":function(t){e.apiRequest=t},response:e.handleResponse}}):e._e()],1),e._v(" "),e.isHideSQL?e._e():a("n-tab-pane",{attrs:{label:"SQL",name:"sql"}},["sql"===e.activeDataType?a("sql-config",{attrs:{"sql-request":e.sqlRequest,"only-select":!0},on:{"update:sqlRequest":function(t){e.sqlRequest=t},"update:sql-request":function(t){e.sqlRequest=t},response:e.handleResponse}}):e._e()],1),e._v(" "),e.isHideStatic?e._e():a("n-tab-pane",{attrs:{label:"静态",name:"static"}},["static"===e.activeDataType?a("static-config",{attrs:{"static-data":e.staticData},on:{"update:staticData":function(t){e.staticData=t},"update:static-data":function(t){e.staticData=t},response:e.handleResponse}}):e._e()],1)],1)],1),e._v(" "),a("data-config-select",{ref:"dataConfigSelect",on:{confirm:e.handleDataConfigConfirm}}),e._v(" "),a("data-config-save",{ref:"dataConfigSave"})],1)},i=[]},yP8U:function(e,t,a){},yPeO:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.config.params?a("div",{staticClass:"tabs-params"},[a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label"},[e._v("切换方式")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},on:{change:e.handleChange},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[a("el-option",{attrs:{label:"根据步骤",value:"key"}}),e._v(" "),a("el-option",{attrs:{label:"根据变量",value:"dynamicActiveKey"}})],1)],1)]),e._v(" "),"key"===e.type?a("div",{staticClass:"tab-select"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("选择步骤")]),e._v(" "),a("div",{staticClass:"value"},[a("el-select",{attrs:{size:"mini"},model:{value:e.config.params.activeKey,callback:function(t){e.$set(e.config.params,"activeKey",t)},expression:"config.params.activeKey"}},e._l(e.stepsData,(function(t,n){return a("el-option",{key:n,attrs:{label:t.title,value:n}},[a("div",{staticStyle:{float:"left"}},[e._v(e._s(t.title))]),e._v(" "),a("div",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(n))])])})),1)],1)]):e._e(),e._v(" "),"dynamicActiveKey"===e.type?a("div",{staticClass:"tab-label"},[a("div",{staticClass:"label",staticStyle:{"margin-left":"10px"}},[e._v("选择变量\n      "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("需传入步骤索引，数字类型，如0")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("div",{staticClass:"value"},[void 0!==e.config.params.dynamicActiveKey?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.config.params.dynamicActiveKey),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.config.params.dynamicActiveKey)},on:{click:function(t){return e.handleTagClick(e.config.params,"dynamicActiveKey")},close:function(t){e.config.params.dynamicActiveKey=void 0}}},[e._v("\n          "+e._s(e.formatTag(e.getElementName(e.config.params.dynamicActiveKey),12))+"\n        ")])],1):a("el-button-group",[a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleShowVariableSelect(e.config.params,"dynamicActiveKey")}}},[e._v("变量")])],1)],1)]):e._e(),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}})],1):e._e()},i=[]},yYJq:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{directives:[{name:"element-screen",rawName:"v-element-screen"}],staticClass:"data-select-dialog",attrs:{"custom-class":"low-code-dialog",title:"事件处理行为",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1200px",top:"5vh","before-close":e.handleClose}},[a("n-form",{directives:[{name:"loading",rawName:"v-loading.lock",value:e.loading,expression:"loading",modifiers:{lock:!0}}],ref:"dataForm",staticClass:"data-form",attrs:{size:"mini","label-width":"80px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",{staticClass:"event-name-item",attrs:{label:"处理标题",required:""}},[a("div",{staticStyle:{display:"flex","align-items":"center","padding-left":"10px"}},[a("el-input",{attrs:{placeholder:"请输入处理标题"},model:{value:e.dataForm.name,callback:function(t){e.$set(e.dataForm,"name",t)},expression:"dataForm.name"}}),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.handleShowEventSelect}},[e._v("选择已存事件处理程序")])],1)]),e._v(" "),a("div",{staticClass:"condition-panel"},[a("n-form-item",{staticClass:"panel-title",attrs:{label:"条件配置"}},[a("el-switch",{model:{value:e.isEnableCondition,callback:function(t){e.isEnableCondition=t},expression:"isEnableCondition"}})],1),e._v(" "),e.isEnableCondition?a("div",{staticClass:"condition-panel-inner"},[e.dataForm.condition.length?e._e():[a("div",{staticClass:"condition-item"},[a("div",{staticClass:"setting"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddCondition}},[e._v("\n                  +\n                ")])])])])],e._v(" "),e._l(e.dataForm.condition,(function(t,n){return a("div",{key:t,staticClass:"condition-item"},[a("n-table",{attrs:{data:t.child,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"variable",label:"条件配置内容"},scopedSlots:e._u([{key:"default",fn:function(t){return a("div",{staticClass:"value-input"},[void 0!==t.row.variable?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.variable),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.variable)},on:{click:function(a){return e.handleTagClick(t.row,"variable")},close:function(e){t.row.variable=void 0}}},[e._v("\n                    "+e._s(e.formatTag(e.getElementName(t.row.variable),12))+"\n                  ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("text",t.row,"variable")}}},[e._v("文本\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("number",t.row,"variable")}}},[e._v("数值\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("object",t.row,"variable")}}},[e._v("对象\n                    ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleShowVariableSelect(t.row,"variable")}}},[e._v("变量\n                    ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.variable=e}}})],1)],1)}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"rule",label:"规则",width:"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{size:"mini"},model:{value:t.row.rule,callback:function(a){e.$set(t.row,"rule",a)},expression:"scope.row.rule"}},e._l(e.ruleOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("div",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),e._v(" "),a("div",{staticStyle:{float:"right",color:"#8492a6","font-size":"12px"}},[e._v(e._s(t.desc))])])})),1)]}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{directives:[{name:"show",rawName:"v-show",value:!["falsely","truly"].includes(t.row.rule),expression:"!['falsely', 'truly'].includes(scope.row.rule)"}],staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                      "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                    ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("number",t.row,"value")}}},[e._v("数值\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("object",t.row,"value")}}},[e._v("对象\n                      ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                      ")])],1),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.row.value=e}}})],1)],1),e._v(" "),"falsely"===t.row.rule?a("span",[e._v("false/空文本/null/undefined/0")]):e._e(),e._v(" "),"truly"===t.row.rule?a("span",[e._v("对象/数组/非空字符串/true/非零数值...")]):e._e()]}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{staticClass:"control-col"},[n.$index!==t.child.length-1?a("el-switch",{attrs:{"active-value":"||","inactive-value":"&&","active-text":"或","inactive-text":"且"},model:{value:n.row.unit,callback:function(t){e.$set(n.row,"unit",t)},expression:"scope.row.unit"}}):e._e(),e._v(" "),a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleAddConditionChild(n.$index,t.child)}}},[e._v("\n                      +\n                    ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteConditionChild(n.$index,t.child)}}},[e._v("\n                      -\n                    ")])])],1)]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"setting"},[n!==e.dataForm.condition.length-1?a("el-switch",{attrs:{"active-value":"||","inactive-value":"&&","active-text":"或","inactive-text":"且"},model:{value:t.unit,callback:function(a){e.$set(t,"unit",a)},expression:"c.unit"}}):e._e(),e._v(" "),a("div",{staticClass:"btns"},[n===e.dataForm.condition.length-1?a("div",{staticClass:"add-btn-primary",on:{click:e.handleAddCondition}},[e._v("\n                +\n              ")]):e._e(),e._v(" "),e.dataForm.condition.length>1?a("div",{staticClass:"add-btn-primary",on:{click:function(t){return e.handleDeleteCondition(n)}}},[e._v("\n                -\n              ")]):e._e()])],1)],1)}))],2):e._e(),e._v(" "),e.isEnableCondition?e._e():a("div",{staticClass:"condition-panel-inner placeholder"},[e._v("\n        无条件配置\n      ")])],1),e._v(" "),a("div",{staticClass:"action-panel"},[a("n-form-item",{staticClass:"panel-title",attrs:{label:"选择动作"}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择动作"},on:{change:e.handleActionChange},model:{value:e.dataForm.action,callback:function(t){e.$set(e.dataForm,"action",t)},expression:"dataForm.action"}},e._l(e.actionOptions,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)})),1)],1),e._v(" "),e.dataForm.action?["control"===e.dataForm.action?[e._l(e.dataForm.binds,(function(t,n){return a("div",{key:n,staticClass:"action-panel-inner"},[a("div",{staticClass:"action-delete-btn",on:{click:function(t){return e.handleDeleteBind(n)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("-")])]),e._v(" "),a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"选择组件"}},[a("tree-select",{attrs:{tree:e.treeData,width:830,multiple:!1,"node-key":"elementId","default-selected-keys":[n],"show-app-node":!0},on:{change:function(t){return e.handleBindChange(t,n)}}})],1),e._v(" "),e._l(t.fns,(function(i,l){return a("div",{key:i.name,staticClass:"fn"},[a("n-form-item",{attrs:{label:"选择操作"}},[a("div",{staticClass:"form-select"},[a("el-select",{model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"fn.name"}},e._l(e.getFnsByElementId(n),(function(e){return a("el-option",{key:e.value,attrs:{disabled:t.fns.map((function(e){return e.name})).includes(e.value),label:e.label,value:e.value}})})),1),e._v(" "),e.isShowAddFnsBtn(n,t.fns)?a("div",{staticClass:"btn-wrapper",on:{click:function(a){return e.handleAddFns(t.fns)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")])]):e._e(),e._v(" "),t.fns.length>1?a("div",{staticClass:"btn-wrapper",on:{click:function(a){return e.handleDeleteFns(t.fns,l)}}},[a("div",{staticClass:"add-btn-primary"},[e._v("-")])]):e._e()],1)]),e._v(" "),i.name===e.COMMON_FN_ASSIGN?a("n-table",{attrs:{data:e.getVariables(t),border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"variable",label:"组件变量","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(i){return a("div",{staticClass:"variable-column"},[a("el-select",{on:{change:function(a){return e.handleUpdateVariable(a,i.row.variable,t)}},model:{value:i.row.selected,callback:function(t){e.$set(i.row,"selected",t)},expression:"scope.row.selected"}},e._l(e.getVariablesByElementId(n),(function(n){return a("el-option",{key:n.value,attrs:{disabled:Object.keys(t.variable).includes(n.value),label:n.label,value:n.value}},[n.isNotSupported?a("span",{staticStyle:{"font-size":"14px","text-decoration":"line-through"}},[e._v(e._s(n.label))]):a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(n.label))]),e._v(" "),a("span",{staticStyle:{color:"#8492a6","font-size":"12px","margin-left":"10px"}},[e._v(e._s(n.desc))])])})),1)],1)}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"描述","min-width":"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                      "+e._s(e.getConfig(t.row.variable,n).desc)+"\n                    ")]}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"值","min-width":"300px"},scopedSlots:e._u([{key:"default",fn:function(i){return i.row.selected?a("div",{staticClass:"value-input"},[void 0!==t.variable[i.row.variable]?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.variable[i.row.variable]),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.variable[i.row.variable])},on:{click:function(a){e.handleTagClick(t.variable,i.row.variable,e.getAttrOptions(n,e.getConfig(i.row.variable,n)))},close:function(e){t.variable[i.row.variable]=void 0}}},[e._v("\n                          "+e._s(e.formatTag(e.getElementName(t.variable[i.row.variable]),12))+"\n                        ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",{staticStyle:{flex:"1",display:"flex","align-items":"center","margin-right":"4px"}},[e.getConfig(i.row.variable,n).attrVue?a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.showInputDialog("attrVue",t.variable,i.row.variable,void 0,e.getAttrOptions(n,e.getConfig(i.row.variable,n)))}}},[e._v("选择")]):[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("text",t.variable,i.row.variable)}}},[e._v("文本\n                            ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("number",t.variable,i.row.variable)}}},[e._v("数值\n                            ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.showInputDialog("object",t.variable,i.row.variable)}}},[e._v("对象\n                            ")])],e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){e.handleShowVariableSelect(i.row,"",e.handleUpdateVariableValue(t.variable,i.row.variable))}}},[e._v("变量\n                          ")])],2),e._v(" "),a("MoreTypeDropdown",{on:{change:function(e){return t.variable[i.row.variable]=e}}})],1)],1):e._e()}}],null,!0)}),e._v(" "),a("n-table-column",{attrs:{prop:"",label:"操作",width:"90px"},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{staticClass:"control-col"},[a("div",{staticClass:"btns"},[a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleAddVariable(t.variable)}}},[e._v("\n                            +\n                          ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteVariable(t.variable,n.row.variable)}}},[e._v("\n                            -\n                          ")])])])]}}],null,!0)})],1):e._e(),e._v(" "),i.name===e.EXECUTE_CUSTOM_FN?a("n-form-item",{attrs:{label:"选择函数"}},e._l(i.execute_fns,(function(t,l){return a("div",{key:l,staticClass:"form-select"},[a("el-select",{on:{change:function(a){return e.customFnsChange(t,n)}},model:{value:t.id,callback:function(a){e.$set(t,"id",a)},expression:"opt.id"}},e._l(e.getCustomFnsByElementId(n),(function(e){return a("el-option",{key:e.value,attrs:{disabled:i.execute_fns.map((function(e){return e.id})).includes(e.value),label:e.label,value:e.value}})})),1),e._v(" "),a("div",{staticClass:"btn-wrapper"},[a("div",{staticClass:"add-btn-primary",on:{click:function(e){return i.execute_fns.push({id:"",name:""})}}},[e._v("+")])]),e._v(" "),i.execute_fns.length>1?a("div",{staticClass:"btn-wrapper"},[a("div",{staticClass:"add-btn-primary",on:{click:function(e){return i.execute_fns.splice(l,1)}}},[e._v("-")])]):e._e()],1)})),0):e._e(),e._v(" "),[e.CHANGE_TAB,e.ADD_TAB,e.CHANGE_BADGE].includes(i.name)?a("TabsParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId,isChange:i.name===e.CHANGE_TAB,isChangeBadge:i.name===e.CHANGE_BADGE}}):e._e(),e._v(" "),[e.CHANGE_COLLAPSE,e.TOGGLE_COLLAPSE].includes(i.name)?a("CollapseParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.CHANGE_STEP].includes(i.name)?a("StepsParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.CHANGE_STYLES].includes(i.name)?a("StyleConfigParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e(),e._v(" "),[e.PLAY_ANIMATION].includes(i.name)?a("AnimationConfigParams",{attrs:{elementId:n,config:i,callbackId:e.dataForm.callbackId}}):e._e()],1)}))],2)])})),e._v(" "),a("div",{staticClass:"action-add",on:{click:e.handleAddBind}},[a("i",{staticClass:"iconfont icon-tuopugongju_fangda"})])]:e._e(),e._v(" "),"link"===e.dataForm.action?[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.linkLoading,expression:"linkLoading"}],staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"跳转类型"}},[a("el-select",{on:{change:e.handleJumpTypeChange},model:{value:e.dataForm.linkOptions.jumpType,callback:function(t){e.$set(e.dataForm.linkOptions,"jumpType",t)},expression:"dataForm.linkOptions.jumpType"}},[a("el-option",{attrs:{label:"应用内跳转",value:"page"}}),e._v(" "),a("el-option",{attrs:{label:"第三方链接跳转",value:"link"}})],1)],1),e._v(" "),"link"===e.dataForm.linkOptions.jumpType?[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("链接")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("1.动态路径参数需要在url路径前加冒号表示，动态参数在params中配置，如/user/:id/:name"),a("br"),e._v("2.运行阶段url的参数由下表所填写的页面参数值决定")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{attrs:{placeholder:"输入跳转链接"},model:{value:e.linkUrl,callback:function(t){e.linkUrl=t},expression:"linkUrl"}})],2),e._v(" "),a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.linkOptions.linkParams,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"变量名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:e.paramsInputDisabled(t.row.name)},on:{input:e.handleParamsChange},model:{value:t.row.name,callback:function(a){e.$set(t.row,"name",a)},expression:"scope.row.name"}})]}}],null,!1,4188125637)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleAddParams(t.$index)}}},[e._v("+")]),e._v(" "),e.paramsInputDisabled(t.row.name)?e._e():a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteParams(t.$index)}}},[e._v("-")])]}}],null,!1,2958262156)})],1)],1)]:e._e(),e._v(" "),"page"===e.dataForm.linkOptions.jumpType?[a("n-form-item",{attrs:{label:"选择页面"}},[a("el-select",{on:{change:e.handleLinkPageChange},model:{value:e.dataForm.linkOptions.pageId,callback:function(t){e.$set(e.dataForm.linkOptions,"pageId",t)},expression:"dataForm.linkOptions.pageId"}},e._l(e.pageData,(function(e){return a("el-option",{key:e.elementId,attrs:{label:e.elementName,value:e.elementId}})})),1)],1),e._v(" "),a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.linkOptions.pageVariables,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"变量名"}}),e._v(" "),a("n-table-column",{attrs:{prop:"desc",label:"描述"}}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)})],1)],1)]:e._e(),e._v(" "),a("n-form-item",{attrs:{label:"跳转方式"}},[a("el-select",{model:{value:e.dataForm.linkOptions.type,callback:function(t){e.$set(e.dataForm.linkOptions,"type",t)},expression:"dataForm.linkOptions.type"}},[a("el-option",{attrs:{label:"浏览器标签页",value:"blank"}}),e._v(" "),a("el-option",{attrs:{label:"应用内标签页（需开启多Tab功能）",value:"tab",disabled:"page"===e.dataForm.linkOptions.jumpType}}),e._v(" "),a("el-option",{attrs:{label:"当前页",value:"self"}})],1)],1)],2)])]:e._e(),e._v(" "),"commonAction"===e.dataForm.action?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{staticStyle:{"white-space":"nowrap"},attrs:{label:"处理程序名称"}},[a("el-select",{model:{value:e.dataForm.commonActionId,callback:function(t){e.$set(e.dataForm,"commonActionId",t)},expression:"dataForm.commonActionId"}},e._l(e.commonActionsOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)])]:e._e(),e._v(" "),"pageEmit"===e.dataForm.action?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"事件名称"}},[a("el-select",{on:{change:e.initPageEmitParams},model:{value:e.dataForm.pageEmit.emitKey,callback:function(t){e.$set(e.dataForm.pageEmit,"emitKey",t)},expression:"dataForm.pageEmit.emitKey"}},e._l(e.pageEmitOptions,(function(e){return a("el-option",{key:e.emitKey,attrs:{label:e.name,value:e.emitKey}})})),1)],1),e._v(" "),[e.dataForm.pageEmit.emitKey?a("n-form-item",{attrs:{label:"页面参数"}},[a("n-table",{attrs:{data:e.dataForm.pageEmit.params,border:"","header-cell-class-name":"header-cell"}},[a("n-table-column",{attrs:{prop:"name",label:"参数名"}}),e._v(" "),a("n-table-column",{attrs:{label:"描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s("第"+(t.$index+1)+"个参数")+"\n                      ")]}}],null,!1,4024053167)}),e._v(" "),a("n-table-column",{attrs:{prop:"value",label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"value-input"},[void 0!==t.row.value?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(t.row.value),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(t.row.value)},on:{click:function(a){return e.handleTagClick(t.row,"value")},close:function(e){t.row.value=void 0}}},[e._v("\n                              "+e._s(e.formatTag(e.getElementName(t.row.value),12))+"\n                            ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(a){return e.showInputDialog("text",t.row,"value")}}},[e._v("文本\n                              ")]),e._v(" "),a("el-button",{on:{click:function(a){return e.handleShowVariableSelect(t.row,"value")}}},[e._v("变量\n                              ")])],1)],1)],1)]}}],null,!1,1060295399)})],1)],1):e._e()]],2)])]:e._e(),e._v(" "),["open","close","reset"].includes(e.dataForm.action)?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"action-item"},[a("n-form-item",{attrs:{label:"选择组件"}},[a("tree-select",{attrs:{tree:e.treeData,width:830,multiple:!1,"node-key":"elementId","default-selected-keys":[e.dataForm.controlOptions.elementId]},on:{change:e.handleControlChange}})],1)],1)])]:e._e(),e._v(" "),["api","sql","devops"].includes(e.dataForm.action)?[a("div",{staticClass:"action-panel-inner"},[a("div",{staticClass:"dataset-select-wrapper"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.handleShowDataConfigSelect}},[e._v("选择已存配置\n              ")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:e.handleShowDataConfigSave}},[e._v("配置另存为")])],1),e._v(" "),"api"===e.dataForm.action?a("api-config",{attrs:{"api-request":e.dataForm.apiRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.dataForm.emitEvent,"response-config":e.dataForm.responseConfig},on:{"update:apiRequest":function(t){return e.$set(e.dataForm,"apiRequest",t)},"update:api-request":function(t){return e.$set(e.dataForm,"apiRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),"devops"===e.dataForm.action?a("devops-config",{attrs:{"api-request":e.dataForm.apiRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.dataForm.emitEvent},on:{"update:apiRequest":function(t){return e.$set(e.dataForm,"apiRequest",t)},"update:api-request":function(t){return e.$set(e.dataForm,"apiRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),"sql"===e.dataForm.action?a("sql-config",{attrs:{"sql-request":e.dataForm.sqlRequest,"callback-id":e.dataForm.callbackId,emitEvent:e.dataForm.emitEvent},on:{"update:sqlRequest":function(t){return e.$set(e.dataForm,"sqlRequest",t)},"update:sql-request":function(t){return e.$set(e.dataForm,"sqlRequest",t)},response:e.handleResponse}}):e._e(),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"config"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("回调配置")])]),e._v(" "),a("div",{staticClass:"callback-content"},[a("div",{staticClass:"event-panel"},[a("el-collapse",{model:{value:e.activeCollapses,callback:function(t){e.activeCollapses=t},expression:"activeCollapses"}},[a("el-collapse-item",{attrs:{name:"success"}},[a("template",{slot:"title"},[a("div",[e._v("成功回调（"+e._s(e.successCallback.length)+"）")])]),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"success",animation:"300",handle:".el-icon-rank"},model:{value:e.dataForm.callback,callback:function(t){e.$set(e.dataForm,"callback",t)},expression:"dataForm.callback"}},[a("transition-group",e._l(e.successCallback,(function(t){return a("div",{key:t.name,staticClass:"handler"},[a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("el-tooltip",{attrs:{content:"是否启用","popper-class":"tooltip-question",placement:"top"}},[a("el-switch",{staticStyle:{margin:"0 5px"},attrs:{"active-value":!1,"inactive-value":!0},model:{value:t.disabled,callback:function(a){e.$set(t,"disabled",a)},expression:"handler.disabled"}})],1),e._v(" "),a("div",{staticClass:"handler-name",on:{click:function(a){return e.handleEditHandler(t)}}},[e._v("\n                                "+e._s(t.name)+"\n                              ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteHandler(t.id)}}},[e._v("\n                                -\n                              ")])],1)})),0)],1),e._v(" "),a("div",{staticClass:"handler new"},[a("div",{staticClass:"handler-name",on:{click:function(t){return e.handleAddHandler("success")}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")]),e._v("\n                            新增回调处理行为\n                          ")])])],2),e._v(" "),a("el-collapse-item",{attrs:{name:"error"}},[a("template",{slot:"title"},[a("div",[e._v("失败回调（"+e._s(e.errorCallback.length)+"）")])]),e._v(" "),a("draggable",{attrs:{forceFallback:"true",group:"error",animation:"300",handle:".el-icon-rank"},model:{value:e.dataForm.callback,callback:function(t){e.$set(e.dataForm,"callback",t)},expression:"dataForm.callback"}},[a("transition-group",e._l(e.errorCallback,(function(t){return a("div",{key:t.name,staticClass:"handler"},[a("i",{staticClass:"icon el-icon-rank"}),e._v(" "),a("el-tooltip",{attrs:{content:"是否启用","popper-class":"tooltip-question",placement:"top"}},[a("el-switch",{staticStyle:{margin:"0 5px"},attrs:{"active-value":!1,"inactive-value":!0},model:{value:t.disabled,callback:function(a){e.$set(t,"disabled",a)},expression:"handler.disabled"}})],1),e._v(" "),a("div",{staticClass:"handler-name",on:{click:function(a){return e.handleEditHandler(t)}}},[e._v("\n                                "+e._s(t.name)+"\n                              ")]),e._v(" "),a("div",{staticClass:"add-btn-primary",on:{click:function(a){return e.handleDeleteHandler(t.id)}}},[e._v("\n                                -\n                              ")])],1)})),0)],1),e._v(" "),a("div",{staticClass:"handler new"},[a("div",{staticClass:"handler-name",on:{click:function(t){return e.handleAddHandler("error")}}},[a("div",{staticClass:"add-btn-primary"},[e._v("+")]),e._v("\n                            新增回调处理行为\n                          ")])])],2)],1),e._v(" "),a("handler-dialog",{ref:"handlerDialog",on:{confirm:e.handleUpdateEventData}})],1),e._v(" "),a("div",{staticClass:"data-result"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[e._v("\n                        响应体\n                        "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.showInputResponseDialog}},[e._v("手动录入")]),e._v(" "),e.response?a("el-button",{attrs:{size:"mini"},on:{click:e.handleClearResponse}},[e._v("清除")]):e._e()],1)]),e._v(" "),a("div",{staticClass:"body"},[a("vue-json-pretty",{directives:[{name:"show",rawName:"v-show",value:e.response,expression:"response"}],staticClass:"json-pretty",attrs:{path:"response",data:e.response,virtual:!0,itemHeight:32},on:{click:e.copyPath},model:{value:e.selectedPath,callback:function(t){e.selectedPath=t},expression:"selectedPath"}}),e._v(" "),e.response?e._e():a("div",{staticClass:"empty-text"},[e._v("暂无数据")])],1)])])],2)],1),e._v(" "),a("el-collapse",{staticClass:"config-collapse",model:{value:e.activeCollapse,callback:function(t){e.activeCollapse=t},expression:"activeCollapse"}},[a("el-collapse-item",{attrs:{name:"loading"}},[a("template",{slot:"title"},[a("div",{staticClass:"config-collapse-title"},[e._v("其他配置")])]),e._v(" "),a("div",{staticClass:"config-wrapper"},[a("div",{staticClass:"config-wrapper-item"},[a("div",{staticClass:"config-title"},[e._v("Loading配置")]),e._v(" "),a("n-form",{attrs:{size:"mini","label-width":"120px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("启用Loading")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("请求响应之前，是否展示Loading动画")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-checkbox",{model:{value:e.dataForm.loadingConfig.enable,callback:function(t){e.$set(e.dataForm.loadingConfig,"enable",t)},expression:"dataForm.loadingConfig.enable"}})],2),e._v(" "),e.dataForm.loadingConfig.enable?[a("n-form-item",{attrs:{label:"文案"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:e.dataForm.loadingConfig.text,callback:function(t){e.$set(e.dataForm.loadingConfig,"text",t)},expression:"dataForm.loadingConfig.text"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"启用遮罩"}},[a("el-checkbox",{model:{value:e.dataForm.loadingConfig.showMask,callback:function(t){e.$set(e.dataForm.loadingConfig,"showMask",t)},expression:"dataForm.loadingConfig.showMask"}})],1),e._v(" "),a("n-form-item",{attrs:{label:"遮罩背景色"}},[a("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.dataForm.loadingConfig.background,callback:function(t){e.$set(e.dataForm.loadingConfig,"background",t)},expression:"dataForm.loadingConfig.background"}})],1)]:e._e()],2)],1),e._v(" "),["api"].includes(e.dataForm.action)?a("div",{staticClass:"config-wrapper-item"},[a("div",{staticClass:"config-title"},[e._v("响应体配置")]),e._v(" "),a("n-form",{attrs:{size:"mini","label-width":"140px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("响应体类型")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("文件类型的响应体可以下载")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-radio-group",{staticClass:"api-button-group",attrs:{size:"small"},model:{value:e.dataForm.responseConfig.isBlob,callback:function(t){e.$set(e.dataForm.responseConfig,"isBlob",t)},expression:"dataForm.responseConfig.isBlob"}},[a("el-radio-button",{attrs:{label:!1}},[e._v("普通类型")]),e._v(" "),a("el-radio-button",{attrs:{label:!0}},[e._v("文件类型")])],1)],2),e._v(" "),e.dataForm.responseConfig.isBlob?[a("n-form-item",[a("template",{slot:"label"},[a("span",[e._v("下载文件名")]),e._v(" "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("提供完整文件后缀名如：我的名单.xlsx")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-checkbox",{model:{value:e.dataForm.responseConfig.isUseHeaderFileName,callback:function(t){e.$set(e.dataForm.responseConfig,"isUseHeaderFileName",t)},expression:"dataForm.responseConfig.isUseHeaderFileName"}},[e._v("从Header中获取")]),e._v(" "),e.dataForm.responseConfig.isUseHeaderFileName?e._e():a("div",{staticClass:"value-input"},[void 0!==e.dataForm.responseConfig.fileName?a("el-tooltip",{attrs:{effect:"dark",content:e.formatTip(e.dataForm.responseConfig.fileName),placement:"top"}},[a("el-tag",{staticClass:"value-tag",attrs:{closable:"","disable-transitions":"",type:e.getTagType(e.dataForm.responseConfig.fileName)},on:{click:function(t){return e.handleTagClick(e.dataForm.responseConfig,"fileName")},close:function(t){e.dataForm.responseConfig.fileName=void 0}}},[e._v("\n                                  "+e._s(e.formatTag(e.getElementName(e.dataForm.responseConfig.fileName),12))+"\n                                ")])],1):a("div",{staticClass:"value-input-content"},[a("el-button-group",[a("el-button",{on:{click:function(t){return e.showInputDialog("text",e.dataForm.responseConfig,"fileName")}}},[e._v("文本\n                                  ")]),e._v(" "),a("el-button",{on:{click:function(t){return e.handleShowVariableSelect(e.dataForm.responseConfig,"fileName")}}},[e._v("变量\n                                  ")])],1)],1)],1)],2)]:e._e()],2)],1):e._e()])],2)],1)],1)]:e._e(),e._v(" "),["js"].includes(e.dataForm.action)?a("div",{staticClass:"action-panel-inner"},[a("js-config",{ref:"jsConfig",staticClass:"js-config",attrs:{"pure-function":!1,"default-arguments":e.defaultArguments,"callback-id":e.dataForm.callbackId,emitEvent:e.dataForm.emitEvent},model:{value:e.dataForm.functionId,callback:function(t){e.$set(e.dataForm,"functionId",t)},expression:"dataForm.functionId"}})],1):e._e()]:e._e()],2),e._v(" "),a("input-dialog",{ref:"inputDialog",on:{confirm:e.handleInputResponse}}),e._v(" "),a("variable-select",{ref:"variableSelect",on:{confirm:e.handleVariableConfirm}}),e._v(" "),a("data-config-select",{ref:"dataConfigSelect",on:{confirm:e.handleDataConfigConfirm}}),e._v(" "),a("data-config-save",{ref:"dataConfigSave"}),e._v(" "),a("event-select",{ref:"eventSelect",on:{confirm:e.handleEventSelectConfirm}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.confirm}},[e._v("确 定")])],1)],1)},i=[]},ya4G:function(e,t,a){var n=a("Hj1f");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("7b95990e",n,!0,{})},ybGJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}},[a("el-option",{attrs:{label:"当前时间",value:0}}),e._v(" "),a("el-option",{attrs:{label:"自定义",value:1}})],1),e._v(" "),1===e.value.type?a("el-date-picker",{staticStyle:{width:"100%","margin-top":"5px"},attrs:{type:"datetime",placeholder:e.placeholder,clearable:"","picker-options":e.pickerOptions},on:{clear:function(t){e.value.value=void 0}},model:{value:e.value.value,callback:function(t){e.$set(e.value,"value",t)},expression:"value.value"}}):e._e()],1)},i=[]},ygUX:function(e,t,a){"use strict";a("mPjm")},"yi+t":function(e,t,a){},yiVE:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"static-config"},[a("n-form",{staticClass:"data-select-form",attrs:{"label-position":"top",size:"mini"},nativeOn:{submit:function(e){e.preventDefault()}}},[a("el-button-group",{staticClass:"api-button-group"},[a("el-button",{staticClass:"api-button",attrs:{type:1===e.type?"primary":""},on:{click:function(t){return e.changeType(1)}}},[e._v("手动录入")]),e._v(" "),a("el-button",{staticClass:"api-button",attrs:{type:2===e.type?"primary":""},on:{click:function(t){return e.changeType(2)}}},[e._v("外部导入")])],1),e._v(" "),1===e.type?a("n-form-item",{staticClass:"sql-form-item"},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n                  JSON\n                  "),a("el-tooltip",{attrs:{"popper-class":"tooltip-question",placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\nJSON文件都是被包裹在一个大括号{}或者方括号[]中，通过key-value的方式来表达数据。JSON的Key必须包裹在一个双引号中，在实践中，编写 JSON 的时候，忘了给 Key 值加双引号或者是把双引号写成单引号是常见错误。\n\nJSON的值只能是以下几种数据格式，其他任何格式都会触发报错，例如 JavaScript 中的 undefined。\n\n1.数字，包含浮点数和整数\n2.字符串，需要包裹在双引号中\n3.Bool值，true 或者 false\n4.数组，需要包裹在方括号中 []\n5.对象，需要包裹在大括号中 {}\n6.Null\n\n还需要注意的是 JSON 文件中无法使用注释，试图添加注释将会引发报错\n                    ")]),e._v(" "),a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("json-code",{staticClass:"sql-code",model:{value:e.json,callback:function(t){e.json=t},expression:"json"}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.handleInput}},[e._v("确定录入")]),e._v(" "),e.showCancel?a("el-button",{staticStyle:{"margin-top":"10px"},attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取消")]):e._e()],1):e._e(),e._v(" "),2===e.type?a("n-form-item",{staticClass:"sql-form-item",attrs:{label:""}},[a("div",{staticClass:"upload-wrapper"},[2===e.type?a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:e.excelLoading,expression:"excelLoading"}],ref:"upload",staticClass:"uploader",attrs:{drag:"",action:"/tamp/upload/","show-file-list":!0,"on-change":e.onChange,"on-remove":e.handleRemove,"auto-upload":!1}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("备注：支持导入excel文件")])]):e._e()],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.exportTemplate}},[e._v("模板导出")]),e._v(" "),e.showCancel?a("el-button",{attrs:{size:"mini"},on:{click:e.cancel}},[e._v("取消")]):e._e()],1):e._e()],1)],1)},i=[]},yzbp:function(e,t,a){},"z/Y0":function(e,t,a){},z7FK:function(e,t,a){},z9rb:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"格式化函数",visible:e.dialogVisible,"close-on-click-modal":!1,"modal-append-to-body":!0,"append-to-body":!0,width:"1000px",top:"5vh","before-close":e.handleClose,"custom-class":"handler-dialog low-code-dialog"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-content"},[a("js-config",{ref:"jsConfig",attrs:{"pure-function":!0,"default-arguments":e.defaultArguments},model:{value:e.functionId,callback:function(t){e.functionId=t},expression:"functionId"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.clear}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)])},i=[]},zAL8:function(e,t,a){"use strict";a.r(t);var n=a("5DBF"),i=a("K9KF");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("N0ix");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);t.default=r.exports},zGGs:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v(e._s(e.name))]),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.options,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:"radius"===t.value?e.isRoseType():e.getType(t.value)},on:{click:function(a){e.value=t.value}}},[a("span",[e._v("\n            "+e._s(t.label)+"\n          ")])])})),1)],1)]),e._v(" "),e.isRoseType()?a("div",{staticClass:"widget-config-item"},[a("div",{staticClass:"name"},[e._v("南丁格尔类型")]),e._v(" "),a("div",{staticClass:"container"},[a("el-button-group",{staticClass:"flex-button-group"},e._l(e.roseOptions,(function(t){return a("el-button",{key:t.value,staticClass:"config-item-button",attrs:{size:"mini",type:e.getType(t.value)},on:{click:function(a){e.value=t.value}}},[a("span",[e._v("\n            "+e._s(t.label)+"\n          ")])])})),1)],1)]):e._e()])},i=[]},zJAP:function(e,t,a){var n=a("E/lN");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("SZ7m").default)("565e63c5",n,!0,{})},zMCT:function(e,t,a){"use strict";a("Ev/y")},zO6m:function(e,t,a){"use strict";a.r(t);var n=a("Ft7V"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},zPZJ:function(e,t,a){"use strict";a.r(t);var n=a("ltX8"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},zV8b:function(e,t,a){"use strict";a("hFDq")},zVQZ:function(e,t,a){"use strict";a.r(t);var n=a("UDYz"),i=a("CGmW");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("L6pN");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"49c85c8e",null);t.default=r.exports},zWNd:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("n-form-item",{staticClass:"config-item"},[a("template",{slot:"label"},[a("span",[e._v(e._s(e.name))]),e._v(" "),a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})])],1),e._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center"}},[e.value?[a("el-button",{attrs:{type:"text"},on:{click:e.chartConfigOpen}},[e._v("代码编辑")]),e._v(" "),a("i",{staticClass:"iconfont icon-delete",staticStyle:{"margin-left":"15px"},on:{click:function(t){e.value=""}}})]:a("el-button",{attrs:{type:"primary"},on:{click:e.chartConfigOpen}},[e._v("配置")])],2)],2),e._v(" "),a("jsFormat",{ref:"jsFormat",attrs:{title:"自定义配置",useType:"chartConfig",defaultArguments:e.defaultArguments,tips:e.codeTips},on:{confirm:e.chartConfigConfirm}})],1)},i=[]},zXB3:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));n(a("YLtl"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={components:{FormatCode:n(a("JPMm")).default},props:{propKey:{type:String},name:{type:String},elementProps:{type:Object,default:function(){return{}}},vue:{type:String},tip:{type:String},optionkey:{type:String}},data:function(){return{}},computed:{value:{get:function(){return this.elementProps[this.propKey]},set:function(e){var t=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,e));this.$emit("update",t)}}},methods:{handleShowFormat:function(){var e;if("progressContent"===this.optionkey)e=[{key:"percent",value:void 0,test:void 0,desc:"百分比"},{key:"successPercent",value:void 0,test:void 0,desc:"成功百分比"}];this.$refs.formatCode.open({formatter:this.value,defaultArguments:e})},handleFormatterConfirm:function(e){this.value=e}}};t.default=r},zY5q:function(e,t,a){},zYB5:function(e,t,a){"use strict";a.r(t);var n=a("1TnD"),i=a("Ji15");for(var l in i)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l);a("YjCU");var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,"019552ca",null);t.default=r.exports},zb8e:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("rePB"));function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var r={name:"configRichInput",components:{Tinymce:n(a("glbJ")).default},props:{propKey:{type:String},name:{type:String},placeholder:{type:String},elementProps:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:!1,value:""}},computed:{hasValue:function(){return!!this.elementProps[this.propKey]}},methods:{handleInitDialog:function(){this.value=this.elementProps[this.propKey],this.dialogVisible=!0},cancel:function(){this.dialogVisible=!1},handleClose:function(e){this.dialogVisible=!1,e()},confirm:function(){var e=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,this.value));this.$emit("update",e),this.dialogVisible=!1},handleDelete:function(){var e=o(o({},this.elementProps),{},(0,i.default)({},this.propKey,""));this.$emit("update",e)}}};t.default=r},ziXV:function(e,t,a){"use strict";a.r(t);var n=a("n8Mr"),i=a.n(n);for(var l in n)["default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(l);t.default=i.a},zjPp:function(e,t,a){"use strict";a("URRq")},zlTU:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("o0o1")),l=n(a("HaE+")),o=n(a("ODXe")),r=n(a("rePB")),s=n(a("KQm4")),c=n(a("zAL8")),u=a("cCei"),d=a("0O+R"),p=n(a("YLtl")),f=a("CDKT"),v=a("tgb1"),m=n(a("UeeE")),h=a("7C5+"),b=a("inkn");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){(0,r.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _={name:"EventSelect",inject:["dndOptions"].concat((0,s.default)(h.pageInject)),components:{TreeSelect:c.default},data:function(){return{dialogVisible:!1,dataForm:{},defaultSelectedKeys:[],rootNode:void 0,eventHandlers:[],selectedEventHandler:null,isFunction:!1,isManage:!1,keyword:"",selectedId:"",editId:"",activeName:"normal",commonKeyword:"",tempVal:"",actionNameMap:{control:"组件操作",link:"跳转页面",open:"打开窗体",close:"关闭窗体",api:"调用API",sql:"调用SQL",js:"调用JS脚本",refresh:"刷新当前页",reset:"刷新组件",devops:"调用自动化运维操作",pageEmit:"触发页面事件",commonAction:"调用公共事件处理行为"}}},computed:{title:function(){return this.isManage?"事件管理":"选择事件"},dynamicProps:function(){return this.getStore().dynamicProps},layoutData:function(){return this.getStore().layoutData},eventsData:function(){return this.getStore().eventsData},treeData:function(){var e=this,t=this.rootNode?p.default.cloneDeep(this.rootNode):p.default.cloneDeep(this.layoutData);return d.treeUtil.forEach([t],(function(t){!!e.eventsData[t.elementId]||(t.disabled=!0);var a=[];t.children.forEach((function(t){if(!["slot"].includes(t.elementType)||!1!==e.getElementPropsById(t.elementId).isVisible&&!["data"].includes(e.getElementPropsById(t.elementId).slotType)){if(["dialog-container","timer-container"].includes(t.elementType)){if(!t.children.length)return;t.disabled=!0}a.push(t)}})),t.children=a,t.elementName=e.getElementPropsById(t.elementId).elementName||t.elementName})),d.treeUtil.filter([t],(function(e){return!e.disabled}))},commonEvents:function(){var e=this,t=this.eventsData[this.layoutData.elementId];return(t&&t[f.PAGE_COMMON_EVENTS]||[]).filter((function(t){return t.name.includes(e.commonKeyword.trim())})).map((function(t){var a=e.actionNameMap[t.action];return y(y({},t),{},{handlerName:t.name,eventName:f.PAGE_COMMON_EVENTS,actionName:a,elementId:e.layoutData.elementId})}))}},methods:{open:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isFunction,a=e.isManage,n=e.selectedId,i=e.elementId;this.isFunction=!!t,this.isManage=!!a,this.handleUpdateEventHandlers(),this.dialogVisible=!0,this.selectedId=i+"-"+n,this.editId=n},clear:function(){this.selectedEventHandler=null,this.selectedId="",this.eventHandlers=[],this.defaultSelectedKeys=[],this.keyword="",this.dialogVisible=!1},handleClose:function(e){this.clear(),e()},confirm:function(){if(this.selectedEventHandler){var e=p.default.cloneDeep(this.selectedEventHandler);delete e.handlerName,delete e.eventName,delete e.eventLabel,delete e.actionName,delete e.elementName,delete e.disabled,delete e.elementId,delete e.isShow,this.$emit("confirm",e,this.editId),this.clear()}else this.$message.error("请选择事件处理程序！")},handleTreeSelectChange:function(e,t){if(!e){var a=t[0];this.defaultSelectedKeys=a?[a.elementId]:[],this.handleUpdateEventHandlers(a)}},handleUpdateEventHandlers:function(e){var t=this,a=e?[e]:d.treeUtil.toList(this.treeData),n=[];a.forEach((function(e){var a,i=e.elementId,l=t.eventsData[i]||{},s=t.getElementPropsById(i).elementName,c=(0,d.getNodeByElementId)(t.layoutData,i);if(!c)return[];var u=v.getConfigByKey.call(t,{elementType:c.elementType,elementVersion:c.elementVersion,elementId:i}).events,p=y(y({},Object.fromEntries(u.map((function(e){return[[e.eventName],e.name]})))),{},(a={},(0,r.default)(a,f.MOUNT,"组件初始化"),(0,r.default)(a,f.DESTROY,"组件销毁"),a));Object.entries(l).forEach((function(e){var a,l=(0,o.default)(e,2),r=l[0],c=l[1];if(r!==f.PAGE_COMMON_EVENTS){var u=p[r],d=m.default.createInstance({id:"id",children:"callback",pid:"callbackId"}),v=[];d.forEach(c,(function(e){var a=t.actionNameMap[e.action],n=e.disabled,l=y(y({},e),{},{handlerName:e.name,eventLabel:u,eventName:r,actionName:a,elementName:s,disabled:n,elementId:i,isShow:!0});v.push(l)})),(a=n).push.apply(a,v)}})),t.isFunction&&(n=n.filter((function(e){return!["js"].includes(e.action)})))})),this.eventHandlers=n},handleRowClick:function(e,t,a){this.selectedEventHandler=e,this.selectedId=e.elementId+"-"+e.id},getIsSelected:function(e){return this.selectedId===e.elementId+"-"+e.id},handleSearch:function(){var e=this;this.eventHandlers=this.eventHandlers.map((function(t){return y(y({},t),{},{isShow:!e.keyword||t.handlerName.includes(e.keyword)})}))},handleAdd:function(){var e=f.PAGE_COMMON_EVENTS,t=this.getStore().layoutData.elementId;this.selectedEventHandler={eventName:e,elementId:t};var a=(0,d.getRandomHexadecimal)(12);this.$refs.handlerDialog.open({id:a,elementId:t,eventName:e,name:"",condition:[],emitEvent:{elementId:t,eventName:e,params:[]}})},switchDisable:function(e,t){var a=p.default.cloneDeep(this.eventsData);a[this.layoutData.elementId][f.PAGE_COMMON_EVENTS].forEach((function(a){a.id===e.id&&(a.disabled=t)})),this.saveEventsData(a)},handleEdit:function(e){var t=p.default.cloneDeep(e);delete t.handlerName,delete t.actionName,delete t.elementName,delete t.isShow,this.selectedEventHandler=e,this.selectedId=e.id,this.$refs.handlerDialog.open(t)},handleDelete:function(e){var t=this;return(0,l.default)(i.default.mark((function a(){var n,l;return i.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("确认要删除“".concat(e.name,"”?"),"提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"});case 2:n=t.eventsData[t.layoutData.elementId][f.PAGE_COMMON_EVENTS].filter((function(t){return t.id!==e.id})),l=y(y({},t.eventsData),{},(0,r.default)({},t.layoutData.elementId,y(y({},t.eventsData[t.layoutData.elementId]),{},{PAGE_COMMON_EVENTS:n}))),t.saveEventsData(l);case 5:case"end":return a.stop()}}),a)})))()},handleUpdateEventData:function(e){var t=this.getStore().eventsData,a=this.selectedEventHandler,n=a.elementId,i=a.eventName,l=t[n]&&t[n][i]||[],o=!l.map((function(e){return e.id})).includes(e.id),c=(0,r.default)({},n,y(y({},t[n]),{},(0,r.default)({},i,o?[].concat((0,s.default)(l),[{id:e.id,functionId:e.functionId,name:e.name,binds:e.binds,condition:e.condition,action:e.action,linkOptions:e.linkOptions,controlOptions:e.controlOptions,apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,callback:e.callback,loadingConfig:e.loadingConfig,responseConfig:e.responseConfig,pageEmit:e.pageEmit,commonActionId:e.commonActionId}]):l.map((function(t){return t.id===e.id?{id:e.id,functionId:e.functionId,name:e.name,binds:e.binds,condition:e.condition,action:e.action,linkOptions:e.linkOptions,controlOptions:e.controlOptions,apiRequest:e.apiRequest,sqlRequest:e.sqlRequest,callback:e.callback,pageEmit:e.pageEmit,commonActionId:e.commonActionId}:t})))));this.saveEventsData(c),this.handleUpdateEventHandlers(this.defaultSelectedKeys.length?{elementId:this.defaultSelectedKeys[0]}:void 0),this.selectedEventHandler=null},getElementPropsById:function(e){var t="app"===e?this.getStore().layoutData.elementId:e;return this.getStore().dynamicProps[t]||{}},saveEventsData:function(e){var t=b.getGlobalConfig.call(this,3);this._storeCommit(u.UPDATE_EVENTS_DATA,{eventsData:e}),(0,b.update)({extra:{oldVal:t,val:b.getGlobalConfig.call(this,3)}})}}};t.default=_},zq99:function(e,t,a){},ztse:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return i}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-config-item"},[a("div",{class:{name:!0,required:e.requiredArr.includes(e.name)}},[e._v("\n      "+e._s(e.name)+"\n      "),e.tip?a("el-tooltip",{attrs:{content:e.tip,"popper-class":"tooltip-question",placement:"top"}},[a("i",{staticClass:"el-icon-question",staticStyle:{"margin-left":"5px"}})]):e._e()],1),e._v(" "),a("n-form-item",{staticClass:"config-item",attrs:{label:"",prop:e.propKey}},[a("el-input",{attrs:{placeholder:e.placeholder,clearable:""},on:{change:e.handleChange},model:{value:e.inputValue,callback:function(t){e.inputValue="string"==typeof t?t.trim():t},expression:"inputValue"}})],1)],1)},i=[]}}]);
//# sourceMappingURL=/@project/web_code/AppDesign-941c78b42fca4defe959.js.map