{"version":3,"sources":["webpack:///src/components/TemplateSave/index.vue","webpack:///./src/components/TemplateSave/index.vue?4fba","webpack:///./src/components/TemplateSave/index.vue?2a82","webpack:///./src/components/TemplateSave/index.vue?6e27","webpack:///./src/components/TemplateSave/index.vue?37c1","webpack:///./src/components/TemplateSave/index.vue"],"names":["content","__esModule","default","module","i","locals","exports","add","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","dialogVisible","handleClose","directives","name","rawName","value","expression","ref","form","rules","nativeOn","$event","preventDefault","model","callback","$$v","$set","_v","staticStyle","thumbUrl","on","$refs","upload2","refName","click","_e","handleThumbChange","_l","item","key","elementName","_s","elementVersion","slot","loading","handleSubmit","close","staticRenderFns","component"],"mappings":"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","file":"80-941c78b42fca4defe959.js","sourcesContent":["<template>\n  <el-dialog\n    custom-class=\"low-code-dialog\"\n    class='data-select-dialog'\n    :title=\"title\"\n    :visible=\"dialogVisible\"\n    :close-on-click-modal=\"false\"\n    :modal-append-to-body=\"true\"\n    :append-to-body=\"true\"\n    width=\"800px\"\n    top=\"15vh\"\n    :before-close=\"handleClose\"\n  >\n    <n-form\n      class=\"create-form\"\n      ref=\"dataForm\"\n      :model=\"form\"\n      :rules=\"rules\"\n      @submit.native.prevent\n      label-width=\"100px\"\n      v-loading=\"loading\"\n    >\n      <n-form-item label=\"模板名称\" prop=\"name\">\n        <el-input\n          class=\"form-input\"\n          v-model=\"form.name\"\n          placeholder=\"请输入模板名称\"\n        />\n      </n-form-item>\n      <n-form-item label=\"模板图标\" prop=\"icon\">\n        <Upload class=\"app-icon\" ref=\"upload\" :isBase64=\"true\" v-model=\"form.icon\" />\n        <div class=\"app-icon-desc\">\n          支持格式为jpg、png、jpeg、bmp，像素120*120，大小不超过1M\n        </div>\n      </n-form-item>\n      <n-form-item label=\"组件预览\" prop=\"thumb\">\n        <el-image\n          v-loading='buildThumbLoading'\n          style=\"width: 100%; height: 100px\"\n          :src='thumbUrl'\n          :preview-src-list='[thumbUrl]'\n          fit='contain'\n        ></el-image>\n        <el-button v-if=\"showUploadBtn\" @click=\"$refs.upload2.$refs[$refs.upload2.refName].click()\">手动上传</el-button>\n        <Upload style=\"display: none;\" ref=\"upload2\" :isBase64=\"true\" v-model=\"form.thumb\" @change=\"handleThumbChange\" />\n      </n-form-item>\n      <n-form-item label=\"模板描述\" prop=\"description\">\n        <el-input\n          class=\"form-textarea\"\n          placeholder=\"请输入模板描述\"\n          v-model=\"form.description\"\n          type=\"textarea\"\n          :rows=\"4\"\n          maxlength=\"120\"\n          show-word-limit\n        />\n      </n-form-item>\n      <n-form-item label=\"包含组件\">\n        <div v-for='item in versionList' :key='item.elementName' class='version-item'>\n          <el-tag class='version-version'>{{item.elementName}}-{{item.elementVersion}}</el-tag>\n        </div>\n      </n-form-item>\n    </n-form>\n\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button\n        :loading=\"loading || !thumbUrl\"\n        type=\"primary\"\n        @click=\"handleSubmit\"\n      >确 认\n      </el-button>\n      <el-button :loading=\"loading\" @click=\"close\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\n  import Upload from '@/components/Upload'\n\n  import { getValidators, required } from '@/utils/validateUtils'\n  import { getNodeByElementId, getRandomHexadecimal, treeUtil } from '@/utils/tree-utils'\n  import _ from 'lodash'\n  import { FUNCTION_FLAG, JS_FLAG, PUBLISH_TEMPLATE } from '@/config'\n  import { downLoadFiles, getImageUrl } from '@/utils'\n  import domtoimage from 'dom-to-image'\n  import { dialogTypes } from '@/config/widgets'\n  import { getPropsValues } from '@/renderer/tools/config'\n  import TriggerTarget from '@/renderer/tools/trigger'\n  import {  HANDLE_COPY, DELETE_LAYOUT_DATA } from '@/config/storeKey'\nimport { pageInject } from '@/renderer/tools/pageStore'\n\n  function dataURLToBlob(dataurl) {\n    let arr = dataurl.split(','),\n      mime = arr[0].match(/:(.*?);/)[1],\n      bstr = atob(arr[1]),\n      n = bstr.length,\n      u8arr = new Uint8Array(n)\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n)\n    }\n    return new Blob([u8arr], { type: mime })\n  }\n\n  export default {\n    inject: [...pageInject],\n    components: {\n      Upload,\n    },\n    data() {\n      return {\n        dialogVisible: false,\n        title: '',\n        loading: false,\n        form: {\n          name: '',\n          icon: '',\n          description: '',\n          config: undefined,\n          id: 0,\n          type: '',\n          thumb: ''\n        },\n        thumbDataUrl: '',\n        thumbData: null,\n        versionList: [],\n        rules: {\n          name: getValidators([\n            {\n              message: '请输入模板名称',\n              include: required,\n              required: true,\n              trigger: 'change',\n            },\n          ]),\n          icon: getValidators([\n            {\n              message: '请选择模板图标',\n              include: required,\n              required: true,\n              trigger: 'change',\n            },\n          ]),\n        },\n        showUploadBtn: false,\n        buildThumbLoading: false,\n        newElementId: ''\n      }\n    },\n    computed: {\n      thumbUrl() {\n        return this.form.thumb ? this.form.thumb : this.thumbDataUrl\n      }\n    },\n    methods: {\n      getImageUrl,\n      async open({ elementId: copyId, data } = {}) {\n        this.title = copyId ? '新增模板' : '修改模板'\n        if (copyId) {\n          const newElement = await this._storeDispatch(HANDLE_COPY, { elementId: copyId })\n          const elementId = newElement.elementId\n          this.newElementId = elementId\n          const layout = getNodeByElementId(this.getStore().layoutData, elementId)\n          const dialogs = !dialogTypes.includes(layout.elementType) ? getNodeByElementId(this.getStore().layoutData, 'dialog-container').children : undefined\n          const timers = layout.elementType !== 'timer' ? getNodeByElementId(this.getStore().layoutData, 'timer-container').children : undefined\n          this.handleBuildThumb(copyId)\n          let events = {}\n          let props = {}\n          treeUtil.forEach([layout, ...dialogs || [], ...timers || []], node => {\n            events[node.elementId] = this.getStore().eventsData[node.elementId]\n            props[node.elementId] = this.getElementPropsById(node.elementId)\n          })\n          const configString = JSON.stringify({\n            events,\n            props\n          })\n\n          const functionExp = new RegExp(`${FUNCTION_FLAG}.{12}`, 'g')\n          const jsExp = new RegExp(`${JS_FLAG}.{12}`, 'g')\n          const usedFunctionIds = configString.match(functionExp) || []\n\n          const functionsData = this.getStore().functionsData.filter((item) =>\n            usedFunctionIds.includes(`${FUNCTION_FLAG}${item.id}`)\n          )\n          const functionsDataString = JSON.stringify(functionsData)\n          const usedJsIds = functionsDataString.match(jsExp) || []\n\n          const jsData = this.getStore().jsData.filter((item) =>\n            usedJsIds.includes(`${JS_FLAG}${item.id}`)\n          )\n          const { dynamicVariables: allDynamicVariables, appVariables: allAppVariables } = this.getStore().dynamicProps[this.getStore().layoutData.elementId]\n          const allConfigString = JSON.stringify({\n            events,\n            props,\n            functionsData,\n            jsData\n          })\n          const dynamicVariablesExp = /(?<=(\\$dynamicVariables\\.)).*?(?=(\\.value))/g\n          const appVariablesExp = /(?<=(\\$appVariables\\.)).*?(?=(\\.value))/g\n          const usedDynamicVariableKeys = allConfigString.match(dynamicVariablesExp) || []\n          const usedAppVariableKeys = allConfigString.match(appVariablesExp) || []\n          const dynamicVariables = {}\n          const appVariables = {}\n          Object.keys(allDynamicVariables || {}).forEach(key => {\n            if (usedDynamicVariableKeys.includes(key)) {\n              dynamicVariables[key] = _.cloneDeep(allDynamicVariables[key])\n            }\n          })\n          Object.keys(allAppVariables || {}).forEach(key => {\n            if (usedAppVariableKeys.includes(key)) {\n              appVariables[key] = _.cloneDeep(allAppVariables[key])\n            }\n          })\n          const config = JSON.stringify({\n            layout,\n            events,\n            props,\n            functionsData,\n            jsData,\n            dialogs,\n            timers,\n            dynamicVariables,\n            appVariables,\n            pageId: this.getStore().layoutData.elementId\n          })\n          this.form.config = config\n          this.form.type = layout.elementType\n        } else {\n          this.form.name = data.name\n          this.form.description = data.description\n          this.form.icon = data.icon\n          this.form.config = data.config\n          this.form.id = data.id\n          this.form.type = data.type\n          this.form.thumb = data.thumb\n        }\n        const configObject = JSON.parse(this.form.config)\n        const list = treeUtil.toList([configObject.layout]).concat([...configObject.dialogs || [], ...configObject.timers || []])\n        const splitString = '__split__'\n        this.versionList = _.uniq(list.map(item => `${item.elementType}${splitString}${item.elementVersion}`)).map(item => {\n          const [elementType, elementVersion] = item.split(splitString)\n          return {\n            elementName: getPropsValues.call(this, { elementType, elementVersion }).elementName,\n            elementVersion\n          }\n        })\n        this.dialogVisible = true\n        this.$nextTick(() => {\n          this.$refs.dataForm.clearValidate()\n        })\n      },\n      close() {\n        this.clear()\n      },\n      handleClose(done) {\n        this.clear()\n        done()\n      },\n      handleBuildThumb(elementId) {\n        this.buildThumbLoading = true\n        setTimeout(() => {\n          const ref = TriggerTarget.getRef(elementId)\n          const targetElement = ref.$el\n          domtoimage.toJpeg(targetElement, {bgcolor: '#ffffff', quality: 0.9, style: {margin: '0'}}).then((dataUrl) => {\n            this.form.thumb = dataUrl\n          }).catch((e) => {\n            this.showUploadBtn = true\n          }).finally(() => {\n            this.buildThumbLoading = false\n          })\n        })\n      },\n      clear() {\n        if (this.newElementId) {\n          this._storeDispatch(DELETE_LAYOUT_DATA, { elementId: this.newElementId })\n        }\n        this.form = {\n          name: '',\n          icon: '',\n          description: '',\n          config: undefined,\n          id: 0,\n          type: '',\n          thumb: ''\n        }\n        this.newElementId = ''\n        this.thumbDataUrl = ''\n        this.thumbData = null\n        this.loading = false\n        this.dialogVisible = false\n        this.showUploadBtn = false\n        this.buildThumbLoading = false\n      },\n      async handleSubmit() {\n        await this.$refs.dataForm.validate()\n        this.loading = true\n        const deepCopy = _.cloneDeep(this.form)\n        deepCopy.public = true\n        deepCopy.id = `${PUBLISH_TEMPLATE}${getRandomHexadecimal(6)}`\n        downLoadFiles(deepCopy, `${deepCopy.name}.json`)\n        this.$message.success('将下载的文件放置到src/config/widgetTemplate文件夹下，刷新页面即可')\n        this.$nextTick(() => {\n          this.loading = false\n        })\n      },\n      getElementPropsById(elementId) {\n        const realId = elementId === 'app' ? this.getStore().layoutData.elementId : elementId\n        return this.getStore().dynamicProps[realId] || {}\n      },\n      handleThumbChange(url) {\n        this.form.thumb = url\n        this.showUploadBtn = !url\n      }\n    }\n  }\n</script>\n\n<style lang='less' scoped>\n  .create-form::v-deep {\n    .version-item {\n      display: inline-block;\n      margin-right: 15px;\n    }\n  }\n</style>\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=709c1b05&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"01f259f7\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"data-select-dialog\",attrs:{\"custom-class\":\"low-code-dialog\",\"title\":_vm.title,\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"modal-append-to-body\":true,\"append-to-body\":true,\"width\":\"800px\",\"top\":\"15vh\",\"before-close\":_vm.handleClose}},[_c('n-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"dataForm\",staticClass:\"create-form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('n-form-item',{attrs:{\"label\":\"模板名称\",\"prop\":\"name\"}},[_c('el-input',{staticClass:\"form-input\",attrs:{\"placeholder\":\"请输入模板名称\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_vm._v(\" \"),_c('n-form-item',{attrs:{\"label\":\"模板图标\",\"prop\":\"icon\"}},[_c('Upload',{ref:\"upload\",staticClass:\"app-icon\",attrs:{\"isBase64\":true},model:{value:(_vm.form.icon),callback:function ($$v) {_vm.$set(_vm.form, \"icon\", $$v)},expression:\"form.icon\"}}),_vm._v(\" \"),_c('div',{staticClass:\"app-icon-desc\"},[_vm._v(\"\\n        支持格式为jpg、png、jpeg、bmp，像素120*120，大小不超过1M\\n      \")])],1),_vm._v(\" \"),_c('n-form-item',{attrs:{\"label\":\"组件预览\",\"prop\":\"thumb\"}},[_c('el-image',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.buildThumbLoading),expression:\"buildThumbLoading\"}],staticStyle:{\"width\":\"100%\",\"height\":\"100px\"},attrs:{\"src\":_vm.thumbUrl,\"preview-src-list\":[_vm.thumbUrl],\"fit\":\"contain\"}}),_vm._v(\" \"),(_vm.showUploadBtn)?_c('el-button',{on:{\"click\":function($event){_vm.$refs.upload2.$refs[_vm.$refs.upload2.refName].click()}}},[_vm._v(\"手动上传\")]):_vm._e(),_vm._v(\" \"),_c('Upload',{ref:\"upload2\",staticStyle:{\"display\":\"none\"},attrs:{\"isBase64\":true},on:{\"change\":_vm.handleThumbChange},model:{value:(_vm.form.thumb),callback:function ($$v) {_vm.$set(_vm.form, \"thumb\", $$v)},expression:\"form.thumb\"}})],1),_vm._v(\" \"),_c('n-form-item',{attrs:{\"label\":\"模板描述\",\"prop\":\"description\"}},[_c('el-input',{staticClass:\"form-textarea\",attrs:{\"placeholder\":\"请输入模板描述\",\"type\":\"textarea\",\"rows\":4,\"maxlength\":\"120\",\"show-word-limit\":\"\"},model:{value:(_vm.form.description),callback:function ($$v) {_vm.$set(_vm.form, \"description\", $$v)},expression:\"form.description\"}})],1),_vm._v(\" \"),_c('n-form-item',{attrs:{\"label\":\"包含组件\"}},_vm._l((_vm.versionList),function(item){return _c('div',{key:item.elementName,staticClass:\"version-item\"},[_c('el-tag',{staticClass:\"version-version\"},[_vm._v(_vm._s(item.elementName)+\"-\"+_vm._s(item.elementVersion))])],1)}),0)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"loading\":_vm.loading || !_vm.thumbUrl,\"type\":\"primary\"},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"确 认\\n    \")]),_vm._v(\" \"),_c('el-button',{attrs:{\"loading\":_vm.loading},on:{\"click\":_vm.close}},[_vm._v(\"取 消\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory=true!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory=true!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/less-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=709c1b05&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=709c1b05&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=709c1b05&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"709c1b05\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}