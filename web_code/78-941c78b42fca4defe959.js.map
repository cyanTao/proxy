{"version":3,"sources":["webpack:///./src/components/CustomApi/components/JsonTreeEditor/styles/common.less?116f","webpack:///./src/components/CustomApi/components/JsonTreeEditor/ArrayView.vue","webpack:///./src/components/CustomApi/components/JsonTreeEditor/styles/common.less","webpack:///./src/components/CustomApi/components/JsonTreeEditor/ArrayView.vue?7a49","webpack:///./src/components/CustomApi/components/JsonTreeEditor/ArrayView.vue?2118","webpack:///src/components/CustomApi/components/JsonTreeEditor/ArrayView.vue"],"names":["component","content","__esModule","default","module","i","locals","exports","add","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","member","index","key","class","hideMyItem","includes","type","_e","isValidateVariableParams","remark","attrs","formatTip","on","$event","handleShowVariableSelect","_v","_s","formatTag","getElementName","staticStyle","getTagType","valueLabel","model","value","callback","$$v","$set","expression","numberInputChange","_n","toUpperCase","closeBlock","childParams","length","showVariable","itemTypeChange","item","label","editorProvide","addItem","delItem","showButtons","staticRenderFns"],"mappings":"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","file":"78-941c78b42fca4defe959.js","sourcesContent":["export * from \"-!../../../../../../node_modules/vue-style-loader/index.js!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/less-loader/dist/cjs.js!./common.less?vue&type=style&index=0&id=5708a996&lang=less&scoped=true&\"","import { render, staticRenderFns } from \"./ArrayView.vue?vue&type=template&id=5708a996&scoped=true&\"\nimport script from \"./ArrayView.vue?vue&type=script&lang=js&\"\nexport * from \"./ArrayView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./styles/common.less?vue&type=style&index=0&id=5708a996&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5708a996\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/less-loader/dist/cjs.js!./common.less?vue&type=style&index=0&id=5708a996&lang=less&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"71d633ca\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block_content array\"},[_c('ol',{staticClass:\"array-ol\"},_vm._l((_vm.value),function(member,index){return _c('li',{key:(\"\" + (member.type) + index),class:['array-item', { 'hide-item': _vm.hideMyItem[index] === true }]},[(!['object', 'array'].includes(member.type))?_c('p',[(\n            member.type === 'variable' || _vm.isValidateVariableParams(member.remark)\n          )?[(member.remark && member.remark !== '$global.__')?_c('el-tag',{staticClass:\"value-tag\",attrs:{\"title\":_vm.formatTip(member.remark),\"closable\":\"\",\"disable-transitions\":\"\"},on:{\"click\":function($event){return _vm.handleShowVariableSelect(member, 'remark')},\"close\":function($event){member.remark = '$global.__'}}},[_vm._v(\"\\n            \"+_vm._s(_vm.formatTag(member.remark))+\"\\n          \")]):_c('el-button',{on:{\"click\":function($event){return _vm.handleShowVariableSelect(member, 'remark')}}},[_vm._v(\"选择变量\\n          \")]),_vm._v(\" \"),(member.remark !== '$global.__' && _vm.getElementName(member.remark))?_c('el-tag',{staticClass:\"value-tag\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"title\":_vm.getElementName(member.remark),\"type\":_vm.getTagType(member.remark)}},[_vm._v(_vm._s(_vm.formatTag(_vm.getElementName(member.remark), 12)))]):_vm._e()]:_vm._e(),_vm._v(\" \"),(member.type === 'string' && !_vm.isValidateVariableParams(member.remark))?_c('el-input',{staticClass:\"val-input\",attrs:{\"title\":_vm.formatTip(_vm.valueLabel + member.remark),\"type\":\"text\",\"placeholder\":\"string\"},model:{value:(member.remark),callback:function ($$v) {_vm.$set(member, \"remark\", $$v)},expression:\"member.remark\"}}):_vm._e(),_vm._v(\" \"),(member.type === 'number')?_c('el-input',{staticClass:\"val-input\",attrs:{\"title\":_vm.formatTip(_vm.valueLabel + member.remark),\"type\":\"number\",\"placeholder\":\"number\"},on:{\"input\":function($event){return _vm.numberInputChange(member)}},model:{value:(member.remark),callback:function ($$v) {_vm.$set(member, \"remark\", _vm._n($$v))},expression:\"member.remark\"}}):_vm._e(),_vm._v(\" \"),(member.type === 'boolean')?_c('el-select',{staticClass:\"val-input\",attrs:{\"title\":_vm.formatTip(_vm.valueLabel + member.remark),\"name\":\"value\"},model:{value:(member.remark),callback:function ($$v) {_vm.$set(member, \"remark\", $$v)},expression:\"member.remark\"}},[_c('el-option',{attrs:{\"value\":true,\"label\":\"true\"}}),_vm._v(\" \"),_c('el-option',{attrs:{\"value\":false,\"label\":\"false\"}})],1):_vm._e()],2):_vm._e(),_vm._v(\" \"),(['object', 'array'].includes(member.type))?_c('div',[_c('span',{class:['json-key', 'json-desc']},[_vm._v(\"\\n          \"+_vm._s(member.type.toUpperCase())+\"\\n          \"),(member.type === 'object' || member.type === 'array')?_c('i',{staticClass:\"collapse-down v-json-edit-icon-arrow_drop_down\",on:{\"click\":function($event){return _vm.closeBlock(index, $event)}}}):_vm._e(),_vm._v(\" \"),(member.type === 'object')?_c('i',[_vm._v(_vm._s('{' + member.childParams.length + '}'))]):_vm._e(),_vm._v(\" \"),(member.type === 'array')?_c('i',[_vm._v(_vm._s('[' + member.childParams.length + ']'))]):_vm._e()]),_vm._v(\" \"),_c('span',{staticClass:\"json-val\"},[(member.type === 'array')?[_c('array-view',{attrs:{\"showVariable\":_vm.showVariable,\"valueLabel\":_vm.valueLabel},model:{value:(member.childParams),callback:function ($$v) {_vm.$set(member, \"childParams\", $$v)},expression:\"member.childParams\"}})]:_vm._e(),_vm._v(\" \"),(member.type === 'object')?[_c('json-view',{attrs:{\"showVariable\":_vm.showVariable,\"valueLabel\":_vm.valueLabel},model:{value:(member.childParams),callback:function ($$v) {_vm.$set(member, \"childParams\", $$v)},expression:\"member.childParams\"}})]:_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"tools\"},[_c('el-select',{staticClass:\"tools-types\",on:{\"change\":function($event){return _vm.itemTypeChange(member)}},model:{value:(member.type),callback:function ($$v) {_vm.$set(member, \"type\", $$v)},expression:\"member.type\"}},_vm._l((_vm.formats),function(item){return _c('el-option',{key:item.value,attrs:{\"value\":item.value,\"label\":item.label,\"disabled\":item.value === 'variable' && !_vm.showVariable}})}),1),_vm._v(\" \"),_c('i',{staticClass:\"dragbar v-json-edit-icon-drag\"}),_vm._v(\" \"),(_vm.editorProvide.showButtons)?_c('i',{staticClass:\"del-btn\",attrs:{\"title\":\"新增同级节点\"},on:{\"click\":_vm.addItem}},[_c('i',{staticClass:\"add-btn-primary\"},[_vm._v(\"+\")])]):_vm._e(),_vm._v(\" \"),(_vm.editorProvide.showButtons)?_c('i',{staticClass:\"del-btn\",on:{\"click\":function($event){return _vm.delItem(_vm.value, member, index)}}},[_c('i',{staticClass:\"add-btn-primary\"},[_vm._v(\"-\")])]):_vm._e()],1)])}),0),_vm._v(\" \"),(!_vm.value.length && _vm.editorProvide.showButtons)?_c('div',{staticClass:\"block add-key\",on:{\"click\":_vm.addItem}},[_c('i',{staticClass:\"add-btn-primary\",attrs:{\"title\":\"新增子节点\"}},[_vm._v(\"+\")])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js?cacheDirectory=true!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArrayView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js?cacheDirectory=true!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArrayView.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"block_content array\">\n    <ol class=\"array-ol\">\n      <li\n        v-for=\"(member, index) in value\"\n        :key=\"`${member.type}${index}`\"\n        :class=\"['array-item', { 'hide-item': hideMyItem[index] === true }]\"\n      >\n        <p v-if=\"!['object', 'array'].includes(member.type)\">\n          <template\n            v-if=\"\n              member.type === 'variable' || isValidateVariableParams(member.remark)\n            \"\n          >\n            <el-tag\n              v-if=\"member.remark && member.remark !== '$global.__'\"\n              :title=\"formatTip(member.remark)\"\n              class=\"value-tag\"\n              closable\n              disable-transitions\n              @click=\"handleShowVariableSelect(member, 'remark')\"\n              @close=\"member.remark = '$global.__'\"\n            >\n              {{ formatTag(member.remark) }}\n            </el-tag>\n            <el-button\n              v-else\n              @click=\"handleShowVariableSelect(member, 'remark')\"\n              >选择变量\n            </el-button>\n            <el-tag\n              v-if=\"member.remark !== '$global.__' && getElementName(member.remark)\"\n              :title=\"getElementName(member.remark)\"\n              class='value-tag'\n              style='margin-left: 10px;'\n              :type='getTagType(member.remark)'\n            >{{formatTag(getElementName(member.remark), 12)}}</el-tag>\n          </template>\n          <el-input\n            :title=\"formatTip(valueLabel + member.remark)\"\n            type=\"text\"\n            v-model=\"member.remark\"\n            class=\"val-input\"\n            v-if=\"member.type === 'string' && !isValidateVariableParams(member.remark)\"\n            placeholder=\"string\"\n          />\n          <el-input\n            :title=\"formatTip(valueLabel + member.remark)\"\n            type=\"number\"\n            v-model.number=\"member.remark\"\n            class=\"val-input\"\n            v-if=\"member.type === 'number'\"\n            placeholder=\"number\"\n            @input=\"numberInputChange(member)\"\n          />\n          <el-select\n            :title=\"formatTip(valueLabel + member.remark)\"\n            name=\"value\"\n            v-model=\"member.remark\"\n            class=\"val-input\"\n            v-if=\"member.type === 'boolean'\"\n          >\n            <el-option :value=\"true\" label=\"true\"></el-option>\n            <el-option :value=\"false\" label=\"false\"></el-option>\n          </el-select>\n        </p>\n        <div v-if=\"['object', 'array'].includes(member.type)\">\n          <span :class=\"['json-key', 'json-desc']\">\n            {{ member.type.toUpperCase() }}\n            <i\n              class=\"collapse-down v-json-edit-icon-arrow_drop_down\"\n              v-if=\"member.type === 'object' || member.type === 'array'\"\n              @click=\"closeBlock(index, $event)\"\n            ></i>\n            <i v-if=\"member.type === 'object'\">{{\n              '{' + member.childParams.length + '}'\n            }}</i>\n            <i v-if=\"member.type === 'array'\">{{\n              '[' + member.childParams.length + ']'\n            }}</i>\n          </span>\n\n          <span class=\"json-val\">\n            <template v-if=\"member.type === 'array'\">\n              <array-view :showVariable=\"showVariable\" :valueLabel=\"valueLabel\" v-model=\"member.childParams\"></array-view>\n            </template>\n\n            <template v-if=\"member.type === 'object'\">\n              <json-view :showVariable=\"showVariable\" :valueLabel=\"valueLabel\" v-model=\"member.childParams\"></json-view>\n            </template>\n          </span>\n        </div>\n\n        <div class=\"tools\">\n          <el-select\n            v-model=\"member.type\"\n            class=\"tools-types\"\n            @change=\"itemTypeChange(member)\"\n          >\n            <el-option\n              v-for=\"item in formats\"\n              :value=\"item.value\"\n              :key=\"item.value\"\n              :label=\"item.label\"\n              :disabled=\"item.value === 'variable' && !showVariable\"\n            ></el-option>\n          </el-select>\n          <i class=\"dragbar v-json-edit-icon-drag\"></i>\n          <i v-if='editorProvide.showButtons' class=\"del-btn\" title=\"新增同级节点\" @click=\"addItem\">\n            <i class=\"add-btn-primary\">+</i>\n          </i>\n          <i v-if='editorProvide.showButtons' class=\"del-btn\" @click=\"delItem(value, member, index)\">\n            <i class=\"add-btn-primary\">-</i>\n          </i>\n        </div>\n      </li>\n    </ol>\n\n    <div v-if='!value.length && editorProvide.showButtons' class=\"block add-key\" @click=\"addItem\">\n      <i title=\"新增子节点\" class=\"add-btn-primary\">+</i>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import mixins from '@/components/CustomApi/components/mixins'\n\n  export default {\n    name: 'ArrayView',\n    mixins: [mixins],\n    props: {\n      value: {\n        type: [Array],\n      },\n      showVariable: {\n        type: Boolean,\n        default: true\n      },\n      valueLabel: {\n        type: String,\n        default: ''\n      },\n    },\n    inject: ['editorProvide', 'callbackId'],\n    data: function() {\n      return {\n        formats: [\n          {\n            label: '参数',\n            value: 'variable',\n          },\n          {\n            label: '文本',\n            value: 'string',\n          },\n          {\n            label: '数值',\n            value: 'number',\n          },\n          {\n            label: '布尔',\n            value: 'boolean',\n          },\n          {\n            label: '对象',\n            value: 'object',\n          },\n          {\n            label: '数组',\n            value: 'array',\n          },\n        ],\n        toAddItem: false,\n        hideMyItem: {},\n        variableRowDetail: null,\n        needName: false\n      }\n    },\n    components: {\n      'json-view': () => import('./JsonView.vue'),\n    },\n    methods: {\n      delItem: function(parentDom, item, index) {\n        this.value.splice(index, 1)\n        if (this.hideMyItem[index]) this.hideMyItem[index] = false\n        this.$emit('input', this.value)\n      },\n\n      addItem: function() {\n        this.editorProvide.addItem(this)\n      },\n\n      closeBlock: function(index, e) {\n        this.$set(this.hideMyItem, index, !this.hideMyItem[index])\n      },\n\n      newItem: function(obj) {\n        let oj = {\n          name: obj.key,\n          type: obj.type,\n        }\n        if (obj.type === 'array' || obj.type === 'object') {\n          oj.childParams = obj.val\n          oj.remark = null\n        } else {\n          oj.childParams = null\n          oj.remark = obj.val\n        }\n\n        this.value.push(oj)\n        this.$emit('input', this.value)\n      },\n\n      onDragEnd: function() {\n        this.$emit('input', this.value)\n      },\n\n      itemTypeChange: function(item) {\n        if (item.type === 'array' || item.type === 'object') {\n          item.childParams = []\n          item.remark = null\n        }\n        if (item.type === 'boolean') {\n          item.remark = true\n        }\n        if (item.type === 'string') {\n          item.remark = ''\n        }\n        if (item.type === 'number') {\n          item.remark = 0\n        }\n        if (item.type === 'variable') {\n          item.remark = '$global.__'\n        }\n      },\n\n      numberInputChange: function(item) {\n        if (!item.remark) item.remark = 0\n      },\n      handleShowVariableSelect(row, key, cb) {\n        this.editorProvide.handleShowVariableSelect(row, key, cb)\n      },\n    },\n  }\n</script>\n<style lang=\"less\" scoped src=\"./styles/common.less\"></style>\n"],"sourceRoot":""}